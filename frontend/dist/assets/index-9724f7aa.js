var WC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var yL=WC((_L,Od)=>{function VC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $b(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Gb={exports:{}},pd={},Hb={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=Symbol.for("react.element"),XC=Symbol.for("react.portal"),YC=Symbol.for("react.fragment"),QC=Symbol.for("react.strict_mode"),KC=Symbol.for("react.profiler"),qC=Symbol.for("react.provider"),ZC=Symbol.for("react.context"),JC=Symbol.for("react.forward_ref"),eP=Symbol.for("react.suspense"),tP=Symbol.for("react.memo"),rP=Symbol.for("react.lazy"),k1=Symbol.iterator;function nP(t){return t===null||typeof t!="object"?null:(t=k1&&t[k1]||t["@@iterator"],typeof t=="function"?t:null)}var Wb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vb=Object.assign,Xb={};function Pa(t,e,r){this.props=t,this.context=e,this.refs=Xb,this.updater=r||Wb}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yb(){}Yb.prototype=Pa.prototype;function _0(t,e,r){this.props=t,this.context=e,this.refs=Xb,this.updater=r||Wb}var x0=_0.prototype=new Yb;x0.constructor=_0;Vb(x0,Pa.prototype);x0.isPureReactComponent=!0;var M1=Array.isArray,Qb=Object.prototype.hasOwnProperty,b0={current:null},Kb={key:!0,ref:!0,__self:!0,__source:!0};function qb(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Qb.call(e,n)&&!Kb.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:du,type:t,key:s,ref:o,props:i,_owner:b0.current}}function iP(t,e){return{$$typeof:du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w0(t){return typeof t=="object"&&t!==null&&t.$$typeof===du}function sP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var O1=/\/+/g;function mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sP(""+t.key):e.toString(36)}function sh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case du:case XC:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+mp(o,0):n,M1(i)?(r="",t!=null&&(r=t.replace(O1,"$&/")+"/"),sh(i,e,r,"",function(h){return h})):i!=null&&(w0(i)&&(i=iP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(O1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",M1(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+mp(s,l);o+=sh(s,e,r,c,i)}else if(c=nP(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+mp(s,l++),o+=sh(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dc(t,e,r){if(t==null)return t;var n=[],i=0;return sh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function oP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pr={current:null},oh={transition:null},aP={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:oh,ReactCurrentOwner:b0};je.Children={map:dc,forEach:function(t,e,r){dc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!w0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Pa;je.Fragment=YC;je.Profiler=KC;je.PureComponent=_0;je.StrictMode=QC;je.Suspense=eP;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aP;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Vb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=b0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Qb.call(e,c)&&!Kb.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:du,type:t.type,key:i,ref:s,props:n,_owner:o}};je.createContext=function(t){return t={$$typeof:ZC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qC,_context:t},t.Consumer=t};je.createElement=qb;je.createFactory=function(t){var e=qb.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:JC,render:t}};je.isValidElement=w0;je.lazy=function(t){return{$$typeof:rP,_payload:{_status:-1,_result:t},_init:oP}};je.memo=function(t,e){return{$$typeof:tP,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=oh.transition;oh.transition={};try{t()}finally{oh.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(t,e){return pr.current.useCallback(t,e)};je.useContext=function(t){return pr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return pr.current.useDeferredValue(t)};je.useEffect=function(t,e){return pr.current.useEffect(t,e)};je.useId=function(){return pr.current.useId()};je.useImperativeHandle=function(t,e,r){return pr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return pr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return pr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return pr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return pr.current.useReducer(t,e,r)};je.useRef=function(t){return pr.current.useRef(t)};je.useState=function(t){return pr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return pr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return pr.current.useTransition()};je.version="18.2.0";Hb.exports=je;var ne=Hb.exports;const Tn=hu(ne),lP=VC({__proto__:null,default:Tn},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP=ne,cP=Symbol.for("react.element"),hP=Symbol.for("react.fragment"),dP=Object.prototype.hasOwnProperty,fP=uP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pP={key:!0,ref:!0,__self:!0,__source:!0};function Zb(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)dP.call(e,n)&&!pP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:cP,type:t,key:s,ref:o,props:i,_owner:fP.current}}pd.Fragment=hP;pd.jsx=Zb;pd.jsxs=Zb;Gb.exports=pd;var V=Gb.exports,Rm={},Jb={exports:{}},Ur={},ew={exports:{}},tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,G){var F=k.length;k.push(G);e:for(;0<F;){var te=F-1>>>1,ae=k[te];if(0<i(ae,G))k[te]=G,k[F]=ae,F=te;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var G=k[0],F=k.pop();if(F!==G){k[0]=F;e:for(var te=0,ae=k.length,Pe=ae>>>1;te<Pe;){var ge=2*(te+1)-1,Me=k[ge],we=ge+1,Re=k[we];if(0>i(Me,F))we<ae&&0>i(Re,Me)?(k[te]=Re,k[we]=F,te=we):(k[te]=Me,k[ge]=F,te=ge);else if(we<ae&&0>i(Re,F))k[te]=Re,k[we]=F,te=we;else break e}}return G}function i(k,G){var F=k.sortIndex-G.sortIndex;return F!==0?F:k.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],d=1,p=null,m=3,y=!1,v=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(k){for(var G=r(h);G!==null;){if(G.callback===null)n(h);else if(G.startTime<=k)n(h),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(h)}}function C(k){if(x=!1,E(k),!v)if(r(c)!==null)v=!0,$(A);else{var G=r(h);G!==null&&X(C,G.startTime-k)}}function A(k,G){v=!1,x&&(x=!1,w(O),O=-1),y=!0;var F=m;try{for(E(G),p=r(c);p!==null&&(!(p.expirationTime>G)||k&&!z());){var te=p.callback;if(typeof te=="function"){p.callback=null,m=p.priorityLevel;var ae=te(p.expirationTime<=G);G=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===r(c)&&n(c),E(G)}else n(c);p=r(c)}if(p!==null)var Pe=!0;else{var ge=r(h);ge!==null&&X(C,ge.startTime-G),Pe=!1}return Pe}finally{p=null,m=F,y=!1}}var D=!1,M=null,O=-1,I=5,U=-1;function z(){return!(t.unstable_now()-U<I)}function B(){if(M!==null){var k=t.unstable_now();U=k;var G=!0;try{G=M(!0,k)}finally{G?R():(D=!1,M=null)}}else D=!1}var R;if(typeof b=="function")R=function(){b(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=B,R=function(){W.postMessage(null)}}else R=function(){T(B,0)};function $(k){M=k,D||(D=!0,R())}function X(k,G){O=T(function(){k(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,$(A))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(k){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var F=m;m=G;try{return k()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=m;m=k;try{return G()}finally{m=F}},t.unstable_scheduleCallback=function(k,G,F){var te=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?te+F:te):F=te,k){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=F+ae,k={id:d++,callback:G,priorityLevel:k,startTime:F,expirationTime:ae,sortIndex:-1},F>te?(k.sortIndex=F,e(h,k),r(c)===null&&k===r(h)&&(x?(w(O),O=-1):x=!0,X(C,F-te))):(k.sortIndex=ae,e(c,k),v||y||(v=!0,$(A))),k},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(k){var G=m;return function(){var F=m;m=G;try{return k.apply(this,arguments)}finally{m=F}}}})(tw);ew.exports=tw;var mP=ew.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw=ne,Br=mP;function ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nw=new Set,Bl={};function ao(t,e){pa(t,e),pa(t+"Capture",e)}function pa(t,e){for(Bl[t]=e,t=0;t<e.length;t++)nw.add(e[t])}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,gP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D1={},N1={};function yP(t){return km.call(N1,t)?!0:km.call(D1,t)?!1:gP.test(t)?N1[t]=!0:(D1[t]=!0,!1)}function vP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _P(t,e,r,n){if(e===null||typeof e>"u"||vP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var E0=/[\-:]([a-z])/g;function S0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(E0,S0);Zt[e]=new mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(E0,S0);Zt[e]=new mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(E0,S0);Zt[e]=new mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new mr(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function T0(t,e,r,n){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_P(e,r,i,n)&&(r=null),n||i===null?yP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ki=rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),zo=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),C0=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),iw=Symbol.for("react.provider"),sw=Symbol.for("react.context"),P0=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),A0=Symbol.for("react.memo"),Xi=Symbol.for("react.lazy"),ow=Symbol.for("react.offscreen"),L1=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,gp;function pl(t){if(gp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gp=e&&e[1]||""}return`
`+gp+t}var yp=!1;function vp(t,e){if(!t||yp)return"";yp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{yp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?pl(t):""}function xP(t){switch(t.tag){case 5:return pl(t.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function Nm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case zo:return"Portal";case Mm:return"Profiler";case C0:return"StrictMode";case Om:return"Suspense";case Dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sw:return(t.displayName||"Context")+".Consumer";case iw:return(t._context.displayName||"Context")+".Provider";case P0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A0:return e=t.displayName||null,e!==null?e:Nm(t.type)||"Memo";case Xi:e=t._payload,t=t._init;try{return Nm(t(e))}catch{}}return null}function bP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nm(e);case 8:return e===C0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wP(t){var e=aw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pc(t){t._valueTracker||(t._valueTracker=wP(t))}function lw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=aw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Eh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lm(t,e){var r=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function F1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uw(t,e){e=e.checked,e!=null&&T0(t,"checked",e,!1)}function Fm(t,e){uw(t,e);var r=fs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bm(t,e.type,r):e.hasOwnProperty("defaultValue")&&Bm(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Bm(t,e,r){(e!=="number"||Eh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ml=Array.isArray;function ta(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Um(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ie(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ie(92));if(ml(r)){if(1<r.length)throw Error(ie(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fs(r)}}function cw(t,e){var r=fs(e.value),n=fs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function z1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mc,dw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mc=mc||document.createElement("div"),mc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EP=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){EP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function fw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function pw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=fw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var SP=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jm(t,e){if(e){if(SP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ie(62))}}function $m(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gm=null;function I0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hm=null,ra=null,na=null;function j1(t){if(t=mu(t)){if(typeof Hm!="function")throw Error(ie(280));var e=t.stateNode;e&&(e=_d(e),Hm(t.stateNode,t.type,e))}}function mw(t){ra?na?na.push(t):na=[t]:ra=t}function gw(){if(ra){var t=ra,e=na;if(na=ra=null,j1(t),e)for(t=0;t<e.length;t++)j1(e[t])}}function yw(t,e){return t(e)}function vw(){}var _p=!1;function _w(t,e,r){if(_p)return t(e,r);_p=!0;try{return yw(t,e,r)}finally{_p=!1,(ra!==null||na!==null)&&(vw(),gw())}}function zl(t,e){var r=t.stateNode;if(r===null)return null;var n=_d(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ie(231,e,typeof r));return r}var Wm=!1;if(Ti)try{var el={};Object.defineProperty(el,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Wm=!1}function TP(t,e,r,n,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(d){this.onError(d)}}var Tl=!1,Sh=null,Th=!1,Vm=null,CP={onError:function(t){Tl=!0,Sh=t}};function PP(t,e,r,n,i,s,o,l,c){Tl=!1,Sh=null,TP.apply(CP,arguments)}function AP(t,e,r,n,i,s,o,l,c){if(PP.apply(this,arguments),Tl){if(Tl){var h=Sh;Tl=!1,Sh=null}else throw Error(ie(198));Th||(Th=!0,Vm=h)}}function lo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function xw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $1(t){if(lo(t)!==t)throw Error(ie(188))}function IP(t){var e=t.alternate;if(!e){if(e=lo(t),e===null)throw Error(ie(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return $1(i),t;if(s===n)return $1(i),e;s=s.sibling}throw Error(ie(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(ie(189))}}if(r.alternate!==n)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?t:e}function bw(t){return t=IP(t),t!==null?ww(t):null}function ww(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ww(t);if(e!==null)return e;t=t.sibling}return null}var Ew=Br.unstable_scheduleCallback,G1=Br.unstable_cancelCallback,RP=Br.unstable_shouldYield,kP=Br.unstable_requestPaint,St=Br.unstable_now,MP=Br.unstable_getCurrentPriorityLevel,R0=Br.unstable_ImmediatePriority,Sw=Br.unstable_UserBlockingPriority,Ch=Br.unstable_NormalPriority,OP=Br.unstable_LowPriority,Tw=Br.unstable_IdlePriority,md=null,qn=null;function DP(t){if(qn&&typeof qn.onCommitFiberRoot=="function")try{qn.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:FP,NP=Math.log,LP=Math.LN2;function FP(t){return t>>>=0,t===0?32:31-(NP(t)/LP|0)|0}var gc=64,yc=4194304;function gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ph(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=gl(l):(s&=o,s!==0&&(n=gl(s)))}else o=r&~i,o!==0?n=gl(o):s!==0&&(n=gl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Cn(e),i=1<<r,n|=t[r],e&=~i;return n}function BP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cn(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=BP(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Xm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cw(){var t=gc;return gc<<=1,!(gc&4194240)&&(gc=64),t}function xp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cn(e),t[e]=r}function zP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Cn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function k0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Cn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Je=0;function Pw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Aw,M0,Iw,Rw,kw,Ym=!1,vc=[],is=null,ss=null,os=null,jl=new Map,$l=new Map,Ki=[],jP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H1(t,e){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function tl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=mu(e),e!==null&&M0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $P(t,e,r,n,i){switch(e){case"focusin":return is=tl(is,t,e,r,n,i),!0;case"dragenter":return ss=tl(ss,t,e,r,n,i),!0;case"mouseover":return os=tl(os,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return jl.set(s,tl(jl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,$l.set(s,tl($l.get(s)||null,t,e,r,n,i)),!0}return!1}function Mw(t){var e=Gs(t.target);if(e!==null){var r=lo(e);if(r!==null){if(e=r.tag,e===13){if(e=xw(r),e!==null){t.blockedOn=e,kw(t.priority,function(){Iw(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Gm=n,r.target.dispatchEvent(n),Gm=null}else return e=mu(r),e!==null&&M0(e),t.blockedOn=r,!1;e.shift()}return!0}function W1(t,e,r){ah(t)&&r.delete(e)}function GP(){Ym=!1,is!==null&&ah(is)&&(is=null),ss!==null&&ah(ss)&&(ss=null),os!==null&&ah(os)&&(os=null),jl.forEach(W1),$l.forEach(W1)}function rl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ym||(Ym=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,GP)))}function Gl(t){function e(i){return rl(i,t)}if(0<vc.length){rl(vc[0],t);for(var r=1;r<vc.length;r++){var n=vc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(is!==null&&rl(is,t),ss!==null&&rl(ss,t),os!==null&&rl(os,t),jl.forEach(e),$l.forEach(e),r=0;r<Ki.length;r++)n=Ki[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ki.length&&(r=Ki[0],r.blockedOn===null);)Mw(r),r.blockedOn===null&&Ki.shift()}var ia=ki.ReactCurrentBatchConfig,Ah=!0;function HP(t,e,r,n){var i=Je,s=ia.transition;ia.transition=null;try{Je=1,O0(t,e,r,n)}finally{Je=i,ia.transition=s}}function WP(t,e,r,n){var i=Je,s=ia.transition;ia.transition=null;try{Je=4,O0(t,e,r,n)}finally{Je=i,ia.transition=s}}function O0(t,e,r,n){if(Ah){var i=Qm(t,e,r,n);if(i===null)Rp(t,e,n,Ih,r),H1(t,n);else if($P(i,t,e,r,n))n.stopPropagation();else if(H1(t,n),e&4&&-1<jP.indexOf(t)){for(;i!==null;){var s=mu(i);if(s!==null&&Aw(s),s=Qm(t,e,r,n),s===null&&Rp(t,e,n,Ih,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Rp(t,e,n,null,r)}}var Ih=null;function Qm(t,e,r,n){if(Ih=null,t=I0(n),t=Gs(t),t!==null)if(e=lo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=xw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ih=t,null}function Ow(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MP()){case R0:return 1;case Sw:return 4;case Ch:case OP:return 16;case Tw:return 536870912;default:return 16}default:return 16}}var Ji=null,D0=null,lh=null;function Dw(){if(lh)return lh;var t,e=D0,r=e.length,n,i="value"in Ji?Ji.value:Ji.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return lh=i.slice(t,1<n?1-n:void 0)}function uh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _c(){return!0}function V1(){return!1}function zr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_c:V1,this.isPropagationStopped=V1,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_c)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_c)},persist:function(){},isPersistent:_c}),e}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N0=zr(Aa),pu=yt({},Aa,{view:0,detail:0}),VP=zr(pu),bp,wp,nl,gd=yt({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(bp=t.screenX-nl.screenX,wp=t.screenY-nl.screenY):wp=bp=0,nl=t),bp)},movementY:function(t){return"movementY"in t?t.movementY:wp}}),X1=zr(gd),XP=yt({},gd,{dataTransfer:0}),YP=zr(XP),QP=yt({},pu,{relatedTarget:0}),Ep=zr(QP),KP=yt({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),qP=zr(KP),ZP=yt({},Aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JP=zr(ZP),eA=yt({},Aa,{data:0}),Y1=zr(eA),tA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nA[t])?!!e[t]:!1}function L0(){return iA}var sA=yt({},pu,{key:function(t){if(t.key){var e=tA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L0,charCode:function(t){return t.type==="keypress"?uh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oA=zr(sA),aA=yt({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q1=zr(aA),lA=yt({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L0}),uA=zr(lA),cA=yt({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),hA=zr(cA),dA=yt({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fA=zr(dA),pA=[9,13,27,32],F0=Ti&&"CompositionEvent"in window,Cl=null;Ti&&"documentMode"in document&&(Cl=document.documentMode);var mA=Ti&&"TextEvent"in window&&!Cl,Nw=Ti&&(!F0||Cl&&8<Cl&&11>=Cl),K1=String.fromCharCode(32),q1=!1;function Lw(t,e){switch(t){case"keyup":return pA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function gA(t,e){switch(t){case"compositionend":return Fw(e);case"keypress":return e.which!==32?null:(q1=!0,K1);case"textInput":return t=e.data,t===K1&&q1?null:t;default:return null}}function yA(t,e){if($o)return t==="compositionend"||!F0&&Lw(t,e)?(t=Dw(),lh=D0=Ji=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nw&&e.locale!=="ko"?null:e.data;default:return null}}var vA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vA[t.type]:e==="textarea"}function Bw(t,e,r,n){mw(n),e=Rh(e,"onChange"),0<e.length&&(r=new N0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pl=null,Hl=null;function _A(t){Qw(t,0)}function yd(t){var e=Wo(t);if(lw(e))return t}function xA(t,e){if(t==="change")return e}var Uw=!1;if(Ti){var Sp;if(Ti){var Tp="oninput"in document;if(!Tp){var J1=document.createElement("div");J1.setAttribute("oninput","return;"),Tp=typeof J1.oninput=="function"}Sp=Tp}else Sp=!1;Uw=Sp&&(!document.documentMode||9<document.documentMode)}function e_(){Pl&&(Pl.detachEvent("onpropertychange",zw),Hl=Pl=null)}function zw(t){if(t.propertyName==="value"&&yd(Hl)){var e=[];Bw(e,Hl,t,I0(t)),_w(_A,e)}}function bA(t,e,r){t==="focusin"?(e_(),Pl=e,Hl=r,Pl.attachEvent("onpropertychange",zw)):t==="focusout"&&e_()}function wA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(Hl)}function EA(t,e){if(t==="click")return yd(e)}function SA(t,e){if(t==="input"||t==="change")return yd(e)}function TA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:TA;function Wl(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!km.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function t_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r_(t,e){var r=t_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=t_(r)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $w(){for(var t=window,e=Eh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Eh(t.document)}return e}function B0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CA(t){var e=$w(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&jw(r.ownerDocument.documentElement,r)){if(n!==null&&B0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=r_(r,s);var o=r_(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PA=Ti&&"documentMode"in document&&11>=document.documentMode,Go=null,Km=null,Al=null,qm=!1;function n_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qm||Go==null||Go!==Eh(n)||(n=Go,"selectionStart"in n&&B0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Al&&Wl(Al,n)||(Al=n,n=Rh(Km,"onSelect"),0<n.length&&(e=new N0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Go)))}function xc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ho={animationend:xc("Animation","AnimationEnd"),animationiteration:xc("Animation","AnimationIteration"),animationstart:xc("Animation","AnimationStart"),transitionend:xc("Transition","TransitionEnd")},Cp={},Gw={};Ti&&(Gw=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function vd(t){if(Cp[t])return Cp[t];if(!Ho[t])return t;var e=Ho[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Gw)return Cp[t]=e[r];return t}var Hw=vd("animationend"),Ww=vd("animationiteration"),Vw=vd("animationstart"),Xw=vd("transitionend"),Yw=new Map,i_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(t,e){Yw.set(t,e),ao(e,[t])}for(var Pp=0;Pp<i_.length;Pp++){var Ap=i_[Pp],AA=Ap.toLowerCase(),IA=Ap[0].toUpperCase()+Ap.slice(1);_s(AA,"on"+IA)}_s(Hw,"onAnimationEnd");_s(Ww,"onAnimationIteration");_s(Vw,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s(Xw,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function s_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,AP(n,e,void 0,t),t.currentTarget=null}function Qw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;s_(i,l,h),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;s_(i,l,h),s=c}}}if(Th)throw t=Vm,Th=!1,Vm=null,t}function nt(t,e){var r=e[rg];r===void 0&&(r=e[rg]=new Set);var n=t+"__bubble";r.has(n)||(Kw(e,t,2,!1),r.add(n))}function Ip(t,e,r){var n=0;e&&(n|=4),Kw(r,t,n,e)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Vl(t){if(!t[bc]){t[bc]=!0,nw.forEach(function(r){r!=="selectionchange"&&(RA.has(r)||Ip(r,!1,t),Ip(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bc]||(e[bc]=!0,Ip("selectionchange",!1,e))}}function Kw(t,e,r,n){switch(Ow(e)){case 1:var i=HP;break;case 4:i=WP;break;default:i=O0}r=i.bind(null,e,r,t),i=void 0,!Wm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Rp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Gs(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}_w(function(){var h=s,d=I0(r),p=[];e:{var m=Yw.get(t);if(m!==void 0){var y=N0,v=t;switch(t){case"keypress":if(uh(r)===0)break e;case"keydown":case"keyup":y=oA;break;case"focusin":v="focus",y=Ep;break;case"focusout":v="blur",y=Ep;break;case"beforeblur":case"afterblur":y=Ep;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=X1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=YP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=uA;break;case Hw:case Ww:case Vw:y=qP;break;case Xw:y=hA;break;case"scroll":y=VP;break;case"wheel":y=fA;break;case"copy":case"cut":case"paste":y=JP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Q1}var x=(e&4)!==0,T=!x&&t==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var b=h,E;b!==null;){E=b;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,w!==null&&(C=zl(b,w),C!=null&&x.push(Xl(b,C,E)))),T)break;b=b.return}0<x.length&&(m=new y(m,v,null,r,d),p.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==Gm&&(v=r.relatedTarget||r.fromElement)&&(Gs(v)||v[Ci]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=h,v=v?Gs(v):null,v!==null&&(T=lo(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=h),y!==v)){if(x=X1,C="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=Q1,C="onPointerLeave",w="onPointerEnter",b="pointer"),T=y==null?m:Wo(y),E=v==null?m:Wo(v),m=new x(C,b+"leave",y,r,d),m.target=T,m.relatedTarget=E,C=null,Gs(d)===h&&(x=new x(w,b+"enter",v,r,d),x.target=E,x.relatedTarget=T,C=x),T=C,y&&v)t:{for(x=y,w=v,b=0,E=x;E;E=Ao(E))b++;for(E=0,C=w;C;C=Ao(C))E++;for(;0<b-E;)x=Ao(x),b--;for(;0<E-b;)w=Ao(w),E--;for(;b--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ao(x),w=Ao(w)}x=null}else x=null;y!==null&&o_(p,m,y,x,!1),v!==null&&T!==null&&o_(p,T,v,x,!0)}}e:{if(m=h?Wo(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var A=xA;else if(Z1(m))if(Uw)A=SA;else{A=wA;var D=bA}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=EA);if(A&&(A=A(t,h))){Bw(p,A,r,d);break e}D&&D(t,m,h),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&Bm(m,"number",m.value)}switch(D=h?Wo(h):window,t){case"focusin":(Z1(D)||D.contentEditable==="true")&&(Go=D,Km=h,Al=null);break;case"focusout":Al=Km=Go=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,n_(p,r,d);break;case"selectionchange":if(PA)break;case"keydown":case"keyup":n_(p,r,d)}var M;if(F0)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else $o?Lw(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Nw&&r.locale!=="ko"&&($o||O!=="onCompositionStart"?O==="onCompositionEnd"&&$o&&(M=Dw()):(Ji=d,D0="value"in Ji?Ji.value:Ji.textContent,$o=!0)),D=Rh(h,O),0<D.length&&(O=new Y1(O,t,null,r,d),p.push({event:O,listeners:D}),M?O.data=M:(M=Fw(r),M!==null&&(O.data=M)))),(M=mA?gA(t,r):yA(t,r))&&(h=Rh(h,"onBeforeInput"),0<h.length&&(d=new Y1("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:h}),d.data=M))}Qw(p,e)})}function Xl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Rh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zl(t,r),s!=null&&n.unshift(Xl(t,s,i)),s=zl(t,e),s!=null&&n.push(Xl(t,s,i))),t=t.return}return n}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function o_(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,h=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&h!==null&&(l=h,i?(c=zl(r,s),c!=null&&o.unshift(Xl(r,c,l))):i||(c=zl(r,s),c!=null&&o.push(Xl(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var kA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function a_(t){return(typeof t=="string"?t:""+t).replace(kA,`
`).replace(MA,"")}function wc(t,e,r){if(e=a_(e),a_(t)!==e&&r)throw Error(ie(425))}function kh(){}var Zm=null,Jm=null;function eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(t){return l_.resolve(null).then(t).catch(NA)}:tg;function NA(t){setTimeout(function(){throw t})}function kp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Gl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Gl(e)}function as(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function u_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ia,Yl="__reactProps$"+Ia,Ci="__reactContainer$"+Ia,rg="__reactEvents$"+Ia,LA="__reactListeners$"+Ia,FA="__reactHandles$"+Ia;function Gs(t){var e=t[Kn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ci]||r[Kn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=u_(t);t!==null;){if(r=t[Kn])return r;t=u_(t)}return e}t=r,r=t.parentNode}return null}function mu(t){return t=t[Kn]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ie(33))}function _d(t){return t[Yl]||null}var ng=[],Vo=-1;function xs(t){return{current:t}}function st(t){0>Vo||(t.current=ng[Vo],ng[Vo]=null,Vo--)}function tt(t,e){Vo++,ng[Vo]=t.current,t.current=e}var ps={},ar=xs(ps),Er=xs(!1),eo=ps;function ma(t,e){var r=t.type.contextTypes;if(!r)return ps;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sr(t){return t=t.childContextTypes,t!=null}function Mh(){st(Er),st(ar)}function c_(t,e,r){if(ar.current!==ps)throw Error(ie(168));tt(ar,e),tt(Er,r)}function qw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ie(108,bP(t)||"Unknown",i));return yt({},r,n)}function Oh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,eo=ar.current,tt(ar,t),tt(Er,Er.current),!0}function h_(t,e,r){var n=t.stateNode;if(!n)throw Error(ie(169));r?(t=qw(t,e,eo),n.__reactInternalMemoizedMergedChildContext=t,st(Er),st(ar),tt(ar,t)):st(Er),tt(Er,r)}var mi=null,xd=!1,Mp=!1;function Zw(t){mi===null?mi=[t]:mi.push(t)}function BA(t){xd=!0,Zw(t)}function bs(){if(!Mp&&mi!==null){Mp=!0;var t=0,e=Je;try{var r=mi;for(Je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mi=null,xd=!1}catch(i){throw mi!==null&&(mi=mi.slice(t+1)),Ew(R0,bs),i}finally{Je=e,Mp=!1}}return null}var Xo=[],Yo=0,Dh=null,Nh=0,Qr=[],Kr=0,to=null,yi=1,vi="";function Ls(t,e){Xo[Yo++]=Nh,Xo[Yo++]=Dh,Dh=t,Nh=e}function Jw(t,e,r){Qr[Kr++]=yi,Qr[Kr++]=vi,Qr[Kr++]=to,to=t;var n=yi;t=vi;var i=32-Cn(n)-1;n&=~(1<<i),r+=1;var s=32-Cn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,yi=1<<32-Cn(e)+i|r<<i|n,vi=s+t}else yi=1<<s|r<<i|n,vi=t}function U0(t){t.return!==null&&(Ls(t,1),Jw(t,1,0))}function z0(t){for(;t===Dh;)Dh=Xo[--Yo],Xo[Yo]=null,Nh=Xo[--Yo],Xo[Yo]=null;for(;t===to;)to=Qr[--Kr],Qr[Kr]=null,vi=Qr[--Kr],Qr[Kr]=null,yi=Qr[--Kr],Qr[Kr]=null}var Lr=null,Nr=null,ut=!1,_n=null;function eE(t,e){var r=qr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function d_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Lr=t,Nr=as(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Lr=t,Nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=to!==null?{id:yi,overflow:vi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Lr=t,Nr=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sg(t){if(ut){var e=Nr;if(e){var r=e;if(!d_(t,e)){if(ig(t))throw Error(ie(418));e=as(r.nextSibling);var n=Lr;e&&d_(t,e)?eE(n,r):(t.flags=t.flags&-4097|2,ut=!1,Lr=t)}}else{if(ig(t))throw Error(ie(418));t.flags=t.flags&-4097|2,ut=!1,Lr=t}}}function f_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Lr=t}function Ec(t){if(t!==Lr)return!1;if(!ut)return f_(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eg(t.type,t.memoizedProps)),e&&(e=Nr)){if(ig(t))throw tE(),Error(ie(418));for(;e;)eE(t,e),e=as(e.nextSibling)}if(f_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Nr=as(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Nr=null}}else Nr=Lr?as(t.stateNode.nextSibling):null;return!0}function tE(){for(var t=Nr;t;)t=as(t.nextSibling)}function ga(){Nr=Lr=null,ut=!1}function j0(t){_n===null?_n=[t]:_n.push(t)}var UA=ki.ReactCurrentBatchConfig;function gn(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Lh=xs(null),Fh=null,Qo=null,$0=null;function G0(){$0=Qo=Fh=null}function H0(t){var e=Lh.current;st(Lh),t._currentValue=e}function og(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function sa(t,e){Fh=t,$0=Qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wr=!0),t.firstContext=null)}function rn(t){var e=t._currentValue;if($0!==t)if(t={context:t,memoizedValue:e,next:null},Qo===null){if(Fh===null)throw Error(ie(308));Qo=t,Fh.dependencies={lanes:0,firstContext:t}}else Qo=Qo.next=t;return e}var Hs=null;function W0(t){Hs===null?Hs=[t]:Hs.push(t)}function rE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,W0(e)):(r.next=i.next,i.next=r),e.interleaved=r,Pi(t,n)}function Pi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Yi=!1;function V0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ls(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,We&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Pi(t,r)}return i=n.interleaved,i===null?(e.next=e,W0(n)):(e.next=i.next,i.next=e),n.interleaved=e,Pi(t,r)}function ch(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,k0(t,r)}}function p_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bh(t,e,r,n){var i=t.updateQueue;Yi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,d=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(m=e,y=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){p=v.call(y,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,m=typeof v=="function"?v.call(y,p,m):v,m==null)break e;p=yt({},p,m);break e;case 2:Yi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=y,c=p):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);no|=o,t.lanes=o,t.memoizedState=p}}function m_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ie(191,i));i.call(n)}}}var iE=new rw.Component().refs;function ag(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var bd={isMounted:function(t){return(t=t._reactInternals)?lo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=fr(),i=cs(t),s=wi(n,i);s.payload=e,r!=null&&(s.callback=r),e=ls(t,s,i),e!==null&&(Pn(e,t,i,n),ch(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=fr(),i=cs(t),s=wi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ls(t,s,i),e!==null&&(Pn(e,t,i,n),ch(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=fr(),n=cs(t),i=wi(r,n);i.tag=2,e!=null&&(i.callback=e),e=ls(t,i,n),e!==null&&(Pn(e,t,n,r),ch(e,t,n))}};function g_(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wl(r,n)||!Wl(i,s):!0}function sE(t,e,r){var n=!1,i=ps,s=e.contextType;return typeof s=="object"&&s!==null?s=rn(s):(i=Sr(e)?eo:ar.current,n=e.contextTypes,s=(n=n!=null)?ma(t,i):ps),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function y_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function lg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=iE,V0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rn(s):(s=Sr(e)?eo:ar.current,i.context=ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ag(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bd.enqueueReplaceState(i,i.state,null),Bh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function il(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var n=r.stateNode}if(!n)throw Error(ie(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===iE&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,t))}return t}function Sc(t,e){throw t=Object.prototype.toString.call(e),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v_(t){var e=t._init;return e(t._payload)}function oE(t){function e(w,b){if(t){var E=w.deletions;E===null?(w.deletions=[b],w.flags|=16):E.push(b)}}function r(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=hs(w,b),w.index=0,w.sibling=null,w}function s(w,b,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<b?(w.flags|=2,b):E):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,b,E,C){return b===null||b.tag!==6?(b=Up(E,w.mode,C),b.return=w,b):(b=i(b,E),b.return=w,b)}function c(w,b,E,C){var A=E.type;return A===jo?d(w,b,E.props.children,C,E.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Xi&&v_(A)===b.type)?(C=i(b,E.props),C.ref=il(w,b,E),C.return=w,C):(C=gh(E.type,E.key,E.props,null,w.mode,C),C.ref=il(w,b,E),C.return=w,C)}function h(w,b,E,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=zp(E,w.mode,C),b.return=w,b):(b=i(b,E.children||[]),b.return=w,b)}function d(w,b,E,C,A){return b===null||b.tag!==7?(b=Ys(E,w.mode,C,A),b.return=w,b):(b=i(b,E),b.return=w,b)}function p(w,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Up(""+b,w.mode,E),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fc:return E=gh(b.type,b.key,b.props,null,w.mode,E),E.ref=il(w,null,b),E.return=w,E;case zo:return b=zp(b,w.mode,E),b.return=w,b;case Xi:var C=b._init;return p(w,C(b._payload),E)}if(ml(b)||Ja(b))return b=Ys(b,w.mode,E,null),b.return=w,b;Sc(w,b)}return null}function m(w,b,E,C){var A=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return A!==null?null:l(w,b,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fc:return E.key===A?c(w,b,E,C):null;case zo:return E.key===A?h(w,b,E,C):null;case Xi:return A=E._init,m(w,b,A(E._payload),C)}if(ml(E)||Ja(E))return A!==null?null:d(w,b,E,C,null);Sc(w,E)}return null}function y(w,b,E,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(E)||null,l(b,w,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case fc:return w=w.get(C.key===null?E:C.key)||null,c(b,w,C,A);case zo:return w=w.get(C.key===null?E:C.key)||null,h(b,w,C,A);case Xi:var D=C._init;return y(w,b,E,D(C._payload),A)}if(ml(C)||Ja(C))return w=w.get(E)||null,d(b,w,C,A,null);Sc(b,C)}return null}function v(w,b,E,C){for(var A=null,D=null,M=b,O=b=0,I=null;M!==null&&O<E.length;O++){M.index>O?(I=M,M=null):I=M.sibling;var U=m(w,M,E[O],C);if(U===null){M===null&&(M=I);break}t&&M&&U.alternate===null&&e(w,M),b=s(U,b,O),D===null?A=U:D.sibling=U,D=U,M=I}if(O===E.length)return r(w,M),ut&&Ls(w,O),A;if(M===null){for(;O<E.length;O++)M=p(w,E[O],C),M!==null&&(b=s(M,b,O),D===null?A=M:D.sibling=M,D=M);return ut&&Ls(w,O),A}for(M=n(w,M);O<E.length;O++)I=y(M,w,O,E[O],C),I!==null&&(t&&I.alternate!==null&&M.delete(I.key===null?O:I.key),b=s(I,b,O),D===null?A=I:D.sibling=I,D=I);return t&&M.forEach(function(z){return e(w,z)}),ut&&Ls(w,O),A}function x(w,b,E,C){var A=Ja(E);if(typeof A!="function")throw Error(ie(150));if(E=A.call(E),E==null)throw Error(ie(151));for(var D=A=null,M=b,O=b=0,I=null,U=E.next();M!==null&&!U.done;O++,U=E.next()){M.index>O?(I=M,M=null):I=M.sibling;var z=m(w,M,U.value,C);if(z===null){M===null&&(M=I);break}t&&M&&z.alternate===null&&e(w,M),b=s(z,b,O),D===null?A=z:D.sibling=z,D=z,M=I}if(U.done)return r(w,M),ut&&Ls(w,O),A;if(M===null){for(;!U.done;O++,U=E.next())U=p(w,U.value,C),U!==null&&(b=s(U,b,O),D===null?A=U:D.sibling=U,D=U);return ut&&Ls(w,O),A}for(M=n(w,M);!U.done;O++,U=E.next())U=y(M,w,O,U.value,C),U!==null&&(t&&U.alternate!==null&&M.delete(U.key===null?O:U.key),b=s(U,b,O),D===null?A=U:D.sibling=U,D=U);return t&&M.forEach(function(B){return e(w,B)}),ut&&Ls(w,O),A}function T(w,b,E,C){if(typeof E=="object"&&E!==null&&E.type===jo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case fc:e:{for(var A=E.key,D=b;D!==null;){if(D.key===A){if(A=E.type,A===jo){if(D.tag===7){r(w,D.sibling),b=i(D,E.props.children),b.return=w,w=b;break e}}else if(D.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Xi&&v_(A)===D.type){r(w,D.sibling),b=i(D,E.props),b.ref=il(w,D,E),b.return=w,w=b;break e}r(w,D);break}else e(w,D);D=D.sibling}E.type===jo?(b=Ys(E.props.children,w.mode,C,E.key),b.return=w,w=b):(C=gh(E.type,E.key,E.props,null,w.mode,C),C.ref=il(w,b,E),C.return=w,w=C)}return o(w);case zo:e:{for(D=E.key;b!==null;){if(b.key===D)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(w,b.sibling),b=i(b,E.children||[]),b.return=w,w=b;break e}else{r(w,b);break}else e(w,b);b=b.sibling}b=zp(E,w.mode,C),b.return=w,w=b}return o(w);case Xi:return D=E._init,T(w,b,D(E._payload),C)}if(ml(E))return v(w,b,E,C);if(Ja(E))return x(w,b,E,C);Sc(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,E),b.return=w,w=b):(r(w,b),b=Up(E,w.mode,C),b.return=w,w=b),o(w)):r(w,b)}return T}var ya=oE(!0),aE=oE(!1),gu={},Zn=xs(gu),Ql=xs(gu),Kl=xs(gu);function Ws(t){if(t===gu)throw Error(ie(174));return t}function X0(t,e){switch(tt(Kl,e),tt(Ql,t),tt(Zn,gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zm(e,t)}st(Zn),tt(Zn,e)}function va(){st(Zn),st(Ql),st(Kl)}function lE(t){Ws(Kl.current);var e=Ws(Zn.current),r=zm(e,t.type);e!==r&&(tt(Ql,t),tt(Zn,r))}function Y0(t){Ql.current===t&&(st(Zn),st(Ql))}var pt=xs(0);function Uh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Op=[];function Q0(){for(var t=0;t<Op.length;t++)Op[t]._workInProgressVersionPrimary=null;Op.length=0}var hh=ki.ReactCurrentDispatcher,Dp=ki.ReactCurrentBatchConfig,ro=0,gt=null,Mt=null,jt=null,zh=!1,Il=!1,ql=0,zA=0;function nr(){throw Error(ie(321))}function K0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!kn(t[r],e[r]))return!1;return!0}function q0(t,e,r,n,i,s){if(ro=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hh.current=t===null||t.memoizedState===null?HA:WA,t=r(n,i),Il){s=0;do{if(Il=!1,ql=0,25<=s)throw Error(ie(301));s+=1,jt=Mt=null,e.updateQueue=null,hh.current=VA,t=r(n,i)}while(Il)}if(hh.current=jh,e=Mt!==null&&Mt.next!==null,ro=0,jt=Mt=gt=null,zh=!1,e)throw Error(ie(300));return t}function Z0(){var t=ql!==0;return ql=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?gt.memoizedState=jt=t:jt=jt.next=t,jt}function nn(){if(Mt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=jt===null?gt.memoizedState:jt.next;if(e!==null)jt=e,Mt=t;else{if(t===null)throw Error(ie(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},jt===null?gt.memoizedState=jt=t:jt=jt.next=t}return jt}function Zl(t,e){return typeof e=="function"?e(t):e}function Np(t){var e=nn(),r=e.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=t;var n=Mt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,h=s;do{var d=h.lane;if((ro&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,gt.lanes|=d,no|=d}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=l,kn(n,e.memoizedState)||(wr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,no|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Lp(t){var e=nn(),r=e.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kn(s,e.memoizedState)||(wr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function uE(){}function cE(t,e){var r=gt,n=nn(),i=e(),s=!kn(n.memoizedState,i);if(s&&(n.memoizedState=i,wr=!0),n=n.queue,J0(fE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,Jl(9,dE.bind(null,r,n,i,e),void 0,null),Gt===null)throw Error(ie(349));ro&30||hE(r,e,i)}return i}function hE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function dE(t,e,r,n){e.value=r,e.getSnapshot=n,pE(e)&&mE(t)}function fE(t,e,r){return r(function(){pE(e)&&mE(t)})}function pE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!kn(t,r)}catch{return!0}}function mE(t){var e=Pi(t,1);e!==null&&Pn(e,t,1,-1)}function __(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:t},e.queue=t,t=t.dispatch=GA.bind(null,gt,t),[e.memoizedState,t]}function Jl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function gE(){return nn().memoizedState}function dh(t,e,r,n){var i=Xn();gt.flags|=t,i.memoizedState=Jl(1|e,r,void 0,n===void 0?null:n)}function wd(t,e,r,n){var i=nn();n=n===void 0?null:n;var s=void 0;if(Mt!==null){var o=Mt.memoizedState;if(s=o.destroy,n!==null&&K0(n,o.deps)){i.memoizedState=Jl(e,r,s,n);return}}gt.flags|=t,i.memoizedState=Jl(1|e,r,s,n)}function x_(t,e){return dh(8390656,8,t,e)}function J0(t,e){return wd(2048,8,t,e)}function yE(t,e){return wd(4,2,t,e)}function vE(t,e){return wd(4,4,t,e)}function _E(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xE(t,e,r){return r=r!=null?r.concat([t]):null,wd(4,4,_E.bind(null,e,t),r)}function ey(){}function bE(t,e){var r=nn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&K0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function wE(t,e){var r=nn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&K0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function EE(t,e,r){return ro&21?(kn(r,e)||(r=Cw(),gt.lanes|=r,no|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wr=!0),t.memoizedState=r)}function jA(t,e){var r=Je;Je=r!==0&&4>r?r:4,t(!0);var n=Dp.transition;Dp.transition={};try{t(!1),e()}finally{Je=r,Dp.transition=n}}function SE(){return nn().memoizedState}function $A(t,e,r){var n=cs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},TE(t))CE(e,r);else if(r=rE(t,e,r,n),r!==null){var i=fr();Pn(r,t,n,i),PE(r,e,n)}}function GA(t,e,r){var n=cs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(TE(t))CE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,kn(l,o)){var c=e.interleaved;c===null?(i.next=i,W0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=rE(t,e,i,n),r!==null&&(i=fr(),Pn(r,t,n,i),PE(r,e,n))}}function TE(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function CE(t,e){Il=zh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function PE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,k0(t,r)}}var jh={readContext:rn,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},HA={readContext:rn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:rn,useEffect:x_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,dh(4194308,4,_E.bind(null,e,t),r)},useLayoutEffect:function(t,e){return dh(4194308,4,t,e)},useInsertionEffect:function(t,e){return dh(4,2,t,e)},useMemo:function(t,e){var r=Xn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Xn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$A.bind(null,gt,t),[n.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:__,useDebugValue:ey,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=__(!1),e=t[0];return t=jA.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gt,i=Xn();if(ut){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=e(),Gt===null)throw Error(ie(349));ro&30||hE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,x_(fE.bind(null,n,s,t),[t]),n.flags|=2048,Jl(9,dE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Xn(),e=Gt.identifierPrefix;if(ut){var r=vi,n=yi;r=(n&~(1<<32-Cn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ql++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=zA++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WA={readContext:rn,useCallback:bE,useContext:rn,useEffect:J0,useImperativeHandle:xE,useInsertionEffect:yE,useLayoutEffect:vE,useMemo:wE,useReducer:Np,useRef:gE,useState:function(){return Np(Zl)},useDebugValue:ey,useDeferredValue:function(t){var e=nn();return EE(e,Mt.memoizedState,t)},useTransition:function(){var t=Np(Zl)[0],e=nn().memoizedState;return[t,e]},useMutableSource:uE,useSyncExternalStore:cE,useId:SE,unstable_isNewReconciler:!1},VA={readContext:rn,useCallback:bE,useContext:rn,useEffect:J0,useImperativeHandle:xE,useInsertionEffect:yE,useLayoutEffect:vE,useMemo:wE,useReducer:Lp,useRef:gE,useState:function(){return Lp(Zl)},useDebugValue:ey,useDeferredValue:function(t){var e=nn();return Mt===null?e.memoizedState=t:EE(e,Mt.memoizedState,t)},useTransition:function(){var t=Lp(Zl)[0],e=nn().memoizedState;return[t,e]},useMutableSource:uE,useSyncExternalStore:cE,useId:SE,unstable_isNewReconciler:!1};function _a(t,e){try{var r="",n=e;do r+=xP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ug(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function AE(t,e,r){r=wi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gh||(Gh=!0,_g=n),ug(t,e)},r}function IE(t,e,r){r=wi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ug(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ug(t,e),typeof n!="function"&&(us===null?us=new Set([this]):us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function b_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new XA;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=aI.bind(null,t,e,r),e.then(t,t))}function w_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=wi(-1,1),e.tag=2,ls(r,e,1))),r.lanes|=1),t)}var YA=ki.ReactCurrentOwner,wr=!1;function dr(t,e,r,n){e.child=t===null?aE(e,null,r,n):ya(e,t.child,r,n)}function S_(t,e,r,n,i){r=r.render;var s=e.ref;return sa(e,i),n=q0(t,e,r,n,s,i),r=Z0(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(ut&&r&&U0(e),e.flags|=1,dr(t,e,n,i),e.child)}function T_(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!ly(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,RE(t,e,s,n,i)):(t=gh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Wl,r(o,n)&&t.ref===e.ref)return Ai(t,e,i)}return e.flags|=1,t=hs(s,n),t.ref=e.ref,t.return=e,e.child=t}function RE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Wl(s,n)&&t.ref===e.ref)if(wr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(wr=!0);else return e.lanes=t.lanes,Ai(t,e,i)}return cg(t,e,r,n,i)}function kE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(qo,Dr),Dr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(qo,Dr),Dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,tt(qo,Dr),Dr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,tt(qo,Dr),Dr|=n;return dr(t,e,i,r),e.child}function ME(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function cg(t,e,r,n,i){var s=Sr(r)?eo:ar.current;return s=ma(e,s),sa(e,i),r=q0(t,e,r,n,s,i),n=Z0(),t!==null&&!wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(ut&&n&&U0(e),e.flags|=1,dr(t,e,r,i),e.child)}function C_(t,e,r,n,i){if(Sr(r)){var s=!0;Oh(e)}else s=!1;if(sa(e,i),e.stateNode===null)fh(t,e),sE(e,r,n),lg(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=rn(h):(h=Sr(r)?eo:ar.current,h=ma(e,h));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==h)&&y_(e,o,n,h),Yi=!1;var m=e.memoizedState;o.state=m,Bh(e,n,o,i),c=e.memoizedState,l!==n||m!==c||Er.current||Yi?(typeof d=="function"&&(ag(e,r,d,n),c=e.memoizedState),(l=Yi||g_(e,r,l,n,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,nE(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:gn(e.type,l),o.props=h,p=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=rn(c):(c=Sr(r)?eo:ar.current,c=ma(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&y_(e,o,n,c),Yi=!1,m=e.memoizedState,o.state=m,Bh(e,n,o,i);var v=e.memoizedState;l!==p||m!==v||Er.current||Yi?(typeof y=="function"&&(ag(e,r,y,n),v=e.memoizedState),(h=Yi||g_(e,r,h,n,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return hg(t,e,r,n,s,i)}function hg(t,e,r,n,i,s){ME(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&h_(e,r,!1),Ai(t,e,s);n=e.stateNode,YA.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ya(e,t.child,null,s),e.child=ya(e,null,l,s)):dr(t,e,l,s),e.memoizedState=n.state,i&&h_(e,r,!0),e.child}function OE(t){var e=t.stateNode;e.pendingContext?c_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&c_(t,e.context,!1),X0(t,e.containerInfo)}function P_(t,e,r,n,i){return ga(),j0(i),e.flags|=256,dr(t,e,r,n),e.child}var dg={dehydrated:null,treeContext:null,retryLane:0};function fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function DE(t,e,r){var n=e.pendingProps,i=pt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(pt,i&1),t===null)return sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Td(o,n,0,null),t=Ys(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fg(r),e.memoizedState=dg,t):ty(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return QA(t,e,o,n,l,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=hs(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=hs(l,s):(s=Ys(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?fg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=dg,n}return s=t.child,t=s.sibling,n=hs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ty(t,e){return e=Td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tc(t,e,r,n){return n!==null&&j0(n),ya(e,t.child,null,r),t=ty(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QA(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Fp(Error(ie(422))),Tc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Td({mode:"visible",children:n.children},i,0,null),s=Ys(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ya(e,t.child,null,o),e.child.memoizedState=fg(o),e.memoizedState=dg,s);if(!(e.mode&1))return Tc(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ie(419)),n=Fp(s,n,void 0),Tc(t,e,o,n)}if(l=(o&t.childLanes)!==0,wr||l){if(n=Gt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pi(t,i),Pn(n,t,i,-1))}return ay(),n=Fp(Error(ie(421))),Tc(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nr=as(i.nextSibling),Lr=e,ut=!0,_n=null,t!==null&&(Qr[Kr++]=yi,Qr[Kr++]=vi,Qr[Kr++]=to,yi=t.id,vi=t.overflow,to=e),e=ty(e,n.children),e.flags|=4096,e)}function A_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),og(t.return,e,r)}function Bp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function NE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(dr(t,e,n.children,r),n=pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,r,e);else if(t.tag===19)A_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tt(pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Uh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Bp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Uh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Bp(e,!0,r,null,s);break;case"together":Bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ai(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),no|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ie(153));if(e.child!==null){for(t=e.child,r=hs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=hs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function KA(t,e,r){switch(e.tag){case 3:OE(e),ga();break;case 5:lE(e);break;case 1:Sr(e.type)&&Oh(e);break;case 4:X0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;tt(Lh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tt(pt,pt.current&1),e.flags|=128,null):r&e.child.childLanes?DE(t,e,r):(tt(pt,pt.current&1),t=Ai(t,e,r),t!==null?t.sibling:null);tt(pt,pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return NE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(pt,pt.current),n)break;return null;case 22:case 23:return e.lanes=0,kE(t,e,r)}return Ai(t,e,r)}var LE,pg,FE,BE;LE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pg=function(){};FE=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ws(Zn.current);var s=null;switch(r){case"input":i=Lm(t,i),n=Lm(t,n),s=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),s=[];break;case"textarea":i=Um(t,i),n=Um(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=kh)}jm(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Bl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(l=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&nt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};BE=function(t,e,r,n){r!==n&&(e.flags|=4)};function sl(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function qA(t,e,r){var n=e.pendingProps;switch(z0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(e),null;case 1:return Sr(e.type)&&Mh(),ir(e),null;case 3:return n=e.stateNode,va(),st(Er),st(ar),Q0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(wg(_n),_n=null))),pg(t,e),ir(e),null;case 5:Y0(e);var i=Ws(Kl.current);if(r=e.type,t!==null&&e.stateNode!=null)FE(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ie(166));return ir(e),null}if(t=Ws(Zn.current),Ec(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Kn]=e,n[Yl]=s,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<yl.length;i++)nt(yl[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":F1(n,s),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nt("invalid",n);break;case"textarea":U1(n,s),nt("invalid",n)}jm(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&wc(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&wc(n.textContent,l,t),i=["children",""+l]):Bl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nt("scroll",n)}switch(r){case"input":pc(n),B1(n,s,!0);break;case"textarea":pc(n),z1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=kh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Kn]=e,t[Yl]=n,LE(t,e,!1,!1),e.stateNode=t;e:{switch(o=$m(r,n),r){case"dialog":nt("cancel",t),nt("close",t),i=n;break;case"iframe":case"object":case"embed":nt("load",t),i=n;break;case"video":case"audio":for(i=0;i<yl.length;i++)nt(yl[i],t);i=n;break;case"source":nt("error",t),i=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=n;break;case"details":nt("toggle",t),i=n;break;case"input":F1(t,n),i=Lm(t,n),nt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),nt("invalid",t);break;case"textarea":U1(t,n),i=Um(t,n),nt("invalid",t);break;default:i=n}jm(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?pw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dw(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ul(t,c):typeof c=="number"&&Ul(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&nt("scroll",t):c!=null&&T0(t,s,c,o))}switch(r){case"input":pc(t),B1(t,n,!1);break;case"textarea":pc(t),z1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ta(t,!!n.multiple,s,!1):n.defaultValue!=null&&ta(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ir(e),null;case 6:if(t&&e.stateNode!=null)BE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ie(166));if(r=Ws(Kl.current),Ws(Zn.current),Ec(e)){if(n=e.stateNode,r=e.memoizedProps,n[Kn]=e,(s=n.nodeValue!==r)&&(t=Lr,t!==null))switch(t.tag){case 3:wc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Kn]=e,e.stateNode=n}return ir(e),null;case 13:if(st(pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Nr!==null&&e.mode&1&&!(e.flags&128))tE(),ga(),e.flags|=98560,s=!1;else if(s=Ec(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ie(317));s[Kn]=e}else ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ir(e),s=!1}else _n!==null&&(wg(_n),_n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Ot===0&&(Ot=3):ay())),e.updateQueue!==null&&(e.flags|=4),ir(e),null);case 4:return va(),pg(t,e),t===null&&Vl(e.stateNode.containerInfo),ir(e),null;case 10:return H0(e.type._context),ir(e),null;case 17:return Sr(e.type)&&Mh(),ir(e),null;case 19:if(st(pt),s=e.memoizedState,s===null)return ir(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)sl(s,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Uh(t),o!==null){for(e.flags|=128,sl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tt(pt,pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>xa&&(e.flags|=128,n=!0,sl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Uh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return ir(e),null}else 2*St()-s.renderingStartTime>xa&&r!==1073741824&&(e.flags|=128,n=!0,sl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,r=pt.current,tt(pt,n?r&1|2:r&1),e):(ir(e),null);case 22:case 23:return oy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Dr&1073741824&&(ir(e),e.subtreeFlags&6&&(e.flags|=8192)):ir(e),null;case 24:return null;case 25:return null}throw Error(ie(156,e.tag))}function ZA(t,e){switch(z0(e),e.tag){case 1:return Sr(e.type)&&Mh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return va(),st(Er),st(ar),Q0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Y0(e),null;case 13:if(st(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ie(340));ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(pt),null;case 4:return va(),null;case 10:return H0(e.type._context),null;case 22:case 23:return oy(),null;case 24:return null;default:return null}}var Cc=!1,sr=!1,JA=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ko(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_t(t,e,n)}else r.current=null}function mg(t,e,r){try{r()}catch(n){_t(t,e,n)}}var I_=!1;function eI(t,e){if(Zm=Ah,t=$w(),B0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,h=0,d=0,p=t,m=null;t:for(;;){for(var y;p!==r||i!==0&&p.nodeType!==3||(l=o+i),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===r&&++h===i&&(l=o),m===s&&++d===n&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jm={focusedElem:t,selectionRange:r},Ah=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,T=v.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:gn(e.type,x),T);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(C){_t(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return v=I_,I_=!1,v}function Rl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mg(e,r,s)}i=i.next}while(i!==n)}}function Ed(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function gg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function UE(t){var e=t.alternate;e!==null&&(t.alternate=null,UE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[Yl],delete e[rg],delete e[LA],delete e[FA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zE(t){return t.tag===5||t.tag===3||t.tag===4}function R_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=kh));else if(n!==4&&(t=t.child,t!==null))for(yg(t,e,r),t=t.sibling;t!==null;)yg(t,e,r),t=t.sibling}function vg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(vg(t,e,r),t=t.sibling;t!==null;)vg(t,e,r),t=t.sibling}var Xt=null,vn=!1;function Wi(t,e,r){for(r=r.child;r!==null;)jE(t,e,r),r=r.sibling}function jE(t,e,r){if(qn&&typeof qn.onCommitFiberUnmount=="function")try{qn.onCommitFiberUnmount(md,r)}catch{}switch(r.tag){case 5:sr||Ko(r,e);case 6:var n=Xt,i=vn;Xt=null,Wi(t,e,r),Xt=n,vn=i,Xt!==null&&(vn?(t=Xt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xt.removeChild(r.stateNode));break;case 18:Xt!==null&&(vn?(t=Xt,r=r.stateNode,t.nodeType===8?kp(t.parentNode,r):t.nodeType===1&&kp(t,r),Gl(t)):kp(Xt,r.stateNode));break;case 4:n=Xt,i=vn,Xt=r.stateNode.containerInfo,vn=!0,Wi(t,e,r),Xt=n,vn=i;break;case 0:case 11:case 14:case 15:if(!sr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mg(r,e,o),i=i.next}while(i!==n)}Wi(t,e,r);break;case 1:if(!sr&&(Ko(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){_t(r,e,l)}Wi(t,e,r);break;case 21:Wi(t,e,r);break;case 22:r.mode&1?(sr=(n=sr)||r.memoizedState!==null,Wi(t,e,r),sr=n):Wi(t,e,r);break;default:Wi(t,e,r)}}function k_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new JA),e.forEach(function(n){var i=uI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xt=l.stateNode,vn=!1;break e;case 3:Xt=l.stateNode.containerInfo,vn=!0;break e;case 4:Xt=l.stateNode.containerInfo,vn=!0;break e}l=l.return}if(Xt===null)throw Error(ie(160));jE(s,o,i),Xt=null,vn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){_t(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$E(e,t),e=e.sibling}function $E(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),Gn(t),n&4){try{Rl(3,t,t.return),Ed(3,t)}catch(x){_t(t,t.return,x)}try{Rl(5,t,t.return)}catch(x){_t(t,t.return,x)}}break;case 1:cn(e,t),Gn(t),n&512&&r!==null&&Ko(r,r.return);break;case 5:if(cn(e,t),Gn(t),n&512&&r!==null&&Ko(r,r.return),t.flags&32){var i=t.stateNode;try{Ul(i,"")}catch(x){_t(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&uw(i,s),$m(l,o);var h=$m(l,s);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?pw(i,p):d==="dangerouslySetInnerHTML"?dw(i,p):d==="children"?Ul(i,p):T0(i,d,p,h)}switch(l){case"input":Fm(i,s);break;case"textarea":cw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ta(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?ta(i,!!s.multiple,s.defaultValue,!0):ta(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yl]=s}catch(x){_t(t,t.return,x)}}break;case 6:if(cn(e,t),Gn(t),n&4){if(t.stateNode===null)throw Error(ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){_t(t,t.return,x)}}break;case 3:if(cn(e,t),Gn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(x){_t(t,t.return,x)}break;case 4:cn(e,t),Gn(t);break;case 13:cn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(iy=St())),n&4&&k_(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(sr=(h=sr)||d,cn(e,t),sr=h):cn(e,t),Gn(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(p=me=d;me!==null;){switch(m=me,y=m.child,m.tag){case 0:case 11:case 14:case 15:Rl(4,m,m.return);break;case 1:Ko(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){_t(n,r,x)}}break;case 5:Ko(m,m.return);break;case 22:if(m.memoizedState!==null){O_(p);continue}}y!==null?(y.return=m,me=y):O_(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=fw("display",o))}catch(x){_t(t,t.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(x){_t(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:cn(e,t),Gn(t),n&4&&k_(t);break;case 21:break;default:cn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(zE(r)){var n=r;break e}r=r.return}throw Error(ie(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ul(i,""),n.flags&=-33);var s=R_(t);vg(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=R_(t);yg(t,l,o);break;default:throw Error(ie(161))}}catch(c){_t(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tI(t,e,r){me=t,GE(t)}function GE(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Cc;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||sr;l=Cc;var h=sr;if(Cc=o,(sr=c)&&!h)for(me=i;me!==null;)o=me,c=o.child,o.tag===22&&o.memoizedState!==null?D_(i):c!==null?(c.return=o,me=c):D_(i);for(;s!==null;)me=s,GE(s),s=s.sibling;me=i,Cc=l,sr=h}M_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):M_(t)}}function M_(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sr||Ed(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!sr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:gn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&m_(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}m_(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Gl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}sr||e.flags&512&&gg(e)}catch(m){_t(e,e.return,m)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function O_(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function D_(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ed(4,e)}catch(c){_t(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){_t(e,i,c)}}var s=e.return;try{gg(e)}catch(c){_t(e,s,c)}break;case 5:var o=e.return;try{gg(e)}catch(c){_t(e,o,c)}}}catch(c){_t(e,e.return,c)}if(e===t){me=null;break}var l=e.sibling;if(l!==null){l.return=e.return,me=l;break}me=e.return}}var rI=Math.ceil,$h=ki.ReactCurrentDispatcher,ry=ki.ReactCurrentOwner,tn=ki.ReactCurrentBatchConfig,We=0,Gt=null,It=null,qt=0,Dr=0,qo=xs(0),Ot=0,eu=null,no=0,Sd=0,ny=0,kl=null,br=null,iy=0,xa=1/0,pi=null,Gh=!1,_g=null,us=null,Pc=!1,es=null,Hh=0,Ml=0,xg=null,ph=-1,mh=0;function fr(){return We&6?St():ph!==-1?ph:ph=St()}function cs(t){return t.mode&1?We&2&&qt!==0?qt&-qt:UA.transition!==null?(mh===0&&(mh=Cw()),mh):(t=Je,t!==0||(t=window.event,t=t===void 0?16:Ow(t.type)),t):1}function Pn(t,e,r,n){if(50<Ml)throw Ml=0,xg=null,Error(ie(185));fu(t,r,n),(!(We&2)||t!==Gt)&&(t===Gt&&(!(We&2)&&(Sd|=r),Ot===4&&qi(t,qt)),Tr(t,n),r===1&&We===0&&!(e.mode&1)&&(xa=St()+500,xd&&bs()))}function Tr(t,e){var r=t.callbackNode;UP(t,e);var n=Ph(t,t===Gt?qt:0);if(n===0)r!==null&&G1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&G1(r),e===1)t.tag===0?BA(N_.bind(null,t)):Zw(N_.bind(null,t)),DA(function(){!(We&6)&&bs()}),r=null;else{switch(Pw(n)){case 1:r=R0;break;case 4:r=Sw;break;case 16:r=Ch;break;case 536870912:r=Tw;break;default:r=Ch}r=qE(r,HE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function HE(t,e){if(ph=-1,mh=0,We&6)throw Error(ie(327));var r=t.callbackNode;if(oa()&&t.callbackNode!==r)return null;var n=Ph(t,t===Gt?qt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Wh(t,n);else{e=n;var i=We;We|=2;var s=VE();(Gt!==t||qt!==e)&&(pi=null,xa=St()+500,Xs(t,e));do try{sI();break}catch(l){WE(t,l)}while(1);G0(),$h.current=s,We=i,It!==null?e=0:(Gt=null,qt=0,e=Ot)}if(e!==0){if(e===2&&(i=Xm(t),i!==0&&(n=i,e=bg(t,i))),e===1)throw r=eu,Xs(t,0),qi(t,n),Tr(t,St()),r;if(e===6)qi(t,n);else{if(i=t.current.alternate,!(n&30)&&!nI(i)&&(e=Wh(t,n),e===2&&(s=Xm(t),s!==0&&(n=s,e=bg(t,s))),e===1))throw r=eu,Xs(t,0),qi(t,n),Tr(t,St()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ie(345));case 2:Fs(t,br,pi);break;case 3:if(qi(t,n),(n&130023424)===n&&(e=iy+500-St(),10<e)){if(Ph(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){fr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tg(Fs.bind(null,t,br,pi),e);break}Fs(t,br,pi);break;case 4:if(qi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Cn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rI(n/1960))-n,10<n){t.timeoutHandle=tg(Fs.bind(null,t,br,pi),n);break}Fs(t,br,pi);break;case 5:Fs(t,br,pi);break;default:throw Error(ie(329))}}}return Tr(t,St()),t.callbackNode===r?HE.bind(null,t):null}function bg(t,e){var r=kl;return t.current.memoizedState.isDehydrated&&(Xs(t,e).flags|=256),t=Wh(t,e),t!==2&&(e=br,br=r,e!==null&&wg(e)),t}function wg(t){br===null?br=t:br.push.apply(br,t)}function nI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~ny,e&=~Sd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Cn(e),n=1<<r;t[r]=-1,e&=~n}}function N_(t){if(We&6)throw Error(ie(327));oa();var e=Ph(t,0);if(!(e&1))return Tr(t,St()),null;var r=Wh(t,e);if(t.tag!==0&&r===2){var n=Xm(t);n!==0&&(e=n,r=bg(t,n))}if(r===1)throw r=eu,Xs(t,0),qi(t,e),Tr(t,St()),r;if(r===6)throw Error(ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fs(t,br,pi),Tr(t,St()),null}function sy(t,e){var r=We;We|=1;try{return t(e)}finally{We=r,We===0&&(xa=St()+500,xd&&bs())}}function io(t){es!==null&&es.tag===0&&!(We&6)&&oa();var e=We;We|=1;var r=tn.transition,n=Je;try{if(tn.transition=null,Je=1,t)return t()}finally{Je=n,tn.transition=r,We=e,!(We&6)&&bs()}}function oy(){Dr=qo.current,st(qo)}function Xs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,OA(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(z0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mh();break;case 3:va(),st(Er),st(ar),Q0();break;case 5:Y0(n);break;case 4:va();break;case 13:st(pt);break;case 19:st(pt);break;case 10:H0(n.type._context);break;case 22:case 23:oy()}r=r.return}if(Gt=t,It=t=hs(t.current,null),qt=Dr=e,Ot=0,eu=null,ny=Sd=no=0,br=kl=null,Hs!==null){for(e=0;e<Hs.length;e++)if(r=Hs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Hs=null}return t}function WE(t,e){do{var r=It;try{if(G0(),hh.current=jh,zh){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zh=!1}if(ro=0,jt=Mt=gt=null,Il=!1,ql=0,ry.current=null,r===null||r.return===null){Ot=1,eu=e,It=null;break}e:{var s=t,o=r.return,l=r,c=e;if(e=qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=w_(o);if(y!==null){y.flags&=-257,E_(y,o,l,s,e),y.mode&1&&b_(s,h,e),e=y,c=h;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){b_(s,h,e),ay();break e}c=Error(ie(426))}}else if(ut&&l.mode&1){var T=w_(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),E_(T,o,l,s,e),j0(_a(c,l));break e}}s=c=_a(c,l),Ot!==4&&(Ot=2),kl===null?kl=[s]:kl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=AE(s,c,e);p_(s,w);break e;case 1:l=c;var b=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(us===null||!us.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=IE(s,l,e);p_(s,C);break e}}s=s.return}while(s!==null)}YE(r)}catch(A){e=A,It===r&&r!==null&&(It=r=r.return);continue}break}while(1)}function VE(){var t=$h.current;return $h.current=jh,t===null?jh:t}function ay(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Gt===null||!(no&268435455)&&!(Sd&268435455)||qi(Gt,qt)}function Wh(t,e){var r=We;We|=2;var n=VE();(Gt!==t||qt!==e)&&(pi=null,Xs(t,e));do try{iI();break}catch(i){WE(t,i)}while(1);if(G0(),We=r,$h.current=n,It!==null)throw Error(ie(261));return Gt=null,qt=0,Ot}function iI(){for(;It!==null;)XE(It)}function sI(){for(;It!==null&&!RP();)XE(It)}function XE(t){var e=KE(t.alternate,t,Dr);t.memoizedProps=t.pendingProps,e===null?YE(t):It=e,ry.current=null}function YE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=ZA(r,e),r!==null){r.flags&=32767,It=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,It=null;return}}else if(r=qA(r,e,Dr),r!==null){It=r;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Ot===0&&(Ot=5)}function Fs(t,e,r){var n=Je,i=tn.transition;try{tn.transition=null,Je=1,oI(t,e,r,n)}finally{tn.transition=i,Je=n}return null}function oI(t,e,r,n){do oa();while(es!==null);if(We&6)throw Error(ie(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ie(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(zP(t,s),t===Gt&&(It=Gt=null,qt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pc||(Pc=!0,qE(Ch,function(){return oa(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=tn.transition,tn.transition=null;var o=Je;Je=1;var l=We;We|=4,ry.current=null,eI(t,r),$E(r,t),CA(Jm),Ah=!!Zm,Jm=Zm=null,t.current=r,tI(r),kP(),We=l,Je=o,tn.transition=s}else t.current=r;if(Pc&&(Pc=!1,es=t,Hh=i),s=t.pendingLanes,s===0&&(us=null),DP(r.stateNode),Tr(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Gh)throw Gh=!1,t=_g,_g=null,t;return Hh&1&&t.tag!==0&&oa(),s=t.pendingLanes,s&1?t===xg?Ml++:(Ml=0,xg=t):Ml=0,bs(),null}function oa(){if(es!==null){var t=Pw(Hh),e=tn.transition,r=Je;try{if(tn.transition=null,Je=16>t?16:t,es===null)var n=!1;else{if(t=es,es=null,Hh=0,We&6)throw Error(ie(331));var i=We;for(We|=4,me=t.current;me!==null;){var s=me,o=s.child;if(me.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(me=h;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Rl(8,d,s)}var p=d.child;if(p!==null)p.return=d,me=p;else for(;me!==null;){d=me;var m=d.sibling,y=d.return;if(UE(d),d===h){me=null;break}if(m!==null){m.return=y,me=m;break}me=y}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}me=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,me=o;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,me=w;break e}me=s.return}}var b=t.current;for(me=b;me!==null;){o=me;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,me=E;else e:for(o=b;me!==null;){if(l=me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ed(9,l)}}catch(A){_t(l,l.return,A)}if(l===o){me=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,me=C;break e}me=l.return}}if(We=i,bs(),qn&&typeof qn.onPostCommitFiberRoot=="function")try{qn.onPostCommitFiberRoot(md,t)}catch{}n=!0}return n}finally{Je=r,tn.transition=e}}return!1}function L_(t,e,r){e=_a(r,e),e=AE(t,e,1),t=ls(t,e,1),e=fr(),t!==null&&(fu(t,1,e),Tr(t,e))}function _t(t,e,r){if(t.tag===3)L_(t,t,r);else for(;e!==null;){if(e.tag===3){L_(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(us===null||!us.has(n))){t=_a(r,t),t=IE(e,t,1),e=ls(e,t,1),t=fr(),e!==null&&(fu(e,1,t),Tr(e,t));break}}e=e.return}}function aI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=fr(),t.pingedLanes|=t.suspendedLanes&r,Gt===t&&(qt&r)===r&&(Ot===4||Ot===3&&(qt&130023424)===qt&&500>St()-iy?Xs(t,0):ny|=r),Tr(t,e)}function QE(t,e){e===0&&(t.mode&1?(e=yc,yc<<=1,!(yc&130023424)&&(yc=4194304)):e=1);var r=fr();t=Pi(t,e),t!==null&&(fu(t,e,r),Tr(t,r))}function lI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),QE(t,r)}function uI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ie(314))}n!==null&&n.delete(e),QE(t,r)}var KE;KE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Er.current)wr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wr=!1,KA(t,e,r);wr=!!(t.flags&131072)}else wr=!1,ut&&e.flags&1048576&&Jw(e,Nh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;fh(t,e),t=e.pendingProps;var i=ma(e,ar.current);sa(e,r),i=q0(null,e,n,t,i,r);var s=Z0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sr(n)?(s=!0,Oh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,V0(e),i.updater=bd,e.stateNode=i,i._reactInternals=e,lg(e,n,t,r),e=hg(null,e,n,!0,s,r)):(e.tag=0,ut&&s&&U0(e),dr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(fh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=hI(n),t=gn(n,t),i){case 0:e=cg(null,e,n,t,r);break e;case 1:e=C_(null,e,n,t,r);break e;case 11:e=S_(null,e,n,t,r);break e;case 14:e=T_(null,e,n,gn(n.type,t),r);break e}throw Error(ie(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),cg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),C_(t,e,n,i,r);case 3:e:{if(OE(e),t===null)throw Error(ie(387));n=e.pendingProps,s=e.memoizedState,i=s.element,nE(t,e),Bh(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_a(Error(ie(423)),e),e=P_(t,e,n,r,i);break e}else if(n!==i){i=_a(Error(ie(424)),e),e=P_(t,e,n,r,i);break e}else for(Nr=as(e.stateNode.containerInfo.firstChild),Lr=e,ut=!0,_n=null,r=aE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ga(),n===i){e=Ai(t,e,r);break e}dr(t,e,n,r)}e=e.child}return e;case 5:return lE(e),t===null&&sg(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,eg(n,i)?o=null:s!==null&&eg(n,s)&&(e.flags|=32),ME(t,e),dr(t,e,o,r),e.child;case 6:return t===null&&sg(e),null;case 13:return DE(t,e,r);case 4:return X0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ya(e,null,n,r):dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),S_(t,e,n,i,r);case 7:return dr(t,e,e.pendingProps,r),e.child;case 8:return dr(t,e,e.pendingProps.children,r),e.child;case 12:return dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tt(Lh,n._currentValue),n._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===i.children&&!Er.current){e=Ai(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=wi(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),og(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ie(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),og(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,sa(e,r),i=rn(i),n=n(i),e.flags|=1,dr(t,e,n,r),e.child;case 14:return n=e.type,i=gn(n,e.pendingProps),i=gn(n.type,i),T_(t,e,n,i,r);case 15:return RE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:gn(n,i),fh(t,e),e.tag=1,Sr(n)?(t=!0,Oh(e)):t=!1,sa(e,r),sE(e,n,i),lg(e,n,i,r),hg(null,e,n,!0,t,r);case 19:return NE(t,e,r);case 22:return kE(t,e,r)}throw Error(ie(156,e.tag))};function qE(t,e){return Ew(t,e)}function cI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(t,e,r,n){return new cI(t,e,r,n)}function ly(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hI(t){if(typeof t=="function")return ly(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P0)return 11;if(t===A0)return 14}return 2}function hs(t,e){var r=t.alternate;return r===null?(r=qr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function gh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")ly(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jo:return Ys(r.children,i,s,e);case C0:o=8,i|=8;break;case Mm:return t=qr(12,r,e,i|2),t.elementType=Mm,t.lanes=s,t;case Om:return t=qr(13,r,e,i),t.elementType=Om,t.lanes=s,t;case Dm:return t=qr(19,r,e,i),t.elementType=Dm,t.lanes=s,t;case ow:return Td(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iw:o=10;break e;case sw:o=9;break e;case P0:o=11;break e;case A0:o=14;break e;case Xi:o=16,n=null;break e}throw Error(ie(130,t==null?t:typeof t,""))}return e=qr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ys(t,e,r,n){return t=qr(7,t,n,e),t.lanes=r,t}function Td(t,e,r,n){return t=qr(22,t,n,e),t.elementType=ow,t.lanes=r,t.stateNode={isHidden:!1},t}function Up(t,e,r){return t=qr(6,t,null,e),t.lanes=r,t}function zp(t,e,r){return e=qr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uy(t,e,r,n,i,s,o,l,c){return t=new dI(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},V0(s),t}function fI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ZE(t){if(!t)return ps;t=t._reactInternals;e:{if(lo(t)!==t||t.tag!==1)throw Error(ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ie(171))}if(t.tag===1){var r=t.type;if(Sr(r))return qw(t,r,e)}return e}function JE(t,e,r,n,i,s,o,l,c){return t=uy(r,n,!0,t,i,s,o,l,c),t.context=ZE(null),r=t.current,n=fr(),i=cs(r),s=wi(n,i),s.callback=e??null,ls(r,s,i),t.current.lanes=i,fu(t,i,n),Tr(t,n),t}function Cd(t,e,r,n){var i=e.current,s=fr(),o=cs(i);return r=ZE(r),e.context===null?e.context=r:e.pendingContext=r,e=wi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ls(i,e,o),t!==null&&(Pn(t,i,o,s),ch(t,i,o)),o}function Vh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function cy(t,e){F_(t,e),(t=t.alternate)&&F_(t,e)}function pI(){return null}var eS=typeof reportError=="function"?reportError:function(t){console.error(t)};function hy(t){this._internalRoot=t}Pd.prototype.render=hy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ie(409));Cd(t,e,null,null)};Pd.prototype.unmount=hy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;io(function(){Cd(null,t,null,null)}),e[Ci]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Rw();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ki.length&&e!==0&&e<Ki[r].priority;r++);Ki.splice(r,0,t),r===0&&Mw(t)}};function dy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B_(){}function mI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=Vh(o);s.call(h)}}var o=JE(e,n,t,0,null,!1,!1,"",B_);return t._reactRootContainer=o,t[Ci]=o.current,Vl(t.nodeType===8?t.parentNode:t),io(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var h=Vh(c);l.call(h)}}var c=uy(t,0,!1,null,null,!1,!1,"",B_);return t._reactRootContainer=c,t[Ci]=c.current,Vl(t.nodeType===8?t.parentNode:t),io(function(){Cd(e,c,r,n)}),c}function Id(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Vh(o);l.call(c)}}Cd(e,o,t,i)}else o=mI(r,e,t,i,n);return Vh(o)}Aw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=gl(e.pendingLanes);r!==0&&(k0(e,r|1),Tr(e,St()),!(We&6)&&(xa=St()+500,bs()))}break;case 13:io(function(){var n=Pi(t,1);if(n!==null){var i=fr();Pn(n,t,1,i)}}),cy(t,1)}};M0=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var r=fr();Pn(e,t,134217728,r)}cy(t,134217728)}};Iw=function(t){if(t.tag===13){var e=cs(t),r=Pi(t,e);if(r!==null){var n=fr();Pn(r,t,e,n)}cy(t,e)}};Rw=function(){return Je};kw=function(t,e){var r=Je;try{return Je=t,e()}finally{Je=r}};Hm=function(t,e,r){switch(e){case"input":if(Fm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=_d(n);if(!i)throw Error(ie(90));lw(n),Fm(n,i)}}}break;case"textarea":cw(t,r);break;case"select":e=r.value,e!=null&&ta(t,!!r.multiple,e,!1)}};yw=sy;vw=io;var gI={usingClientEntryPoint:!1,Events:[mu,Wo,_d,mw,gw,sy]},ol={findFiberByHostInstance:Gs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yI={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bw(t),t===null?null:t.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||pI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{md=Ac.inject(yI),qn=Ac}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gI;Ur.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dy(e))throw Error(ie(200));return fI(t,e,null,r)};Ur.createRoot=function(t,e){if(!dy(t))throw Error(ie(299));var r=!1,n="",i=eS;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=uy(t,1,!1,null,null,r,!1,n,i),t[Ci]=e.current,Vl(t.nodeType===8?t.parentNode:t),new hy(e)};Ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=bw(e),t=t===null?null:t.stateNode,t};Ur.flushSync=function(t){return io(t)};Ur.hydrate=function(t,e,r){if(!Ad(e))throw Error(ie(200));return Id(null,t,e,!0,r)};Ur.hydrateRoot=function(t,e,r){if(!dy(t))throw Error(ie(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=eS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=JE(e,null,t,1,r??null,i,!1,s,o),t[Ci]=e.current,Vl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Pd(e)};Ur.render=function(t,e,r){if(!Ad(e))throw Error(ie(200));return Id(null,t,e,!1,r)};Ur.unmountComponentAtNode=function(t){if(!Ad(t))throw Error(ie(40));return t._reactRootContainer?(io(function(){Id(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};Ur.unstable_batchedUpdates=sy;Ur.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ad(r))throw Error(ie(200));if(t==null||t._reactInternals===void 0)throw Error(ie(38));return Id(t,e,r,!1,n)};Ur.version="18.2.0-next-9e3b772b8-20220608";function tS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tS)}catch(t){console.error(t)}}tS(),Jb.exports=Ur;var vI=Jb.exports,U_=vI;Rm.createRoot=U_.createRoot,Rm.hydrateRoot=U_.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tu.apply(this,arguments)}var ts;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ts||(ts={}));const z_="popstate";function _I(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return Eg("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:rS(i)}return bI(e,r,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xI(){return Math.random().toString(36).substr(2,8)}function j_(t,e){return{usr:t.state,key:t.key,idx:e}}function Eg(t,e,r,n){return r===void 0&&(r=null),tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ra(e):e,{state:r,key:e&&e.key||n||xI()})}function rS(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ra(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function bI(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=ts.Pop,c=null,h=d();h==null&&(h=0,o.replaceState(tu({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=ts.Pop;let T=d(),w=T==null?null:T-h;h=T,c&&c({action:l,location:x.location,delta:w})}function m(T,w){l=ts.Push;let b=Eg(x.location,T,w);r&&r(b,T),h=d()+1;let E=j_(b,h),C=x.createHref(b);try{o.pushState(E,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(C)}s&&c&&c({action:l,location:x.location,delta:1})}function y(T,w){l=ts.Replace;let b=Eg(x.location,T,w);r&&r(b,T),h=d();let E=j_(b,h),C=x.createHref(b);o.replaceState(E,"",C),s&&c&&c({action:l,location:x.location,delta:0})}function v(T){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof T=="string"?T:rS(T);return Dt(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let x={get action(){return l},get location(){return t(i,o)},listen(T){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(z_,p),c=T,()=>{i.removeEventListener(z_,p),c=null}},createHref(T){return e(i,T)},createURL:v,encodeLocation(T){let w=v(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:y,go(T){return o.go(T)}};return x}var $_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($_||($_={}));function wI(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Ra(e):e,i=sS(n.pathname||"/",r);if(i==null)return null;let s=nS(t);EI(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=MI(s[l],NI(i));return o}function nS(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Dt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=Qs([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Dt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),nS(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:RI(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of iS(s.path))i(s,o,c)}),e}function iS(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=iS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function EI(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:kI(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const SI=/^:\w+$/,TI=3,CI=2,PI=1,AI=10,II=-2,G_=t=>t==="*";function RI(t,e){let r=t.split("/"),n=r.length;return r.some(G_)&&(n+=II),e&&(n+=CI),r.filter(i=>!G_(i)).reduce((i,s)=>i+(SI.test(s)?TI:s===""?PI:AI),n)}function kI(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function MI(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=OI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!d)return null;Object.assign(n,d.params);let p=l.route;s.push({params:n,pathname:Qs([i,d.pathname]),pathnameBase:$I(Qs([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Qs([i,d.pathnameBase]))}return s}function OI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=DI(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,d,p)=>{let{paramName:m,isOptional:y}=d;if(m==="*"){let x=l[p]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[p];return y&&!v?h[m]=void 0:h[m]=LI(v||"",m),h},{}),pathname:s,pathnameBase:o,pattern:t}}function DI(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),fy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function NI(t){try{return decodeURI(t)}catch(e){return fy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function LI(t,e){try{return decodeURIComponent(t)}catch(r){return fy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function sS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function FI(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ra(t):t;return{pathname:r?r.startsWith("/")?r:BI(r,e):e,search:GI(n),hash:HI(i)}}function BI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function jp(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UI(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zI(t){return UI(t).map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function jI(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ra(t):(i=tu({},t),Dt(!i.pathname||!i.pathname.includes("?"),jp("?","pathname","search",i)),Dt(!i.pathname||!i.pathname.includes("#"),jp("#","pathname","hash",i)),Dt(!i.search||!i.search.includes("#"),jp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else if(n){let p=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p.pop();i.pathname=m.join("/")}l="/"+p.join("/")}else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=FI(i,l),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const Qs=t=>t.join("/").replace(/\/\/+/g,"/"),$I=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function WI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oS=["post","put","patch","delete"];new Set(oS);const VI=["get",...oS];new Set(VI);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xh.apply(this,arguments)}const py=ne.createContext(null),XI=ne.createContext(null),Rd=ne.createContext(null),kd=ne.createContext(null),ka=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),aS=ne.createContext(null);function Md(){return ne.useContext(kd)!=null}function my(){return Md()||Dt(!1),ne.useContext(kd).location}function lS(t){ne.useContext(Rd).static||ne.useLayoutEffect(t)}function YI(){let{isDataRoute:t}=ne.useContext(ka);return t?a3():QI()}function QI(){Md()||Dt(!1);let t=ne.useContext(py),{basename:e,navigator:r}=ne.useContext(Rd),{matches:n}=ne.useContext(ka),{pathname:i}=my(),s=JSON.stringify(zI(n)),o=ne.useRef(!1);return lS(()=>{o.current=!0}),ne.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=jI(c,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Qs([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,s,i,t])}function KI(t,e){return qI(t,e)}function qI(t,e,r){Md()||Dt(!1);let{navigator:n}=ne.useContext(Rd),{matches:i}=ne.useContext(ka),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=my(),h;if(e){var d;let x=typeof e=="string"?Ra(e):e;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||Dt(!1),h=x}else h=c;let p=h.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",y=wI(t,{pathname:m}),v=r3(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:Qs([l,n.encodeLocation?n.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Qs([l,n.encodeLocation?n.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r);return e&&v?ne.createElement(kd.Provider,{value:{location:Xh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ts.Pop}},v):v}function ZI(){let t=o3(),e=WI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),r?ne.createElement("pre",{style:i},r):null,s)}const JI=ne.createElement(ZI,null);class e3 extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?ne.createElement(ka.Provider,{value:this.props.routeContext},ne.createElement(aS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t3(t){let{routeContext:e,match:r,children:n}=t,i=ne.useContext(py);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ne.createElement(ka.Provider,{value:e},n)}function r3(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let l=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||Dt(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let d=c.route.id?o==null?void 0:o[c.route.id]:null,p=null;r&&(p=c.route.errorElement||JI);let m=e.concat(s.slice(0,h+1)),y=()=>{let v;return d?v=p:c.route.Component?v=ne.createElement(c.route.Component,null):c.route.element?v=c.route.element:v=l,ne.createElement(t3,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:v})};return r&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?ne.createElement(e3,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var uS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uS||{}),Yh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yh||{});function n3(t){let e=ne.useContext(py);return e||Dt(!1),e}function i3(t){let e=ne.useContext(XI);return e||Dt(!1),e}function s3(t){let e=ne.useContext(ka);return e||Dt(!1),e}function cS(t){let e=s3(),r=e.matches[e.matches.length-1];return r.route.id||Dt(!1),r.route.id}function o3(){var t;let e=ne.useContext(aS),r=i3(Yh.UseRouteError),n=cS(Yh.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function a3(){let{router:t}=n3(uS.UseNavigateStable),e=cS(Yh.UseNavigateStable),r=ne.useRef(!1);return lS(()=>{r.current=!0}),ne.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Xh({fromRouteId:e},s)))},[t,e])}function hS(t){Dt(!1)}function l3(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ts.Pop,navigator:s,static:o=!1}=t;Md()&&Dt(!1);let l=e.replace(/^\/*/,"/"),c=ne.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof n=="string"&&(n=Ra(n));let{pathname:h="/",search:d="",hash:p="",state:m=null,key:y="default"}=n,v=ne.useMemo(()=>{let x=sS(h,l);return x==null?null:{location:{pathname:x,search:d,hash:p,state:m,key:y},navigationType:i}},[l,h,d,p,m,y,i]);return v==null?null:ne.createElement(Rd.Provider,{value:c},ne.createElement(kd.Provider,{children:r,value:v}))}function u3(t){let{children:e,location:r}=t;return KI(Sg(e),r)}new Promise(()=>{});function Sg(t,e){e===void 0&&(e=[]);let r=[];return ne.Children.forEach(t,(n,i)=>{if(!ne.isValidElement(n))return;let s=[...e,i];if(n.type===ne.Fragment){r.push.apply(r,Sg(n.props.children,s));return}n.type!==hS&&Dt(!1),!n.props.index||!n.props.children||Dt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Sg(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function c3(t,e){let r=Tg(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const h3="startTransition",H_=lP[h3];function d3(t){let{basename:e,children:r,future:n,window:i}=t,s=ne.useRef();s.current==null&&(s.current=_I({window:i,v5Compat:!0}));let o=s.current,[l,c]=ne.useState({action:o.action,location:o.location}),{v7_startTransition:h}=n||{},d=ne.useCallback(p=>{h&&H_?H_(()=>c(p)):c(p)},[c,h]);return ne.useLayoutEffect(()=>o.listen(d),[o,d]),ne.createElement(l3,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o})}var W_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(W_||(W_={}));var V_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(V_||(V_={}));function f3(t){let e=ne.useRef(Tg(t)),r=ne.useRef(!1),n=my(),i=ne.useMemo(()=>c3(n.search,r.current?null:e.current),[n.search]),s=YI(),o=ne.useCallback((l,c)=>{const h=Tg(typeof l=="function"?l(i):l);r.current=!0,s("?"+h,c)},[s,i]);return[i,o]}var Od={exports:{}},uo=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(uo||{}),dS=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(dS||{}),Cg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Cg||{}),Ce=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Ce||{}),Zr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Zr||{}),oe=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(oe||{}),aa=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(aa||{}),Te=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Te||{}),Pg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Pg||{}),_i=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(_i||{}),Ei=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Ei||{}),ti=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ti||{}),Mn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Mn||{}),Yn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Yn||{}),gy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(gy||{}),Jr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Jr||{}),kt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(kt||{}),At=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(At||{}),Jn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Jn||{});const p3={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ce={ADAPTER:p3,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var $p=/iPhone/i,X_=/iPod/i,Y_=/iPad/i,Q_=/\biOS-universal(?:.+)Mac\b/i,Gp=/\bAndroid(?:.+)Mobile\b/i,K_=/Android/i,Io=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ic=/Silk/i,ci=/Windows Phone/i,q_=/\bWindows(?:.+)ARM\b/i,Z_=/BlackBerry/i,J_=/BB10/i,ex=/Opera Mini/i,tx=/\b(CriOS|Chrome)(?:.+)Mobile/i,rx=/Mobile(?:.+)Firefox\b/i,nx=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function m3(t){return function(e){return e.test(t)}}function ix(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=m3(r),s={apple:{phone:i($p)&&!i(ci),ipod:i(X_),tablet:!i($p)&&(i(Y_)||nx(e))&&!i(ci),universal:i(Q_),device:(i($p)||i(X_)||i(Y_)||i(Q_)||nx(e))&&!i(ci)},amazon:{phone:i(Io),tablet:!i(Io)&&i(Ic),device:i(Io)||i(Ic)},android:{phone:!i(ci)&&i(Io)||!i(ci)&&i(Gp),tablet:!i(ci)&&!i(Io)&&!i(Gp)&&(i(Ic)||i(K_)),device:!i(ci)&&(i(Io)||i(Ic)||i(Gp)||i(K_))||i(/\bokhttp\b/i)},windows:{phone:i(ci),tablet:i(q_),device:i(ci)||i(q_)},other:{blackberry:i(Z_),blackberry10:i(J_),opera:i(ex),firefox:i(rx),chrome:i(tx),device:i(Z_)||i(J_)||i(ex)||i(rx)||i(tx)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const g3=ix.default??ix,xi=g3(globalThis.navigator);ce.RETINA_PREFIX=/@([0-9\.]+)x/;ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var fS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,d){this.fn=c,this.context=h,this.once=d||!1}function s(c,h,d,p,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,p||c,m),v=r?r+h:h;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],y]:c._events[v].push(y):(c._events[v]=y,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)e.call(d,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},l.prototype.listeners=function(h){var d=r?r+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,y=p.length,v=new Array(y);m<y;m++)v[m]=p[m].fn;return v},l.prototype.listenerCount=function(h){var d=r?r+h:h,p=this._events[d];return p?p.fn?1:p.length:0},l.prototype.emit=function(h,d,p,m,y,v){var x=r?r+h:h;if(!this._events[x])return!1;var T=this._events[x],w=arguments.length,b,E;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),w){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,d),!0;case 3:return T.fn.call(T.context,d,p),!0;case 4:return T.fn.call(T.context,d,p,m),!0;case 5:return T.fn.call(T.context,d,p,m,y),!0;case 6:return T.fn.call(T.context,d,p,m,y,v),!0}for(E=1,b=new Array(w-1);E<w;E++)b[E-1]=arguments[E];T.fn.apply(T.context,b)}else{var C=T.length,A;for(E=0;E<C;E++)switch(T[E].once&&this.removeListener(h,T[E].fn,void 0,!0),w){case 1:T[E].fn.call(T[E].context);break;case 2:T[E].fn.call(T[E].context,d);break;case 3:T[E].fn.call(T[E].context,d,p);break;case 4:T[E].fn.call(T[E].context,d,p,m);break;default:if(!b)for(A=1,b=new Array(w-1);A<w;A++)b[A-1]=arguments[A];T[E].fn.apply(T[E].context,b)}}return!0},l.prototype.on=function(h,d,p){return s(this,h,d,p,!1)},l.prototype.once=function(h,d,p){return s(this,h,d,p,!0)},l.prototype.removeListener=function(h,d,p,m){var y=r?r+h:h;if(!this._events[y])return this;if(!d)return o(this,y),this;var v=this._events[y];if(v.fn)v.fn===d&&(!m||v.once)&&(!p||v.context===p)&&o(this,y);else{for(var x=0,T=[],w=v.length;x<w;x++)(v[x].fn!==d||m&&!v[x].once||p&&v[x].context!==p)&&T.push(v[x]);T.length?this._events[y]=T.length===1?T[0]:T:o(this,y)}return this},l.prototype.removeAllListeners=function(h){var d;return h?(d=r?r+h:h,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(fS);var y3=fS.exports;const yu=hu(y3);var yy={exports:{}};yy.exports=Dd;yy.exports.default=Dd;function Dd(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=pS(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var l,c,h,d,p,m,y;if(n&&(s=w3(t,e,s,r)),t.length>80*r){l=h=t[0],c=d=t[1];for(var v=r;v<i;v+=r)p=t[v],m=t[v+1],p<l&&(l=p),m<c&&(c=m),p>h&&(h=p),m>d&&(d=m);y=Math.max(h-l,d-c),y=y!==0?32767/y:0}return ru(s,o,r,l,c,y,0),o}function pS(t,e,r,n,i){var s,o;if(i===Rg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=sx(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=sx(s,t[s],t[s+1],o);return o&&Nd(o,o.next)&&(iu(o),o=o.next),o}function so(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Nd(r,r.next)||mt(r.prev,r,r.next)===0)){if(iu(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function ru(t,e,r,n,i,s,o){if(t){!o&&s&&P3(t,n,i,s);for(var l=t,c,h;t.prev!==t.next;){if(c=t.prev,h=t.next,s?_3(t,n,i,s):v3(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),iu(t),t=h.next,l=h.next;continue}if(t=h,t===l){o?o===1?(t=x3(so(t),e,r),ru(t,e,r,n,i,s,2)):o===2&&b3(t,e,r,n,i,s):ru(so(t),e,r,n,i,s,1);break}}}}function v3(t){var e=t.prev,r=t,n=t.next;if(mt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,l=e.y,c=r.y,h=n.y,d=i<s?i<o?i:o:s<o?s:o,p=l<c?l<h?l:h:c<h?c:h,m=i>s?i>o?i:o:s>o?s:o,y=l>c?l>h?l:h:c>h?c:h,v=n.next;v!==e;){if(v.x>=d&&v.x<=m&&v.y>=p&&v.y<=y&&Zo(i,l,s,c,o,h,v.x,v.y)&&mt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function _3(t,e,r,n){var i=t.prev,s=t,o=t.next;if(mt(i,s,o)>=0)return!1;for(var l=i.x,c=s.x,h=o.x,d=i.y,p=s.y,m=o.y,y=l<c?l<h?l:h:c<h?c:h,v=d<p?d<m?d:m:p<m?p:m,x=l>c?l>h?l:h:c>h?c:h,T=d>p?d>m?d:m:p>m?p:m,w=Ag(y,v,e,r,n),b=Ag(x,T,e,r,n),E=t.prevZ,C=t.nextZ;E&&E.z>=w&&C&&C.z<=b;){if(E.x>=y&&E.x<=x&&E.y>=v&&E.y<=T&&E!==i&&E!==o&&Zo(l,d,c,p,h,m,E.x,E.y)&&mt(E.prev,E,E.next)>=0||(E=E.prevZ,C.x>=y&&C.x<=x&&C.y>=v&&C.y<=T&&C!==i&&C!==o&&Zo(l,d,c,p,h,m,C.x,C.y)&&mt(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;E&&E.z>=w;){if(E.x>=y&&E.x<=x&&E.y>=v&&E.y<=T&&E!==i&&E!==o&&Zo(l,d,c,p,h,m,E.x,E.y)&&mt(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;C&&C.z<=b;){if(C.x>=y&&C.x<=x&&C.y>=v&&C.y<=T&&C!==i&&C!==o&&Zo(l,d,c,p,h,m,C.x,C.y)&&mt(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function x3(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Nd(i,s)&&mS(i,n,n.next,s)&&nu(i,s)&&nu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),iu(n),iu(n.next),n=t=s),n=n.next}while(n!==t);return so(n)}function b3(t,e,r,n,i,s){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&R3(o,l)){var c=gS(o,l);o=so(o,o.next),c=so(c,c.next),ru(o,e,r,n,i,s,0),ru(c,e,r,n,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function w3(t,e,r,n){var i=[],s,o,l,c,h;for(s=0,o=e.length;s<o;s++)l=e[s]*n,c=s<o-1?e[s+1]*n:t.length,h=pS(t,l,c,n,!1),h===h.next&&(h.steiner=!0),i.push(I3(h));for(i.sort(E3),s=0;s<i.length;s++)r=S3(i[s],r);return r}function E3(t,e){return t.x-e.x}function S3(t,e){var r=T3(t,e);if(!r)return e;var n=gS(r,t);return so(n,n.next),so(r,r.next)}function T3(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var l=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>s&&(s=l,o=r.x<r.next.x?r:r.next,l===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,h=o.x,d=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&Zo(i<d?n:s,i,h,d,i<d?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),nu(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&C3(o,r)))&&(o=r,p=m)),r=r.next;while(r!==c);return o}function C3(t,e){return mt(t.prev,t,e.prev)<0&&mt(e.next,t,t.next)<0}function P3(t,e,r,n){var i=t;do i.z===0&&(i.z=Ag(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,A3(i)}function A3(t){var e,r,n,i,s,o,l,c,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,l=0,e=0;e<h&&(l++,n=n.nextZ,!!n);e++);for(c=h;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function Ag(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function I3(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Zo(t,e,r,n,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(s-l)>=(i-o)*(n-l)}function R3(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!k3(t,e)&&(nu(t,e)&&nu(e,t)&&M3(t,e)&&(mt(t.prev,t,e.prev)||mt(t,e.prev,e))||Nd(t,e)&&mt(t.prev,t,t.next)>0&&mt(e.prev,e,e.next)>0)}function mt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Nd(t,e){return t.x===e.x&&t.y===e.y}function mS(t,e,r,n){var i=kc(mt(t,e,r)),s=kc(mt(t,e,n)),o=kc(mt(r,n,t)),l=kc(mt(r,n,e));return!!(i!==s&&o!==l||i===0&&Rc(t,r,e)||s===0&&Rc(t,n,e)||o===0&&Rc(r,t,n)||l===0&&Rc(r,e,n))}function Rc(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function kc(t){return t>0?1:t<0?-1:0}function k3(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&mS(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function nu(t,e){return mt(t.prev,t,t.next)<0?mt(t,e,t.next)>=0&&mt(t,t.prev,e)>=0:mt(t,e,t.prev)<0||mt(t,t.next,e)<0}function M3(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function gS(t,e){var r=new Ig(t.i,t.x,t.y),n=new Ig(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function sx(t,e,r,n){var i=new Ig(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function iu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ig(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Dd.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Rg(t,0,s,r));if(i)for(var l=0,c=e.length;l<c;l++){var h=e[l]*r,d=l<c-1?e[l+1]*r:t.length;o-=Math.abs(Rg(t,h,d,r))}var p=0;for(l=0;l<n.length;l+=3){var m=n[l]*r,y=n[l+1]*r,v=n[l+2]*r;p+=Math.abs((t[m]-t[v])*(t[y+1]-t[m+1])-(t[m]-t[y])*(t[v+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Rg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Dd.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var O3=yy.exports;const D3=hu(O3);var Qh={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Qh.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof ih=="object"&&ih;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,l=2147483647,c=36,h=1,d=26,p=38,m=700,y=72,v=128,x="-",T=/^xn--/,w=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=c-h,A=Math.floor,D=String.fromCharCode,M;function O(F){throw new RangeError(E[F])}function I(F,te){for(var ae=F.length,Pe=[];ae--;)Pe[ae]=te(F[ae]);return Pe}function U(F,te){var ae=F.split("@"),Pe="";ae.length>1&&(Pe=ae[0]+"@",F=ae[1]),F=F.replace(b,".");var ge=F.split("."),Me=I(ge,te).join(".");return Pe+Me}function z(F){for(var te=[],ae=0,Pe=F.length,ge,Me;ae<Pe;)ge=F.charCodeAt(ae++),ge>=55296&&ge<=56319&&ae<Pe?(Me=F.charCodeAt(ae++),(Me&64512)==56320?te.push(((ge&1023)<<10)+(Me&1023)+65536):(te.push(ge),ae--)):te.push(ge);return te}function B(F){return I(F,function(te){var ae="";return te>65535&&(te-=65536,ae+=D(te>>>10&1023|55296),te=56320|te&1023),ae+=D(te),ae}).join("")}function R(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:c}function L(F,te){return F+22+75*(F<26)-((te!=0)<<5)}function W(F,te,ae){var Pe=0;for(F=ae?A(F/m):F>>1,F+=A(F/te);F>C*d>>1;Pe+=c)F=A(F/C);return A(Pe+(C+1)*F/(F+p))}function $(F){var te=[],ae=F.length,Pe,ge=0,Me=v,we=y,Re,He,Qe,K,ee,ye,de,Se,Ae;for(Re=F.lastIndexOf(x),Re<0&&(Re=0),He=0;He<Re;++He)F.charCodeAt(He)>=128&&O("not-basic"),te.push(F.charCodeAt(He));for(Qe=Re>0?Re+1:0;Qe<ae;){for(K=ge,ee=1,ye=c;Qe>=ae&&O("invalid-input"),de=R(F.charCodeAt(Qe++)),(de>=c||de>A((l-ge)/ee))&&O("overflow"),ge+=de*ee,Se=ye<=we?h:ye>=we+d?d:ye-we,!(de<Se);ye+=c)Ae=c-Se,ee>A(l/Ae)&&O("overflow"),ee*=Ae;Pe=te.length+1,we=W(ge-K,Pe,K==0),A(ge/Pe)>l-Me&&O("overflow"),Me+=A(ge/Pe),ge%=Pe,te.splice(ge++,0,Me)}return B(te)}function X(F){var te,ae,Pe,ge,Me,we,Re,He,Qe,K,ee,ye=[],de,Se,Ae,Ie;for(F=z(F),de=F.length,te=v,ae=0,Me=y,we=0;we<de;++we)ee=F[we],ee<128&&ye.push(D(ee));for(Pe=ge=ye.length,ge&&ye.push(x);Pe<de;){for(Re=l,we=0;we<de;++we)ee=F[we],ee>=te&&ee<Re&&(Re=ee);for(Se=Pe+1,Re-te>A((l-ae)/Se)&&O("overflow"),ae+=(Re-te)*Se,te=Re,we=0;we<de;++we)if(ee=F[we],ee<te&&++ae>l&&O("overflow"),ee==te){for(He=ae,Qe=c;K=Qe<=Me?h:Qe>=Me+d?d:Qe-Me,!(He<K);Qe+=c)Ie=He-K,Ae=c-K,ye.push(D(L(K+Ie%Ae,0))),He=A(Ie/Ae);ye.push(D(L(He,0))),Me=W(ae,Se,Pe==ge),ae=0,++Pe}++ae,++te}return ye.join("")}function k(F){return U(F,function(te){return T.test(te)?$(te.slice(4).toLowerCase()):te})}function G(F){return U(F,function(te){return w.test(te)?"xn--"+X(te):te})}if(o={version:"1.4.1",ucs2:{decode:z,encode:B},decode:$,encode:X,toASCII:G,toUnicode:k},n&&i)if(t.exports==n)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(n[M]=o[M]);else r.punycode=o})(ih)})(Qh,Qh.exports);var N3=Qh.exports,L3=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},ox=typeof Symbol<"u"&&Symbol,F3=L3,B3=function(){return typeof ox!="function"||typeof Symbol!="function"||typeof ox("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:F3()},ax={foo:{}},U3=Object,z3=function(){return{__proto__:ax}.foo===ax.foo&&!({__proto__:null}instanceof U3)},j3="Function.prototype.bind called on incompatible ",Hp=Array.prototype.slice,$3=Object.prototype.toString,G3="[object Function]",H3=function(e){var r=this;if(typeof r!="function"||$3.call(r)!==G3)throw new TypeError(j3+r);for(var n=Hp.call(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,n.concat(Hp.call(arguments)));return Object(d)===d?d:this}else return r.apply(e,n.concat(Hp.call(arguments)))},o=Math.max(0,r.length-n.length),l=[],c=0;c<o;c++)l.push("$"+c);if(i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},W3=H3,vy=Function.prototype.bind||W3,V3=vy,X3=V3.call(Function.call,Object.prototype.hasOwnProperty),Ue,ba=SyntaxError,yS=Function,la=TypeError,Wp=function(t){try{return yS('"use strict"; return ('+t+").constructor;")()}catch{}},Ks=Object.getOwnPropertyDescriptor;if(Ks)try{Ks({},"")}catch{Ks=null}var Vp=function(){throw new la},Y3=Ks?function(){try{return arguments.callee,Vp}catch{try{return Ks(arguments,"callee").get}catch{return Vp}}}():Vp,Ro=B3(),Q3=z3(),zt=Object.getPrototypeOf||(Q3?function(t){return t.__proto__}:null),Do={},K3=typeof Uint8Array>"u"||!zt?Ue:zt(Uint8Array),qs={"%AggregateError%":typeof AggregateError>"u"?Ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ue:ArrayBuffer,"%ArrayIteratorPrototype%":Ro&&zt?zt([][Symbol.iterator]()):Ue,"%AsyncFromSyncIteratorPrototype%":Ue,"%AsyncFunction%":Do,"%AsyncGenerator%":Do,"%AsyncGeneratorFunction%":Do,"%AsyncIteratorPrototype%":Do,"%Atomics%":typeof Atomics>"u"?Ue:Atomics,"%BigInt%":typeof BigInt>"u"?Ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ue:FinalizationRegistry,"%Function%":yS,"%GeneratorFunction%":Do,"%Int8Array%":typeof Int8Array>"u"?Ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ro&&zt?zt(zt([][Symbol.iterator]())):Ue,"%JSON%":typeof JSON=="object"?JSON:Ue,"%Map%":typeof Map>"u"?Ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ro||!zt?Ue:zt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ue:Promise,"%Proxy%":typeof Proxy>"u"?Ue:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ro||!zt?Ue:zt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ro&&zt?zt(""[Symbol.iterator]()):Ue,"%Symbol%":Ro?Symbol:Ue,"%SyntaxError%":ba,"%ThrowTypeError%":Y3,"%TypedArray%":K3,"%TypeError%":la,"%Uint8Array%":typeof Uint8Array>"u"?Ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ue:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ue:WeakSet};if(zt)try{null.error}catch(t){var q3=zt(zt(t));qs["%Error.prototype%"]=q3}var Z3=function t(e){var r;if(e==="%AsyncFunction%")r=Wp("async function () {}");else if(e==="%GeneratorFunction%")r=Wp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Wp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&zt&&(r=zt(i.prototype))}return qs[e]=r,r},lx={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},vu=vy,Kh=X3,J3=vu.call(Function.call,Array.prototype.concat),eR=vu.call(Function.apply,Array.prototype.splice),ux=vu.call(Function.call,String.prototype.replace),qh=vu.call(Function.call,String.prototype.slice),tR=vu.call(Function.call,RegExp.prototype.exec),rR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,nR=/\\(\\)?/g,iR=function(e){var r=qh(e,0,1),n=qh(e,-1);if(r==="%"&&n!=="%")throw new ba("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ba("invalid intrinsic syntax, expected opening `%`");var i=[];return ux(e,rR,function(s,o,l,c){i[i.length]=l?ux(c,nR,"$1"):o||s}),i},sR=function(e,r){var n=e,i;if(Kh(lx,n)&&(i=lx[n],n="%"+i[0]+"%"),Kh(qs,n)){var s=qs[n];if(s===Do&&(s=Z3(n)),typeof s>"u"&&!r)throw new la("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ba("intrinsic "+e+" does not exist!")},_y=function(e,r){if(typeof e!="string"||e.length===0)throw new la("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new la('"allowMissing" argument must be a boolean');if(tR(/^%?[^%]*%?$/,e)===null)throw new ba("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=iR(e),i=n.length>0?n[0]:"",s=sR("%"+i+"%",r),o=s.name,l=s.value,c=!1,h=s.alias;h&&(i=h[0],eR(n,J3([0,1],h)));for(var d=1,p=!0;d<n.length;d+=1){var m=n[d],y=qh(m,0,1),v=qh(m,-1);if((y==='"'||y==="'"||y==="`"||v==='"'||v==="'"||v==="`")&&y!==v)throw new ba("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(c=!0),i+="."+m,o="%"+i+"%",Kh(qs,o))l=qs[o];else if(l!=null){if(!(m in l)){if(!r)throw new la("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ks&&d+1>=n.length){var x=Ks(l,m);p=!!x,p&&"get"in x&&!("originalValue"in x.get)?l=x.get:l=l[m]}else p=Kh(l,m),l=l[m];p&&!c&&(qs[o]=l)}}return l},vS={exports:{}};(function(t){var e=vy,r=_y,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(p){var m=s(e,i,arguments);if(o&&l){var y=o(m,"length");y.configurable&&l(m,"length",{value:1+c(0,p.length-(arguments.length-1))})}return m};var h=function(){return s(e,n,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h})(vS);var oR=vS.exports,_S=_y,xS=oR,aR=xS(_S("String.prototype.indexOf")),lR=function(e,r){var n=_S(e,!!r);return typeof n=="function"&&aR(e,".prototype.")>-1?xS(n):n};const uR={},cR=Object.freeze(Object.defineProperty({__proto__:null,default:uR},Symbol.toStringTag,{value:"Module"})),hR=$b(cR);var xy=typeof Map=="function"&&Map.prototype,Xp=Object.getOwnPropertyDescriptor&&xy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zh=xy&&Xp&&typeof Xp.get=="function"?Xp.get:null,cx=xy&&Map.prototype.forEach,by=typeof Set=="function"&&Set.prototype,Yp=Object.getOwnPropertyDescriptor&&by?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Jh=by&&Yp&&typeof Yp.get=="function"?Yp.get:null,hx=by&&Set.prototype.forEach,dR=typeof WeakMap=="function"&&WeakMap.prototype,Ol=dR?WeakMap.prototype.has:null,fR=typeof WeakSet=="function"&&WeakSet.prototype,Dl=fR?WeakSet.prototype.has:null,pR=typeof WeakRef=="function"&&WeakRef.prototype,dx=pR?WeakRef.prototype.deref:null,mR=Boolean.prototype.valueOf,gR=Object.prototype.toString,yR=Function.prototype.toString,vR=String.prototype.match,wy=String.prototype.slice,rs=String.prototype.replace,_R=String.prototype.toUpperCase,fx=String.prototype.toLowerCase,bS=RegExp.prototype.test,px=Array.prototype.concat,Qn=Array.prototype.join,xR=Array.prototype.slice,mx=Math.floor,kg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Qp=Object.getOwnPropertySymbols,Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,wa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",lr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===wa||"symbol")?Symbol.toStringTag:null,wS=Object.prototype.propertyIsEnumerable,gx=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function yx(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||bS.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-mx(-t):mx(t);if(n!==t){var i=String(n),s=wy.call(e,i.length+1);return rs.call(i,r,"$&_")+"."+rs.call(rs.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return rs.call(e,r,"$&_")}var Og=hR,vx=Og.custom,_x=SS(vx)?vx:null,bR=function t(e,r,n,i){var s=r||{};if(Qi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Qi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Qi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Qi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Qi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return CS(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?yx(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return l?yx(e,h):h}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return Dg(e)?"[Array]":"[Object]";var p=UR(s,n);if(typeof i>"u")i=[];else if(TS(i,e)>=0)return"[Circular]";function m(R,L,W){if(L&&(i=xR.call(i),i.push(L)),W){var $={depth:s.depth};return Qi(s,"quoteStyle")&&($.quoteStyle=s.quoteStyle),t(R,$,n+1,i)}return t(R,s,n+1,i)}if(typeof e=="function"&&!xx(e)){var y=RR(e),v=Mc(e,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(v.length>0?" { "+Qn.call(v,", ")+" }":"")}if(SS(e)){var x=wa?rs.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Mg.call(e);return typeof e=="object"&&!wa?al(x):x}if(LR(e)){for(var T="<"+fx.call(String(e.nodeName)),w=e.attributes||[],b=0;b<w.length;b++)T+=" "+w[b].name+"="+ES(wR(w[b].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+fx.call(String(e.nodeName))+">",T}if(Dg(e)){if(e.length===0)return"[]";var E=Mc(e,m);return p&&!BR(E)?"["+Ng(E,p)+"]":"[ "+Qn.call(E,", ")+" ]"}if(SR(e)){var C=Mc(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!wS.call(e,"cause")?"{ ["+String(e)+"] "+Qn.call(px.call("[cause]: "+m(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Qn.call(C,", ")+" }"}if(typeof e=="object"&&o){if(_x&&typeof e[_x]=="function"&&Og)return Og(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(kR(e)){var A=[];return cx&&cx.call(e,function(R,L){A.push(m(L,e,!0)+" => "+m(R,e))}),bx("Map",Zh.call(e),A,p)}if(DR(e)){var D=[];return hx&&hx.call(e,function(R){D.push(m(R,e))}),bx("Set",Jh.call(e),D,p)}if(MR(e))return Kp("WeakMap");if(NR(e))return Kp("WeakSet");if(OR(e))return Kp("WeakRef");if(CR(e))return al(m(Number(e)));if(AR(e))return al(m(kg.call(e)));if(PR(e))return al(mR.call(e));if(TR(e))return al(m(String(e)));if(!ER(e)&&!xx(e)){var M=Mc(e,m),O=gx?gx(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",U=!O&&lr&&Object(e)===e&&lr in e?wy.call(ws(e),8,-1):I?"Object":"",z=O||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",B=z+(U||I?"["+Qn.call(px.call([],U||[],I||[]),": ")+"] ":"");return M.length===0?B+"{}":p?B+"{"+Ng(M,p)+"}":B+"{ "+Qn.call(M,", ")+" }"}return String(e)};function ES(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function wR(t){return rs.call(String(t),/"/g,"&quot;")}function Dg(t){return ws(t)==="[object Array]"&&(!lr||!(typeof t=="object"&&lr in t))}function ER(t){return ws(t)==="[object Date]"&&(!lr||!(typeof t=="object"&&lr in t))}function xx(t){return ws(t)==="[object RegExp]"&&(!lr||!(typeof t=="object"&&lr in t))}function SR(t){return ws(t)==="[object Error]"&&(!lr||!(typeof t=="object"&&lr in t))}function TR(t){return ws(t)==="[object String]"&&(!lr||!(typeof t=="object"&&lr in t))}function CR(t){return ws(t)==="[object Number]"&&(!lr||!(typeof t=="object"&&lr in t))}function PR(t){return ws(t)==="[object Boolean]"&&(!lr||!(typeof t=="object"&&lr in t))}function SS(t){if(wa)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Mg)return!1;try{return Mg.call(t),!0}catch{}return!1}function AR(t){if(!t||typeof t!="object"||!kg)return!1;try{return kg.call(t),!0}catch{}return!1}var IR=Object.prototype.hasOwnProperty||function(t){return t in this};function Qi(t,e){return IR.call(t,e)}function ws(t){return gR.call(t)}function RR(t){if(t.name)return t.name;var e=vR.call(yR.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function TS(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function kR(t){if(!Zh||!t||typeof t!="object")return!1;try{Zh.call(t);try{Jh.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function MR(t){if(!Ol||!t||typeof t!="object")return!1;try{Ol.call(t,Ol);try{Dl.call(t,Dl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function OR(t){if(!dx||!t||typeof t!="object")return!1;try{return dx.call(t),!0}catch{}return!1}function DR(t){if(!Jh||!t||typeof t!="object")return!1;try{Jh.call(t);try{Zh.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function NR(t){if(!Dl||!t||typeof t!="object")return!1;try{Dl.call(t,Dl);try{Ol.call(t,Ol)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function LR(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function CS(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return CS(wy.call(t,0,e.maxStringLength),e)+n}var i=rs.call(rs.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,FR);return ES(i,"single",e)}function FR(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+_R.call(e.toString(16))}function al(t){return"Object("+t+")"}function Kp(t){return t+" { ? }"}function bx(t,e,r,n){var i=n?Ng(r,n):Qn.call(r,", ");return t+" ("+e+") {"+i+"}"}function BR(t){for(var e=0;e<t.length;e++)if(TS(t[e],`
`)>=0)return!1;return!0}function UR(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Qn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Qn.call(Array(e+1),r)}}function Ng(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Qn.call(t,","+r)+`
`+e.prev}function Mc(t,e){var r=Dg(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Qi(t,i)?e(t[i],t):""}var s=typeof Qp=="function"?Qp(t):[],o;if(wa){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var c in t)Qi(t,c)&&(r&&String(Number(c))===c&&c<t.length||wa&&o["$"+c]instanceof Symbol||(bS.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof Qp=="function")for(var h=0;h<s.length;h++)wS.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var Ey=_y,Ma=lR,zR=bR,jR=Ey("%TypeError%"),Oc=Ey("%WeakMap%",!0),Dc=Ey("%Map%",!0),$R=Ma("WeakMap.prototype.get",!0),GR=Ma("WeakMap.prototype.set",!0),HR=Ma("WeakMap.prototype.has",!0),WR=Ma("Map.prototype.get",!0),VR=Ma("Map.prototype.set",!0),XR=Ma("Map.prototype.has",!0),Sy=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},YR=function(t,e){var r=Sy(t,e);return r&&r.value},QR=function(t,e,r){var n=Sy(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},KR=function(t,e){return!!Sy(t,e)},qR=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new jR("Side channel does not contain "+zR(s))},get:function(s){if(Oc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return $R(e,s)}else if(Dc){if(r)return WR(r,s)}else if(n)return YR(n,s)},has:function(s){if(Oc&&s&&(typeof s=="object"||typeof s=="function")){if(e)return HR(e,s)}else if(Dc){if(r)return XR(r,s)}else if(n)return KR(n,s);return!1},set:function(s,o){Oc&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Oc),GR(e,s,o)):Dc?(r||(r=new Dc),VR(r,s,o)):(n||(n={key:{},next:null}),QR(n,s,o))}};return i},ZR=String.prototype.replace,JR=/%20/g,qp={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ty={default:qp.RFC3986,formatters:{RFC1738:function(t){return ZR.call(t,JR,"+")},RFC3986:function(t){return String(t)}},RFC1738:qp.RFC1738,RFC3986:qp.RFC3986},ek=Ty,Zp=Object.prototype.hasOwnProperty,$s=Array.isArray,Hn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),tk=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if($s(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},PS=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},rk=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if($s(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Zp.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return $s(e)&&!$s(r)&&(i=PS(e,n)),$s(e)&&$s(r)?(r.forEach(function(s,o){if(Zp.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var l=r[o];return Zp.call(s,o)?s[o]=t(s[o],l,n):s[o]=l,s},i)},nk=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},ik=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},sk=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var l="",c=0;c<o.length;++c){var h=o.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===ek.RFC1738&&(h===40||h===41)){l+=o.charAt(c);continue}if(h<128){l=l+Hn[h];continue}if(h<2048){l=l+(Hn[192|h>>6]+Hn[128|h&63]);continue}if(h<55296||h>=57344){l=l+(Hn[224|h>>12]+Hn[128|h>>6&63]+Hn[128|h&63]);continue}c+=1,h=65536+((h&1023)<<10|o.charCodeAt(c)&1023),l+=Hn[240|h>>18]+Hn[128|h>>12&63]+Hn[128|h>>6&63]+Hn[128|h&63]}return l},ok=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],l=Object.keys(o),c=0;c<l.length;++c){var h=l[c],d=o[h];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:h}),n.push(d))}return tk(r),e},ak=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},lk=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},uk=function(e,r){return[].concat(e,r)},ck=function(e,r){if($s(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},AS={arrayToObject:PS,assign:nk,combine:uk,compact:ok,decode:ik,encode:sk,isBuffer:lk,isRegExp:ak,maybeMap:ck,merge:rk},IS=qR,Lg=AS,Nl=Ty,hk=Object.prototype.hasOwnProperty,wx={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},gi=Array.isArray,dk=String.prototype.split,fk=Array.prototype.push,RS=function(t,e){fk.apply(t,gi(e)?e:[e])},pk=Date.prototype.toISOString,Ex=Nl.default,Vt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Lg.encode,encodeValuesOnly:!1,format:Ex,formatter:Nl.formatters[Ex],indices:!1,serializeDate:function(e){return pk.call(e)},skipNulls:!1,strictNullHandling:!1},mk=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Jp={},gk=function t(e,r,n,i,s,o,l,c,h,d,p,m,y,v,x,T){for(var w=e,b=T,E=0,C=!1;(b=b.get(Jp))!==void 0&&!C;){var A=b.get(e);if(E+=1,typeof A<"u"){if(A===E)throw new RangeError("Cyclic object value");C=!0}typeof b.get(Jp)>"u"&&(E=0)}if(typeof c=="function"?w=c(r,w):w instanceof Date?w=p(w):n==="comma"&&gi(w)&&(w=Lg.maybeMap(w,function(G){return G instanceof Date?p(G):G})),w===null){if(s)return l&&!v?l(r,Vt.encoder,x,"key",m):r;w=""}if(mk(w)||Lg.isBuffer(w)){if(l){var D=v?r:l(r,Vt.encoder,x,"key",m);if(n==="comma"&&v){for(var M=dk.call(String(w),","),O="",I=0;I<M.length;++I)O+=(I===0?"":",")+y(l(M[I],Vt.encoder,x,"value",m));return[y(D)+(i&&gi(w)&&M.length===1?"[]":"")+"="+O]}return[y(D)+"="+y(l(w,Vt.encoder,x,"value",m))]}return[y(r)+"="+y(String(w))]}var U=[];if(typeof w>"u")return U;var z;if(n==="comma"&&gi(w))z=[{value:w.length>0?w.join(",")||null:void 0}];else if(gi(c))z=c;else{var B=Object.keys(w);z=h?B.sort(h):B}for(var R=i&&gi(w)&&w.length===1?r+"[]":r,L=0;L<z.length;++L){var W=z[L],$=typeof W=="object"&&typeof W.value<"u"?W.value:w[W];if(!(o&&$===null)){var X=gi(w)?typeof n=="function"?n(R,W):R:R+(d?"."+W:"["+W+"]");T.set(e,E);var k=IS();k.set(Jp,T),RS(U,t($,X,n,i,s,o,l,c,h,d,p,m,y,v,x,k))}}return U},yk=function(e){if(!e)return Vt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Vt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Nl.default;if(typeof e.format<"u"){if(!hk.call(Nl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Nl.formatters[n],s=Vt.filter;return(typeof e.filter=="function"||gi(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Vt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Vt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Vt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Vt.encode,encoder:typeof e.encoder=="function"?e.encoder:Vt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Vt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Vt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Vt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vt.strictNullHandling}},vk=function(t,e){var r=t,n=yk(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):gi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in wx?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=wx[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=IS(),p=0;p<i.length;++p){var m=i[p];n.skipNulls&&r[m]===null||RS(o,gk(r[m],m,c,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var y=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),y.length>0?v+y:""},Ea=AS,Fg=Object.prototype.hasOwnProperty,_k=Array.isArray,Ut={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ea.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},xk=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},kS=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},bk="utf8=%26%2310003%3B",wk="utf8=%E2%9C%93",Ek=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),l=-1,c,h=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===wk?h="utf-8":o[c]===bk&&(h="iso-8859-1"),l=c,c=o.length);for(c=0;c<o.length;++c)if(c!==l){var d=o[c],p=d.indexOf("]="),m=p===-1?d.indexOf("="):p+1,y,v;m===-1?(y=r.decoder(d,Ut.decoder,h,"key"),v=r.strictNullHandling?null:""):(y=r.decoder(d.slice(0,m),Ut.decoder,h,"key"),v=Ea.maybeMap(kS(d.slice(m+1),r),function(x){return r.decoder(x,Ut.decoder,h,"value")})),v&&r.interpretNumericEntities&&h==="iso-8859-1"&&(v=xk(v)),d.indexOf("[]=")>-1&&(v=_k(v)?[v]:v),Fg.call(n,y)?n[y]=Ea.combine(n[y],v):n[y]=v}return n},Sk=function(t,e,r,n){for(var i=n?e:kS(e,r),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(h)&&l!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Tk=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,d=[];if(h){if(!n.plainObjects&&Fg.call(Object.prototype,h)&&!n.allowPrototypes)return;d.push(h)}for(var p=0;n.depth>0&&(c=l.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Fg.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+s.slice(c.index)+"]"),Sk(d,r,n,i)}},Ck=function(e){if(!e)return Ut;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ut.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Ut.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ut.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ut.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ut.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ut.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ut.comma,decoder:typeof e.decoder=="function"?e.decoder:Ut.decoder,delimiter:typeof e.delimiter=="string"||Ea.isRegExp(e.delimiter)?e.delimiter:Ut.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ut.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ut.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ut.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ut.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ut.strictNullHandling}},Pk=function(t,e){var r=Ck(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Ek(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var l=s[o],c=Tk(l,n[l],r,typeof t=="string");i=Ea.merge(i,c,r)}return r.allowSparse===!0?i:Ea.compact(i)},Ak=vk,Ik=Pk,Rk=Ty,kk={formats:Rk,parse:Ik,stringify:Ak},Mk=N3;function An(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ok=/^([a-z0-9.+-]+:)/i,Dk=/:[0-9]*$/,Nk=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Lk=["<",">",'"',"`"," ","\r",`
`,"	"],Fk=["{","}","|","\\","^","`"].concat(Lk),Bg=["'"].concat(Fk),Sx=["%","/","?",";","#"].concat(Bg),Tx=["/","?","#"],Bk=255,Cx=/^[+a-z0-9A-Z_-]{0,63}$/,Uk=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zk={javascript:!0,"javascript:":!0},Ug={javascript:!0,"javascript:":!0},ua={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},zg=kk;function Ld(t,e,r){if(t&&typeof t=="object"&&t instanceof An)return t;var n=new An;return n.parse(t,e,r),n}An.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=Nk.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=zg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=Ok.exec(l);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,l=l.substr(h.length)}if(r||h||l.match(/^\/\/[^@/]+@[^@/]+/)){var p=l.substr(0,2)==="//";p&&!(h&&Ug[h])&&(l=l.substr(2),this.slashes=!0)}if(!Ug[h]&&(p||h&&!ua[h])){for(var m=-1,y=0;y<Tx.length;y++){var v=l.indexOf(Tx[y]);v!==-1&&(m===-1||v<m)&&(m=v)}var x,T;m===-1?T=l.lastIndexOf("@"):T=l.lastIndexOf("@",m),T!==-1&&(x=l.slice(0,T),l=l.slice(T+1),this.auth=decodeURIComponent(x)),m=-1;for(var y=0;y<Sx.length;y++){var v=l.indexOf(Sx[y]);v!==-1&&(m===-1||v<m)&&(m=v)}m===-1&&(m=l.length),this.host=l.slice(0,m),l=l.slice(m),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var b=this.hostname.split(/\./),y=0,E=b.length;y<E;y++){var C=b[y];if(C&&!C.match(Cx)){for(var A="",D=0,M=C.length;D<M;D++)C.charCodeAt(D)>127?A+="x":A+=C[D];if(!A.match(Cx)){var O=b.slice(0,y),I=b.slice(y+1),U=C.match(Uk);U&&(O.push(U[1]),I.unshift(U[2])),I.length&&(l="/"+I.join(".")+l),this.hostname=O.join(".");break}}}this.hostname.length>Bk?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=Mk.toASCII(this.hostname));var z=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+z,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!zk[d])for(var y=0,E=Bg.length;y<E;y++){var R=Bg[y];if(l.indexOf(R)!==-1){var L=encodeURIComponent(R);L===R&&(L=escape(R)),l=l.split(R).join(L)}}var W=l.indexOf("#");W!==-1&&(this.hash=l.substr(W),l=l.slice(0,W));var $=l.indexOf("?");if($!==-1?(this.search=l.substr($),this.query=l.substr($+1),e&&(this.query=zg.parse(this.query)),l=l.slice(0,$)):e&&(this.search="",this.query={}),l&&(this.pathname=l),ua[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",X=this.search||"";this.path=z+X}return this.href=this.format(),this};function jk(t){return typeof t=="string"&&(t=Ld(t)),t instanceof An?t.format():An.prototype.format.call(t)}An.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=zg.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ua[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+i+r+o+n};function $k(t,e){return Ld(t,!1,!0).resolve(e)}An.prototype.resolve=function(t){return this.resolveObject(Ld(t,!1,!0)).format()};An.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new An;e.parse(t,!1,!0),t=e}for(var r=new An,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var c=o[l];c!=="protocol"&&(r[c]=t[c])}return ua[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ua[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Ug[t.protocol]){for(var E=(t.pathname||"").split("/");E.length&&!(t.host=E.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),E[0]!==""&&E.unshift(""),E.length<2&&E.unshift(""),r.pathname=E.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",x=t.host||t.pathname&&t.pathname.charAt(0)==="/",T=x||v||r.host&&t.pathname,w=T,b=r.pathname&&r.pathname.split("/")||[],E=t.pathname&&t.pathname.split("/")||[],C=r.protocol&&!ua[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(E[0]===""?E[0]=t.host:E.unshift(t.host)),t.host=null),T=T&&(E[0]===""||b[0]==="")),x)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=E;else if(E.length)b||(b=[]),b.pop(),b=b.concat(E),r.search=t.search,r.query=t.query;else if(t.search!=null){if(C){r.host=b.shift(),r.hostname=r.host;var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;A&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var D=b.slice(-1)[0],M=(r.host||t.host||b.length>1)&&(D==="."||D==="..")||D==="",O=0,I=b.length;I>=0;I--)D=b[I],D==="."?b.splice(I,1):D===".."?(b.splice(I,1),O++):O&&(b.splice(I,1),O--);if(!T&&!w)for(;O--;O)b.unshift("..");T&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),M&&b.join("/").substr(-1)!=="/"&&b.push("");var U=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(C){r.hostname=U?"":b.length?b.shift():"",r.host=r.hostname;var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;A&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)}return T=T||r.host&&b.length,T&&!U&&b.unshift(""),b.length>0?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};An.prototype.parseHost=function(){var t=this.host,e=Dk.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Gk=Ld,Hk=$k,Wk=jk;const Vk={parse:Gk,format:Wk,resolve:Hk};function hn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function ll(t){return t.split("?")[0].split("#")[0]}function Xk(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Yk(t,e,r){return t.replace(new RegExp(Xk(e),"g"),r)}function Qk(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,l)}`:r=t.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return r}const or={toPosix(t){return Yk(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){hn(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=ll(this.toPosix(e??ce.ADAPTER.getBaseUrl())),i=ll(this.toPosix(r??this.rootname(n)));return hn(t),t=this.toPosix(t),t.startsWith("/")?or.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),hn(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Qk(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return hn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(hn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(hn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!i){n=l;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){hn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){hn(t),e&&hn(e),t=ll(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){hn(t),t=ll(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),l===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){hn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=ll(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,l=-1,c=!0,h=t.length-1,d=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}l===-1&&(c=!1,l=h+1),r===46?s===-1?s=h:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||l===-1||d===0||d===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(o,s),e.base=t.slice(o,l)),e.ext=t.slice(s,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},Px={};function ze(t,e,r=3){if(Px[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Px[e]=!0}let em;function Kk(){return typeof em>"u"&&(em=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ce.ADAPTER.getWebGLRenderingContext())return!1;const n=ce.ADAPTER.createCanvas();let i=n.getContext("webgl",e)||n.getContext("experimental-webgl",e);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),em}var qk={grad:.9,turn:360,rad:360/(2*Math.PI)},hi=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},$t=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},en=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},MS=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Ax=function(t){return{r:en(t.r,0,255),g:en(t.g,0,255),b:en(t.b,0,255),a:en(t.a)}},tm=function(t){return{r:$t(t.r),g:$t(t.g),b:$t(t.b),a:$t(t.a,3)}},Zk=/^#([0-9a-f]{3,8})$/i,Nc=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},OS=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),l=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:i}},DS=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),l=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,l,o,o,c,n][h],g:255*[c,n,n,l,o,o][h],b:255*[o,o,c,n,n,l][h],a:i}},Ix=function(t){return{h:MS(t.h),s:en(t.s,0,100),l:en(t.l,0,100),a:en(t.a)}},Rx=function(t){return{h:$t(t.h),s:$t(t.s),l:$t(t.l),a:$t(t.a,3)}},kx=function(t){return DS((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Ll=function(t){return{h:(e=OS(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},Jk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jg={string:[[function(t){var e=Zk.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?$t(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?$t(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=tM.exec(t)||rM.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Ax({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Jk.exec(t)||eM.exec(t);if(!e)return null;var r,n,i=Ix({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(qk[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return kx(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return hi(e)&&hi(r)&&hi(n)?Ax({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!hi(e)||!hi(r)||!hi(n))return null;var o=Ix({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return kx(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!hi(e)||!hi(r)||!hi(n))return null;var o=function(l){return{h:MS(l.h),s:en(l.s,0,100),v:en(l.v,0,100),a:en(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return DS(o)},"hsv"]]},Mx=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},nM=function(t){return typeof t=="string"?Mx(t.trim(),jg.string):typeof t=="object"&&t!==null?Mx(t,jg.object):[null,void 0]},rm=function(t,e){var r=Ll(t);return{h:r.h,s:en(r.s+100*e,0,100),l:r.l,a:r.a}},nm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Ox=function(t,e){var r=Ll(t);return{h:r.h,s:r.s,l:en(r.l+100*e,0,100),a:r.a}},$g=function(){function t(e){this.parsed=nM(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return $t(nm(this.rgba),2)},t.prototype.isDark=function(){return nm(this.rgba)<.5},t.prototype.isLight=function(){return nm(this.rgba)>=.5},t.prototype.toHex=function(){return e=tm(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Nc($t(255*s)):"","#"+Nc(r)+Nc(n)+Nc(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return tm(this.rgba)},t.prototype.toRgbString=function(){return e=tm(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return Rx(Ll(this.rgba))},t.prototype.toHslString=function(){return e=Rx(Ll(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=OS(this.rgba),{h:$t(e.h),s:$t(e.s),v:$t(e.v),a:$t(e.a,3)};var e},t.prototype.invert=function(){return Wn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Wn(rm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Wn(rm(this.rgba,-e))},t.prototype.grayscale=function(){return Wn(rm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Wn(Ox(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Wn(Ox(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Wn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):$t(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Ll(this.rgba);return typeof e=="number"?Wn({h:e,s:r.s,l:r.l,a:r.a}):$t(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Wn(e).toHex()},t}(),Wn=function(t){return t instanceof $g?t:new $g(t)},Dx=[],iM=function(t){t.forEach(function(e){Dx.indexOf(e)<0&&(e($g,jg),Dx.push(e))})};function sM(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var d=this.toRgb(),p=1/0,m="black";if(!s.length)for(var y in r)s[y]=new t(r[y]).toRgb();for(var v in r){var x=(l=d,c=s[v],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));x<p&&(p=x,m=v)}return m}},e.string.push([function(o){var l=o.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}iM([sM]);const ca=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof ca)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((i,s)=>i===e[s]);if(t!==null&&e!==null){const i=Object.keys(t),s=Object.keys(e);return i.length!==s.length?!1:i.every(o=>t[o]===e[o])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=ca.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=ca.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=Wn(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let Ze=ca;Ze.shared=new ca;Ze.temp=new ca;Ze.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function oM(t){return ze("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ze.shared.setValue(t).toHex()}function aM(t){return ze("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ze.shared.setValue(t).toNumber()}function lM(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Ce.NORMAL_NPM]=Ce.NORMAL,t[Ce.ADD_NPM]=Ce.ADD,t[Ce.SCREEN_NPM]=Ce.SCREEN,e[Ce.NORMAL]=Ce.NORMAL_NPM,e[Ce.ADD]=Ce.ADD_NPM,e[Ce.SCREEN]=Ce.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const NS=lM();function LS(t,e){return NS[e?1:0][t]}function uM(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function FS(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function ed(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Nx(t){return!(t&t-1)&&!!t}function Lx(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ha(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function ns(t){return t===0?0:t<0?-1:1}let cM=0;function oo(){return++cM}const BS=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Gg=BS;Gg.EMPTY=new BS(0,0,0,0);const Fx={},Vn=Object.create(null),Vi=Object.create(null);class hM{constructor(e,r,n){this._canvas=ce.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ce.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Bx(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function Ux(t,e,r,n,i){const s=4*e;for(let o=n,l=n*s+4*r;o<=i;++o,l+=s)if(t[l+3]!==0)return!1;return!0}function dM(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,r).data;let o=0,l=0,c=e-1,h=r-1;for(;l<r&&Bx(s,e,l);)++l;if(l===r)return Gg.EMPTY;for(;Bx(s,e,h);)--h;for(;Ux(s,e,o,l,h);)++o;for(;Ux(s,e,c,l,h);)--c;return++c,++h,new Gg(o,l,c,h)}function fM(t){const e=dM(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let Lc;function pM(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Lc||(Lc=document.createElement("a")),Lc.href=t;const r=Vk.parse(Lc.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function ms(t,e=1){var n;const r=(n=ce.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var he=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(he||{});const Hg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},zx=(t,e)=>Hg(t).priority??e,be={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Hg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Hg).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>zx(s,r)-zx(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Wg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const mM=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function gM(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function yM(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=mM.replace(/%forloop%/gi,gM(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const im=0,sm=1,om=2,am=3,lm=4,um=5;class Mi{constructor(){this.data=0,this.blendMode=Ce.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<im)}set blend(e){!!(this.data&1<<im)!==e&&(this.data^=1<<im)}get offsets(){return!!(this.data&1<<sm)}set offsets(e){!!(this.data&1<<sm)!==e&&(this.data^=1<<sm)}get culling(){return!!(this.data&1<<om)}set culling(e){!!(this.data&1<<om)!==e&&(this.data^=1<<om)}get depthTest(){return!!(this.data&1<<am)}set depthTest(e){!!(this.data&1<<am)!==e&&(this.data^=1<<am)}get depthMask(){return!!(this.data&1<<um)}set depthMask(e){!!(this.data&1<<um)!==e&&(this.data^=1<<um)}get clockwiseFrontFace(){return!!(this.data&1<<lm)}set clockwiseFrontFace(e){!!(this.data&1<<lm)!==e&&(this.data^=1<<lm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ce.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Mi;return e.depthTest=!1,e.blend=!0,e}}const Vg=[];function US(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Vg.length-1;n>=0;--n){const i=Vg[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class In{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:d}=this;this._aliasCount++;for(let p=0,m=d.length;p<m;p++)d[p][h](e,r,n,i,s,o,l,c);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(In.prototype,{dispatch:{value:In.prototype.emit},run:{value:In.prototype.emit}});class su{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new In("setRealSize"),this.onUpdate=new In("update"),this.onError=new In("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class _u extends su{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const vM={scaleMode:_i.NEAREST,format:oe.RGBA,alphaMode:Mn.NPM},No=class extends yu{constructor(t=null,e=null){super(),e=Object.assign({},No.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:l,wrapMode:c,format:h,type:d,target:p,resolution:m,resourceOptions:y}=e;t&&!(t instanceof su)&&(t=US(t,y),t.internal=!0),this.resolution=m||ce.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=c,this._scaleMode=s,this.format=h,this.type=d,this.target=p,this.alphaMode=r,this.uid=oo(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Nx(this.realWidth)&&Nx(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Vi[this.cacheId],delete Vn[this.cacheId],this.cacheId=null),this.dispose(),No.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=ce.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${oo()}`}i=t._pixiId}let s=Vi[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new No(t,e),s.cacheId=i,No.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new _u(t,{width:e,height:r}),s=t instanceof Float32Array?Te.FLOAT:Te.UNSIGNED_BYTE;return new No(i,Object.assign({},vM,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Vi[e]&&Vi[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Vi[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Vi[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Vi[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Vi[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let ke=No;ke.defaultOptions={mipmap:ti.POW2,anisotropicLevel:0,scaleMode:_i.LINEAR,wrapMode:Ei.CLAMP,alphaMode:Mn.UNPACK,target:aa.TEXTURE_2D,format:oe.RGBA,type:Te.UNSIGNED_BYTE};ke._globalBatch=0;class Xg{constructor(){this.texArray=null,this.blend=0,this.type=Zr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let _M=0;class Et{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=_M++,this.disposeRunner=new In("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Jn.ELEMENT_ARRAY_BUFFER:Jn.ARRAY_BUFFER}get index(){return this.type===Jn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Et(e)}}class td{constructor(e,r=0,n=!1,i=Te.FLOAT,s,o,l,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new td(e,r,n,i,s)}}const xM={Float32Array,Uint32Array,Int32Array,Uint8Array};function bM(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,l=0;for(let c=0;c<t.length;c++){const h=e[c],d=t[c],p=FS(d);i[p]||(i[p]=new xM[p](s)),o=i[p];for(let m=0;m<d.length;m++){const y=(m/h|0)*n+l,v=m%h;o[y+v]=d[m]}l+=h}return new Float32Array(s)}const jx={5126:4,5123:2,5121:1};let wM=0;const EM={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class gs{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=wM++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new In("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,l,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Et||(r instanceof Array&&(r=new Float32Array(r)),r=new Et(r));const h=e.split("|");if(h.length>1){for(let p=0;p<h.length;p++)this.addAttribute(h[p],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new td(d,n,i,s,o,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Et||(e instanceof Array&&(e=new Uint16Array(e)),e=new Et(e)),e.type=Jn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Et;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*jx[s.type]/4),s.buffer=0}for(n.data=bM(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new gs;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Et(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new td(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Jn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new gs,n=[],i=[],s=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let l=0;l<o.buffers.length;l++)n[l]=new EM[FS(o.buffers[l].data)](i[l]),r.buffers[l]=new Et(n[l]);for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Jn.ELEMENT_ARRAY_BUFFER;let l=0,c=0,h=0,d=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){d=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===d&&(c+=m.size*jx[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let y=0;y<m.length;y++)r.indexBuffer.data[y+h]+=l;l+=e[p].buffers[d].data.length/c,h+=m.length}}return r}}class zS extends gs{constructor(e=!1){super(),this._buffer=new Et(null,e,!1),this._indexBuffer=new Et(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Te.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Te.FLOAT).addAttribute("aColor",this._buffer,4,!0,Te.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Te.FLOAT).addIndex(this._indexBuffer)}}const rd=Math.PI*2,SM=180/Math.PI,TM=Math.PI/180;var Qt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Qt||{});class Ge{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Ge(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Fc=[new Ge,new Ge,new Ge,new Ge];class Fe{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Qt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Fe(0,0,0,0)}clone(){return new Fe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const O=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=O)return!1;const U=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>U}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const l=Fc[0].set(e.left,e.top),c=Fc[1].set(e.left,e.bottom),h=Fc[2].set(e.right,e.top),d=Fc[3].set(e.right,e.bottom);if(h.x<=l.x||c.y<=l.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(l,l),r.apply(c,c),r.apply(h,h),r.apply(d,d),Math.max(l.x,c.x,h.x,d.x)<=n||Math.min(l.x,c.x,h.x,d.x)>=i||Math.max(l.y,c.y,h.y,d.y)<=s||Math.min(l.y,c.y,h.y,d.y)>=o))return!1;const m=p*(c.y-l.y),y=p*(l.x-c.x),v=m*n+y*s,x=m*i+y*s,T=m*n+y*o,w=m*i+y*o;if(Math.max(v,x,T,w)<=m*l.x+y*l.y||Math.min(v,x,T,w)>=m*d.x+y*d.y)return!1;const b=p*(l.y-h.y),E=p*(h.x-l.x),C=b*n+E*s,A=b*i+E*s,D=b*n+E*o,M=b*i+E*o;return!(Math.max(C,A,D,M)<=b*l.x+E*l.y||Math.min(C,A,D,M)>=b*d.x+E*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Cy{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Qt.CIRC}clone(){return new Cy(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Fe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Py{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Qt.ELIP}clone(){return new Py(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Fe(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class da{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Qt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new da(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const l=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],d=this.points[o*2+1];c>r!=d>r&&e<(h-l)*((r-c)/(d-c))+l&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class Ay{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Qt.RREC}clone(){return new Ay(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class ct{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ge;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Ge;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,l,c,h){return this.a=Math.cos(l+h)*s,this.b=Math.sin(l+h)*s,this.c=-Math.sin(l-c)*o,this.d=Math.cos(l-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,l=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(l+c);return h<1e-5||Math.abs(rd-h)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ct;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new ct}static get TEMP_MATRIX(){return new ct}}const Bs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Us=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],zs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],js=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Yg=[],jS=[],Bc=Math.sign;function CM(){for(let t=0;t<16;t++){const e=[];Yg.push(e);for(let r=0;r<16;r++){const n=Bc(Bs[t]*Bs[r]+zs[t]*Us[r]),i=Bc(Us[t]*Bs[r]+js[t]*Us[r]),s=Bc(Bs[t]*zs[r]+zs[t]*js[r]),o=Bc(Us[t]*zs[r]+js[t]*js[r]);for(let l=0;l<16;l++)if(Bs[l]===n&&Us[l]===i&&zs[l]===s&&js[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new ct;e.set(Bs[t],Us[t],zs[t],js[t],0,0),jS.push(e)}}CM();const ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Bs[t],uY:t=>Us[t],vX:t=>zs[t],vY:t=>js[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Yg[t][e],sub:(t,e)=>Yg[t][ft.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ft.S:ft.N:Math.abs(e)*2<=Math.abs(t)?t>0?ft.E:ft.W:e>0?t>0?ft.SE:ft.SW:t>0?ft.NE:ft.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=jS[ft.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class bi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new bi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const $S=class{constructor(){this.worldTransform=new ct,this.localTransform=new ct,this.position=new bi(this.onChange,this,0,0),this.scale=new bi(this.onChange,this,1,1),this.pivot=new bi(this.onChange,this,0,0),this.skew=new bi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Fd=$S;Fd.IDENTITY=new $S;var PM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,AM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function $x(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function cm(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function GS(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return cm(2*e);case"bvec3":return cm(3*e);case"bvec4":return cm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const fa=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],IM={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},RM={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function kM(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let l=!1;for(let c=0;c<fa.length;c++)if(fa[c].test(s,o)){r.push(fa[c].code(i,o)),l=!0;break}if(!l){const h=(s.size===1&&!s.isArray?IM:RM)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const HS={};let ko=HS;function MM(){if(ko===HS||ko!=null&&ko.isContextLost()){const t=ce.ADAPTER.createCanvas();let e;ce.PREFER_ENV>=uo.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ko=e}return ko}let Uc;function OM(){if(!Uc){Uc=Jr.MEDIUM;const t=MM();t&&t.getShaderPrecisionFormat&&(Uc=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Jr.HIGH:Jr.MEDIUM)}return Uc}function Gx(t,e){const r=t.getShaderSource(e).split(`
`).map((h,d)=>`${d}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),l=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);l[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function DM(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Gx(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||Gx(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const NM={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function WS(t){return NM[t]}let zc=null;const Hx={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function VS(t,e){if(!zc){const r=Object.keys(Hx);zc={};for(let n=0;n<r.length;++n){const i=r[n];zc[t[i]]=Hx[i]}}return zc[e]}function Wx(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Jr.HIGH&&r!==Jr.HIGH&&(n=Jr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Jr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let ul;function LM(){if(typeof ul=="boolean")return ul;try{ul=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ul=!1}return ul}let FM=0;const jc={},Lo=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=FM++,this.vertexSrc=t||Lo.defaultVertexSrc,this.fragmentSrc=e||Lo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),jc[r]?(jc[r]++,r+=`-${jc[r]}`):jc[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=Wx(this.vertexSrc,Lo.defaultVertexPrecision,Jr.HIGH),this.fragmentSrc=Wx(this.fragmentSrc,Lo.defaultFragmentPrecision,OM())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return AM}static get defaultFragmentSrc(){return PM}static from(t,e,r){const n=t+e;let i=Fx[n];return i||(Fx[n]=i=new Lo(t,e,r)),i}};let En=Lo;En.defaultVertexPrecision=Jr.HIGH;En.defaultFragmentPrecision=xi.apple.device?Jr.HIGH:Jr.MEDIUM;let BM=0;class Rn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=BM++,this.static=!!r,this.ubo=!!n,e instanceof Et?(this.buffer=e,this.buffer.type=Jn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Et(new Float32Array(1)),this.buffer.type=Jn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Rn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Rn(e,r,n)}static uboFrom(e,r){return new Rn(e,r??!0,!0)}}class ei{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Rn?this.uniformGroup=r:this.uniformGroup=new Rn(r):this.uniformGroup=new Rn({}),this.disposeRunner=new In("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=En.from(e,r);return new ei(i,n)}}class UM{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Rn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new En(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ct,default:this.defaultGroupCache[e]};return new ei(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Qg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function zM(){return!xi.apple.device}function jM(t){let e=!0;const r=ce.ADAPTER.getNavigator();if(xi.tablet||xi.phone){if(xi.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(xi.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Bd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var $M=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,GM=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const fn=class extends Bd{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=zS,this.vertexSize=6,this.state=Mi.for2d(),this.size=fn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??jM(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??zM(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return ze("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return GM}static get defaultFragmentTemplate(){return $M}setShaderGenerator({vertex:t=fn.defaultVertexSrc,fragment:e=fn.defaultFragmentTemplate}={}){this.shaderGenerator=new UM(t,e)}contextChange(){const t=this.renderer.gl;ce.PREFER_ENV===uo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),fn.defaultMaxTextures),this.maxTextures=yM(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=fn,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Xg);for(;e.length<n;)e.push(new Qg);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=fn._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++ke._globalBatch,l=0,c=r[0],h=0;n.copyBoundTextures(i,e);for(let d=0;d<this._bufferSize;++d){const p=t[d];t[d]=null,p._batchEnabled!==o&&(c.count>=e&&(n.boundArray(c,i,o,e),this.buildDrawCalls(c,h,d),h=d,c=r[++l],++o),p._batchEnabled=o,p.touched=s,c.elements[c.count++]=p)}c.count>0&&(n.boundArray(c,i,o,e),this.buildDrawCalls(c,h,this._bufferSize),++l,++o);for(let d=0;d<i.length;d++)i[d]=null;ke._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,l=fn._drawCallPool;let c=this._dcIndex,h=this._aIndex,d=this._iIndex,p=l[c];p.start=this._iIndex,p.texArray=t;for(let m=e;m<r;++m){const y=n[m],v=y._texture.baseTexture,x=NS[v.alphaMode?1:0][y.blendMode];n[m]=null,e<m&&p.blend!==x&&(p.size=d-p.start,e=m,p=l[++c],p.texArray=t,p.start=d),this.packInterleavedGeometry(y,i,s,h,d),h+=y.vertexData.length/2*o,d+=y.indices.length,p.blend=x}e<r&&(p.size=d-p.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=d}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;fn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=fn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:l,size:c,start:h,blend:d}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=d,r.set(this.state),e.drawElements(l,c,e.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),fn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=ed(Math.ceil(t/8)),r=Lx(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Wg(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=ed(Math.ceil(t/12)),r=Lx(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,l=n/this.vertexSize,c=t.uvs,h=t.indices,d=t.vertexData,p=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),y=Ze.shared.setValue(t._tintRGB).toPremultiplied(m,t._texture.baseTexture.alphaMode>0);for(let v=0;v<d.length;v+=2)o[n++]=d[v],o[n++]=d[v+1],o[n++]=c[v],o[n++]=c[v+1],s[n++]=y,o[n++]=p;for(let v=0;v<h.length;v++)r[i++]=l+h[v]}};let xn=fn;xn.defaultBatchSize=4096;xn.extension={name:"batch",type:he.RendererPlugin};xn._drawCallPool=[];xn._textureArrayPool=[];be.add(xn);var HM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,WM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const vl=class extends ei{constructor(t,e,r){const n=En.from(t||vl.defaultVertexSrc,e||vl.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=vl.defaultResolution,this.multisample=vl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Mi}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return WM}static get defaultFragmentSrc(){return HM}};let Kt=vl;Kt.defaultResolution=1;Kt.defaultMultisample=At.NONE;class Ud{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ze(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Ud.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};Ud.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"background"};be.add(Ud);class XS{constructor(e){this.renderer=e,this.emptyRenderer=new Bd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:l}=e;let c=0;for(let h=0;h<l;h++){const d=s[h],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){o[h]=p;continue}for(;c<i;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}o[h]=c,d._batchLocation=c,r[c]=d;break}}}destroy(){this.renderer=null}}XS.extension={type:he.RendererSystem,name:"batch"};be.add(XS);let Vx=0;class zd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Vx++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Vx++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ce.PREFER_ENV>=uo.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}zd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};zd.extension={type:he.RendererSystem,name:"context"};be.add(zd);class VM extends _u{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class Kg{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new In("disposeFramebuffer"),this.multisample=At.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ke(null,{scaleMode:_i.NEAREST,resolution:1,mipmap:ti.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ke(new VM(null,{width:this.width,height:this.height}),{scaleMode:_i.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ti.OFF,format:oe.DEPTH_COMPONENT,type:Te.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class YS extends ke{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=At.NONE),super(null,e),this.mipmap=ti.OFF,this.valid=!0,this._clear=new Ze([0,0,0,0]),this.framebuffer=new Kg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ys extends su{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=pM(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,l=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=l,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class QS extends ys{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;ys.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Mn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const l=s[o];if(l!==n&&l.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class KS{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,l=e.height/2/s,c=e.x/i+o,h=e.y/s+l;n=ft.add(n,ft.NW),this.x0=c+o*ft.uX(n),this.y0=h+l*ft.uY(n),n=ft.add(n,2),this.x1=c+o*ft.uX(n),this.y1=h+l*ft.uY(n),n=ft.add(n,2),this.x2=c+o*ft.uX(n),this.y2=h+l*ft.uY(n),n=ft.add(n,2),this.x3=c+o*ft.uX(n),this.y3=h+l*ft.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const Xx=new KS;function $c(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ue extends yu{constructor(e,r,n,i,s,o,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Fe(0,0,1,1)),e instanceof ue&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=Xx,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ge(o.x,o.y):new Ge(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Vn[r.url]&&ue.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ue.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ue(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===Xx&&(this._uvs=new KS),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ke){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${oo()}`,ke.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${oo()}`}s=e._pixiId}let o=Vn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ke)?(r.resolution||(r.resolution=ms(e)),o=new ue(new ke(e,r)),o.baseTexture.cacheId=s,ke.addToCache(o.baseTexture,s),ue.addToCache(o,s)):!o&&e instanceof ke&&(o=new ue(e),ue.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ue.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ue(ke.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new ke(e,Object.assign({scaleMode:ke.defaultOptions.scaleMode,resolution:ms(r)},i)),{resource:o}=s;o instanceof QS&&(o.url=r);const l=new ue(s);return n||(n=r),ke.addToCache(l.baseTexture,n),ue.addToCache(l,n),n!==r&&(ke.addToCache(l.baseTexture,r),ue.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Vn[r]&&Vn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Vn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Vn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Vn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Vn[e.textureCacheIds[r]]===e&&delete Vn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,l=n+s>this.baseTexture.height;if(o||l){const c=o&&l?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ue._EMPTY||(ue._EMPTY=new ue(new ke),$c(ue._EMPTY),$c(ue._EMPTY.baseTexture)),ue._EMPTY}static get WHITE(){if(!ue._WHITE){const e=ce.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ue._WHITE=new ue(ke.from(e)),$c(ue._WHITE),$c(ue._WHITE.baseTexture)}return ue._WHITE}}class co extends ue{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new co(new YS(e))}}class qS{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=At.NONE){const i=new YS(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new co(i)}getOptimalTexture(e,r,n=1,i=At.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=ed(e),r=ed(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||At.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}qS.SCREEN_KEY=-1;class XM extends gs{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class ZS extends gs{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Et(this.vertices),this.uvBuffer=new Et(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class YM{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=At.NONE,this.sourceFrame=new Fe,this.destinationFrame=new Fe,this.bindingSourceFrame=new Fe,this.bindingDestinationFrame=new Fe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Gc=[new Ge,new Ge,new Ge,new Ge],hm=new ct;class JS{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new qS,this.statePool=[],this.quad=new XM,this.quadUv=new ZS,this.tempRect=new Fe,this.activeState={},this.globalUniforms=new Rn({outputFrame:new Fe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new YM,o=this.renderer.renderTexture;let l=r[0].resolution,c=r[0].multisample,h=r[0].padding,d=r[0].autoFit,p=r[0].legacy??!0;for(let v=1;v<r.length;v++){const x=r[v];l=Math.min(l,x.resolution),c=Math.min(c,x.multisample),h=this.useMaxPadding?Math.max(h,x.padding):h+x.padding,d=d&&x.autoFit,p=p||(x.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=l,s.multisample=c,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const m=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(hm.copyFrom(n.projection.transform).invert(),m),d?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const y=this.tempRect;y.x=0,y.y=0,y.width=s.sourceFrame.width,y.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,y),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,l=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=r.sourceFrame.width*s[2]-.5*o[2],l[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Yn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,d=this.getOptimalFilterTexture(h.width,h.height,r.resolution);d.filterFrame=h.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(h.width,h.height,r.resolution),d.filterFrame=h.filterFrame),n[p].apply(this,h,d,Yn.CLEAR,r);const m=h;h=d,d=m}n[p].apply(this,h,c.renderTexture,Yn.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Yn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Yn.CLEAR||r===Yn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Zr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Zr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),l=r.worldTransform.copyTo(ct.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=At.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||At.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Gc[0],i=Gc[1],s=Gc[2],o=Gc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const l=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=l,r.y=c,r.width=h-l,r.height=d-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:l,c,d:h}=s;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?hm.copyFrom(s):hm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}JS.extension={type:he.RendererSystem,name:"filter"};be.add(JS);class QM{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=At.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const KM=new Fe;class eT{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Kg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Fe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ce.PREFER_ENV===uo.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,l=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,l)}else{const o=e.width>>n,l=e.height>>n;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Cg.COLOR|Cg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new QM(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const l=i[o],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const l=[];for(let c=0;c<o;c++){const h=s[c],d=h.parentTextureArray||h;this.renderer.texture.bind(d,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,d._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+c))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=At.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=At.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;c.blitFramebuffer||(c.blitFramebuffer=new Kg(i.width,i.height),c.blitFramebuffer.addColorTexture(0,d)),e=c.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=KM,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Fe}destroy(){this.renderer=null}}eT.extension={type:he.RendererSystem,name:"framebuffer"};be.add(eT);const dm={5126:4,5123:2,5121:1};class tT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ce.PREFER_ENV===uo.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,l,c)=>n.drawElementsInstancedANGLE(i,s,o,l,c),e.drawArraysInstanced=(i,s,o,l)=>n.drawArraysInstancedANGLE(i,s,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=r.program;l.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const c=this.getSignature(e,l),h=e.glVertexArrayObjects[this.CONTEXT_UID];let d=h[c];if(d)return h[l.id]=d,d;const p=e.buffers,m=e.attributes,y={},v={};for(const x in p)y[x]=0,v[x]=0;for(const x in m)!m[x].size&&l.attributeData[x]?m[x].size=l.attributeData[x].size:m[x].size||console.warn(`PIXI Geometry attribute '${x}' size cannot be determined (likely the bound shader does not have the attribute)`),y[m[x].buffer]+=m[x].size*dm[m[x].type];for(const x in m){const T=m[x],w=T.size;T.stride===void 0&&(y[T.buffer]===w*dm[T.type]?T.stride=0:T.stride=y[T.buffer]),T.start===void 0&&(T.start=v[T.buffer],v[T.buffer]+=w*dm[T.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let x=0;x<p.length;x++){const T=p[x];o.bind(T),n&&T._glBuffers[s].refCount++}return this.activateVao(e,l),h[l.id]=d,h[c]=d,i.bindVertexArray(null),o.unbind(Jn.ARRAY_BUFFER),d}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const h in l){const d=l[h],p=o[d.buffer],m=p._glBuffers[i];if(r.attributeData[h]){c!==m&&(s.bind(p),c=m);const y=r.attributeData[h].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(y,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*l,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}tT.extension={type:he.RendererSystem,name:"geometry"};be.add(tT);const Yx=new ct;class Iy{constructor(e,r){this._texture=e,this.mapCoord=new ct,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(Yx.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Yx));const o=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return l[0]=(r._frame.x+c+h)/o.width,l[1]=(r._frame.y+c+h)/o.height,l[2]=(r._frame.x+r._frame.width-c+h)/o.width,l[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var qM=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ZM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class JM extends Kt{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||ZM,r||qM,n),this.maskSprite=i,this.maskMatrix=new ct}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Iy(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class e4{constructor(e=null){this.type=kt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Kt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=kt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class rT{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new e4;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==kt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case kt.SCISSOR:this.renderer.scissor.push(n);break;case kt.STENCIL:this.renderer.stencil.push(n);break;case kt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case kt.COLOR:this.pushColorMask(n);break}n.type===kt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case kt.SCISSOR:this.renderer.scissor.pop(r);break;case kt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case kt.SPRITE:this.popSpriteMask(r);break;case kt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===kt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=kt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=kt.SCISSOR:e.type=kt.STENCIL:e.type=kt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new JM]));const s=this.renderer,o=s.renderTexture;let l,c;if(o.current){const d=o.current;l=e.resolution||d.resolution,c=e.multisample??d.multisample}else l=e.resolution||s.resolution,c=e.multisample??s.multisample;i[0].resolution=l,i[0].multisample=c,i[0].maskSprite=r;const h=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=h,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}rT.extension={type:he.RendererSystem,name:"mask"};be.add(rT);class nT{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Qx=new ct,Kx=[],yh=class extends nT{constructor(t){super(t),this.glConst=ce.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,Kx.pop()??new Fe);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||yh.isMatrixRotated(e.worldTransform)||yh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){yh.isMatrixRotated(i)||(i=i?Qx.copyFrom(i):Qx.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&Kx.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let iT=yh;iT.extension={type:he.RendererSystem,name:"scissor"};be.add(iT);class sT extends nT{constructor(e){super(e),this.glConst=ce.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}sT.extension={type:he.RendererSystem,name:"stencil"};be.add(sT);class oT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ze("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ze("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ze("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}oT.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"_plugin"};be.add(oT);class aT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ct,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}aT.extension={type:he.RendererSystem,name:"projection"};be.add(aT);const t4=new Fd;class lT{constructor(e){this.renderer=e,this._tempMatrix=new ct}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=co.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=t4,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,o}destroy(){}}lT.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"textureGenerator"};be.add(lT);const Os=new Fe,cl=new Fe;class uT{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Fe,this.destinationFrame=new Fe,this.viewportFrame=new Fe}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,l;e?(s=e.baseTexture,l=s.resolution,r||(Os.width=e.frame.width,Os.height=e.frame.height,r=Os),n||(cl.x=e.frame.x,cl.y=e.frame.y,cl.width=r.width,cl.height=r.height,n=cl),o=s.framebuffer):(l=i.resolution,r||(Os.width=i._view.screen.width,Os.height=i._view.screen.height,r=Os),n||(n=Os,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*l,c.y=n.y*l,c.width=n.width*l,c.height=n.height*l,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,l,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Ze.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=s.width!==o.width||s.height!==o.height;if(l){let{x:c,y:h,width:d,height:p}=this.viewportFrame;c=Math.round(c),h=Math.round(h),d=Math.round(d),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,d,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}uT.extension={type:he.RendererSystem,name:"renderTexture"};be.add(uT);class r4{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function n4(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=VS(e,s.type),l={type:o,name:s.name,size:WS(o),location:e.getAttribLocation(t,s.name)};r[s.name]=l}return r}function i4(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),c=VS(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:l,value:GS(c,s.size)}}return r}function s4(t,e){var c;const r=$x(t,t.VERTEX_SHADER,e.vertexSrc),n=$x(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(c=e.extra)==null?void 0:c.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||DM(t,i,r,n),e.attributeData=n4(i,t),e.uniformData=i4(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((d,p)=>d>p?1:-1);for(let d=0;d<h.length;d++)e.attributeData[h[d]].location=d,t.bindAttribLocation(i,d,h[d]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const h in e.uniformData){const d=e.uniformData[h];o[h]={location:t.getUniformLocation(i,h),value:GS(d.type,d.size)}}return new r4(i,o)}function o4(t,e,r,n,i){r.buffer.update(i)}const a4={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},cT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function l4(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=cT[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,i+=l}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function u4(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function c4(t,e){if(!t.autoManage)return{size:0,syncFunc:o4};const r=u4(t.uniforms,e),{uboElements:n,size:i}=l4(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const l=n[o],c=t.uniforms[l.data.name],h=l.data.name;let d=!1;for(let p=0;p<fa.length;p++){const m=fa[p];if(m.codeUbo&&m.test(l.data,c)){s.push(`offset = ${l.offset/4};`,fa[p].codeUbo(l.data.name,c)),d=!0;break}}if(!d)if(l.data.size>1){const p=WS(l.data.type),m=Math.max(cT[l.data.type]/16,1),y=p/m,v=(4-y%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*m}; i++)
                {
                    for(var j = 0; j < ${y}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const p=a4[l.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${l.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let h4=0;const Hc={textureCount:0,uboCount:0};class hT{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=h4++}systemCheck(){if(!LM())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Hc.textureCount=0,Hc.uboCount=0,this.syncUniformGroup(e.uniformGroup,Hc)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=kM(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Hc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=c4(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=s4(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}hT.extension={type:he.RendererSystem,name:"shader"};be.add(hT);class jd{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}jd.defaultOptions={hello:!1};jd.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"startup"};be.add(jd);function d4(t,e=[]){return e[Ce.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.ADD]=[t.ONE,t.ONE],e[Ce.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.NONE]=[0,0],e[Ce.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ce.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ce.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ce.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ce.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ce.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ce.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ce.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ce.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ce.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const f4=0,p4=1,m4=2,g4=3,y4=4,v4=5,qg=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ce.NONE,this._blendEq=!1,this.map=[],this.map[f4]=this.setBlend,this.map[p4]=this.setOffset,this.map[m4]=this.setCullFace,this.map[g4]=this.setDepthTest,this.map[y4]=this.setFrontFace,this.map[v4]=this.setDepthMask,this.checks=[],this.defaultState=new Mi,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=d4(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(qg.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(qg.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let dT=qg;dT.extension={type:he.RendererSystem,name:"state"};be.add(dT);class _4 extends yu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new In(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const vh=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=vh.defaultMaxIdle,this.checkCountMax=vh.defaultCheckCountMax,this.mode=vh.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==gy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let bn=vh;bn.defaultMode=gy.AUTO;bn.defaultMaxIdle=60*60;bn.defaultCheckCountMax=60*10;bn.extension={type:he.RendererSystem,name:"textureGC"};be.add(bn);class fm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Te.UNSIGNED_BYTE,this.internalFormat=oe.RGBA,this.samplerType=0}}function x4(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Te.UNSIGNED_BYTE]:{[oe.RGBA]:t.RGBA8,[oe.RGB]:t.RGB8,[oe.RG]:t.RG8,[oe.RED]:t.R8,[oe.RGBA_INTEGER]:t.RGBA8UI,[oe.RGB_INTEGER]:t.RGB8UI,[oe.RG_INTEGER]:t.RG8UI,[oe.RED_INTEGER]:t.R8UI,[oe.ALPHA]:t.ALPHA,[oe.LUMINANCE]:t.LUMINANCE,[oe.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Te.BYTE]:{[oe.RGBA]:t.RGBA8_SNORM,[oe.RGB]:t.RGB8_SNORM,[oe.RG]:t.RG8_SNORM,[oe.RED]:t.R8_SNORM,[oe.RGBA_INTEGER]:t.RGBA8I,[oe.RGB_INTEGER]:t.RGB8I,[oe.RG_INTEGER]:t.RG8I,[oe.RED_INTEGER]:t.R8I},[Te.UNSIGNED_SHORT]:{[oe.RGBA_INTEGER]:t.RGBA16UI,[oe.RGB_INTEGER]:t.RGB16UI,[oe.RG_INTEGER]:t.RG16UI,[oe.RED_INTEGER]:t.R16UI,[oe.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Te.SHORT]:{[oe.RGBA_INTEGER]:t.RGBA16I,[oe.RGB_INTEGER]:t.RGB16I,[oe.RG_INTEGER]:t.RG16I,[oe.RED_INTEGER]:t.R16I},[Te.UNSIGNED_INT]:{[oe.RGBA_INTEGER]:t.RGBA32UI,[oe.RGB_INTEGER]:t.RGB32UI,[oe.RG_INTEGER]:t.RG32UI,[oe.RED_INTEGER]:t.R32UI,[oe.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Te.INT]:{[oe.RGBA_INTEGER]:t.RGBA32I,[oe.RGB_INTEGER]:t.RGB32I,[oe.RG_INTEGER]:t.RG32I,[oe.RED_INTEGER]:t.R32I},[Te.FLOAT]:{[oe.RGBA]:t.RGBA32F,[oe.RGB]:t.RGB32F,[oe.RG]:t.RG32F,[oe.RED]:t.R32F,[oe.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Te.HALF_FLOAT]:{[oe.RGBA]:t.RGBA16F,[oe.RGB]:t.RGB16F,[oe.RG]:t.RG16F,[oe.RED]:t.R16F},[Te.UNSIGNED_SHORT_5_6_5]:{[oe.RGB]:t.RGB565},[Te.UNSIGNED_SHORT_4_4_4_4]:{[oe.RGBA]:t.RGBA4},[Te.UNSIGNED_SHORT_5_5_5_1]:{[oe.RGBA]:t.RGB5_A1},[Te.UNSIGNED_INT_2_10_10_10_REV]:{[oe.RGBA]:t.RGB10_A2,[oe.RGBA_INTEGER]:t.RGB10_A2UI},[Te.UNSIGNED_INT_10F_11F_11F_REV]:{[oe.RGB]:t.R11F_G11F_B10F},[Te.UNSIGNED_INT_5_9_9_9_REV]:{[oe.RGB]:t.RGB9_E5},[Te.UNSIGNED_INT_24_8]:{[oe.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Te.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[oe.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Te.UNSIGNED_BYTE]:{[oe.RGBA]:t.RGBA,[oe.RGB]:t.RGB,[oe.ALPHA]:t.ALPHA,[oe.LUMINANCE]:t.LUMINANCE,[oe.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Te.UNSIGNED_SHORT_5_6_5]:{[oe.RGB]:t.RGB},[Te.UNSIGNED_SHORT_4_4_4_4]:{[oe.RGBA]:t.RGBA},[Te.UNSIGNED_SHORT_5_5_5_1]:{[oe.RGBA]:t.RGBA}},e}class fT{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ke,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=x4(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new fm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new fm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Pg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new fm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===Te.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Pg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,l=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,l.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&ha(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ti.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Ei.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==ti.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===_i.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===_i.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===_i.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===_i.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}fT.extension={type:he.RendererSystem,name:"texture"};be.add(fT);class pT{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(n.buffer.update(l),l._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(l,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}pT.extension={type:he.RendererSystem,name:"transformFeedback"};be.add(pT);class $d{constructor(e){this.renderer=e}init(e){this.screen=new Fe(0,0,e.width,e.height),this.element=e.view||ce.ADAPTER.createCanvas(),this.resolution=e.resolution||ce.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}$d.defaultOptions={width:800,height:600,resolution:ce.RESOLUTION,autoDensity:!1};$d.extension={type:[he.RendererSystem,he.CanvasRendererSystem],name:"_view"};be.add($d);ce.PREFER_ENV=uo.WEBGL2;ce.STRICT_TEXTURE_CACHE=!1;ce.RENDER_OPTIONS={...zd.defaultOptions,...Ud.defaultOptions,...$d.defaultOptions,...jd.defaultOptions};Object.defineProperties(ce,{WRAP_MODE:{get(){return ke.defaultOptions.wrapMode},set(t){ze("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ke.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ke.defaultOptions.scaleMode},set(t){ze("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ke.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ke.defaultOptions.mipmap},set(t){ze("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ke.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ke.defaultOptions.anisotropicLevel},set(t){ze("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ke.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return ze("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Kt.defaultResolution},set(t){Kt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return ze("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Kt.defaultMultisample},set(t){Kt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return xn.defaultMaxTextures},set(t){ze("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),xn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return xn.defaultBatchSize},set(t){ze("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),xn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return xn.canUploadSameBuffer},set(t){ze("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),xn.canUploadSameBuffer=t}},GC_MODE:{get(){return bn.defaultMode},set(t){ze("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),bn.defaultMode=t}},GC_MAX_IDLE:{get(){return bn.defaultMaxIdle},set(t){ze("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),bn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return bn.defaultCheckCountMax},set(t){ze("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),bn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return En.defaultVertexPrecision},set(t){ze("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),En.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return En.defaultFragmentPrecision},set(t){ze("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),En.defaultFragmentPrecision=t}}});var vs=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(vs||{});class pm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Mr=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new pm(null,null,1/0),this.deltaMS=1/Mr.targetFPMS,this.elapsedMS=1/Mr.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=vs.NORMAL){return this._addListener(new pm(t,e,r))}addOnce(t,e,r=vs.NORMAL){return this._addListener(new pm(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Mr.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Mr.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Mr._shared){const t=Mr._shared=new Mr;t.autoStart=!0,t._protected=!0}return Mr._shared}static get system(){if(!Mr._system){const t=Mr._system=new Mr;t.autoStart=!0,t._protected=!0}return Mr._system}};let Tt=Mr;Tt.targetFPMS=.06;Object.defineProperties(ce,{TARGET_FPMS:{get(){return Tt.targetFPMS},set(t){ze("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Tt.targetFPMS=t}}});class mT{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,vs.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Tt.shared:new Tt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}mT.extension=he.Application;be.add(mT);const gT=[];be.handleByList(he.Renderer,gT);function b4(t){for(const e of gT)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var w4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,E4=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const S4=w4,yT=E4;class vT{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=At.HIGH?this.multisample=At.HIGH:r>=At.MEDIUM?this.multisample=At.MEDIUM:r>=At.LOW?this.multisample=At.LOW:this.multisample=At.NONE}destroy(){}}vT.extension={type:he.RendererSystem,name:"_multisample"};be.add(vT);class T4{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class _T{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new T4(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}_T.extension={type:he.RendererSystem,name:"buffer"};be.add(_T);class xT{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,l;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}xT.extension={type:he.RendererSystem,name:"objectRenderer"};be.add(xT);const Zg=class extends _4{constructor(t){super(),this.type=dS.WEBGL,t=Object.assign({},ce.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Rn({projectionMatrix:new ct},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Zg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(ze("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Zg.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:Kk()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ze("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ze("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ze("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ze("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){ze("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return ze("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){ze("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return ze("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Oa=Zg;Oa.extension={type:he.Renderer,priority:1};Oa.__plugins={};Oa.__systems={};be.handleByMap(he.RendererPlugin,Oa.__plugins);be.handleByMap(he.RendererSystem,Oa.__systems);be.add(Oa);class bT extends su{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ke;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof su?this.addResourceAt(e[n],n):this.addResourceAt(US(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class C4 extends bT{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=aa.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class P4 extends ys{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const _l=class extends bT{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==_l.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<_l.SIDES;o++)this.items[o].target=aa.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=aa.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=aa.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<_l.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===_l.SIDES}};let wT=_l;wT.SIDES=6;class Jo extends ys{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=Jo.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ce.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Mn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Jo._EMPTY=Jo._EMPTY??ce.ADAPTER.createCanvas(0,0),Jo._EMPTY}}const _h=class extends ys{constructor(t,e){e=e||{},super(ce.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},_h.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;ys.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${oo()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=_h.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&_h.SVG_XML.test(t)}};let ou=_h;ou.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;ou.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Jg=class extends ys{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];ys.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:l}=t[i];o=o||t[i];const c=o.split("?").shift().toLowerCase(),h=c.slice(c.lastIndexOf(".")+1);l=l||Jg.MIME_TYPES[h]||`video/${h}`,s.src=o,s.type=l,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Tt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Jg.TYPES.includes(e)}};let Ry=Jg;Ry.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];Ry.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};Vg.push(Jo,QS,P4,Ry,ou,_u,wT,C4);class nd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Fe.EMPTY:(e=e||new Fe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:l,ty:c}=e,h=n*r.x+s*r.y+l,d=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],l=e[1];r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[2],l=e[3],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[4],l=e[5],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[6],l=e[7],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,l=e.b,c=e.c,h=e.d,d=e.tx,p=e.ty;let m=this.minX,y=this.minY,v=this.maxX,x=this.maxY,T=o*r+c*n+d,w=l*r+h*n+p;m=T<m?T:m,y=w<y?w:y,v=T>v?T:v,x=w>x?w:x,T=o*i+c*n+d,w=l*i+h*n+p,m=T<m?T:m,y=w<y?w:y,v=T>v?T:v,x=w>x?w:x,T=o*r+c*s+d,w=l*r+h*s+p,m=T<m?T:m,y=w<y?w:y,v=T>v?T:v,x=w>x?w:x,T=o*i+c*s+d,w=l*i+h*s+p,m=T<m?T:m,y=w<y?w:y,v=T>v?T:v,x=w>x?w:x,this.minX=m,this.minY=y,this.maxX=v,this.maxY=x}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,l=this.maxY;for(let c=r;c<n;c+=2){const h=e[c],d=e[c+1];i=h<i?h:i,s=d<s?d:s,o=h>o?h:o,l=d>l?d:l}this.minX=i,this.minY=s,this.maxX=o,this.maxY=l}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const l=e.a,c=e.b,h=e.c,d=e.d,p=e.tx,m=e.ty;let y=this.minX,v=this.minY,x=this.maxX,T=this.maxY;for(let w=n;w<i;w+=2){const b=r[w],E=r[w+1],C=l*b+h*E+p,A=d*E+c*b+m;y=Math.min(y,C-s),x=Math.max(x,C+s),v=Math.min(v,A-o),T=Math.max(T,A+o)}this.minX=y,this.minY=v,this.maxX=x,this.maxY=T}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const l=this.minX,c=this.minY,h=this.maxX,d=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>d?o:d}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const l=this.minX,c=this.minY,h=this.maxX,d=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>d?o:d}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class ht extends yu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Fd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new nd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(ht.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Fe),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Fe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new nd);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,l=0,c=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=l,this.pivot.x=c,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new A4),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*SM}set angle(e){this.transform.rotation=e*TM}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class A4 extends ht{constructor(){super(...arguments),this.sortDirty=null}}ht.prototype.displayObjectUpdateTransform=ht.prototype.updateTransform;const I4=new ct;function R4(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const e0=class extends ht{constructor(){super(),this.children=[],this.sortableChildren=e0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);ha(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,ha(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ha(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(R4),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==e0.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=I4.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const l=this.children[s],c=l.cullable;l.cullable=c||!this.cullArea,l.render(t),l.cullable=c}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<e.length;l++)e[l].enabled&&this._enabledFilters.push(e[l])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==kt.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let l=0,c=this.children.length;l<c;++l)this.children[l].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let ur=e0;ur.defaultSortableChildren=!1;ur.prototype.containerUpdateTransform=ur.prototype.updateTransform;Object.defineProperties(ce,{SORTABLE_CHILDREN:{get(){return ur.defaultSortableChildren},set(t){ze("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ur.defaultSortableChildren=t}}});var Gd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Gd||{});const hl=new Ge,k4=new Uint16Array([0,1,2,0,2,3]);class ii extends ur{constructor(e){super(),this._anchor=new bi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ze(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ce.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ue.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=k4,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ce.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ns(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ns(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,l=r.tx,c=r.ty,h=this.vertexData,d=e.trim,p=e.orig,m=this._anchor;let y=0,v=0,x=0,T=0;if(d?(v=d.x-m._x*p.width,y=v+d.width,T=d.y-m._y*p.height,x=T+d.height):(v=-m._x*p.width,y=v+p.width,T=-m._y*p.height,x=T+p.height),h[0]=n*v+s*T+l,h[1]=o*T+i*v+c,h[2]=n*y+s*T+l,h[3]=o*T+i*y+c,h[4]=n*y+s*x+l,h[5]=o*x+i*y+c,h[6]=n*v+s*x+l,h[7]=o*x+i*v+c,this._roundPixels){const w=ce.RESOLUTION;for(let b=0;b<h.length;++b)h[b]=Math.round(h[b]*w)/w}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,l=s.b,c=s.c,h=s.d,d=s.tx,p=s.ty,m=-i._x*n.width,y=m+n.width,v=-i._y*n.height,x=v+n.height;r[0]=o*m+c*v+d,r[1]=h*v+l*m+p,r[2]=o*y+c*v+d,r[3]=h*v+l*y+p,r[4]=o*y+c*x+d,r[5]=h*x+l*y+p,r[6]=o*m+c*x+d,r[7]=h*x+l*m+p}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new nd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Fe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,hl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return hl.x>=i&&hl.x<i+r&&(s=-n*this.anchor.y,hl.y>=s&&hl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new ii(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=ns(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=ns(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ue.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Wc={willReadFrequently:!0},xe=class{static get experimentalLetterSpacingSupported(){let t=xe._experimentalLetterSpacingSupported;if(t!==void 0){const e=ce.ADAPTER.getCanvasRenderingContext2D().prototype;t=xe._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,l,c){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=l,this.fontProperties=c}static measureText(t,e,r,n=xe._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=xe.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",Wc);o.font=i;const c=(r?xe.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),h=new Array(c.length);let d=0;for(let v=0;v<c.length;v++){const x=xe._measureText(c[v],e.letterSpacing,o);h[v]=x,d=Math.max(d,x)}let p=d+e.strokeThickness;e.dropShadow&&(p+=e.dropShadowDistance);const m=e.lineHeight||s.fontSize+e.strokeThickness;let y=Math.max(m,s.fontSize+e.strokeThickness*2)+(c.length-1)*(m+e.leading);return e.dropShadow&&(y+=e.dropShadowDistance),new xe(t,e,p,y,c,h,m+e.leading,d,s)}static _measureText(t,e,r){let n=!1;xe.experimentalLetterSpacingSupported&&(xe.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(xe.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=xe._canvas){const n=r.getContext("2d",Wc);let i=0,s="",o="";const l=Object.create(null),{letterSpacing:c,whiteSpace:h}=e,d=xe.collapseSpaces(h),p=xe.collapseNewlines(h);let m=!d;const y=e.wordWrapWidth+c,v=xe.tokenize(t);for(let x=0;x<v.length;x++){let T=v[x];if(xe.isNewline(T)){if(!p){o+=xe.addLine(s),m=!d,s="",i=0;continue}T=" "}if(d){const b=xe.isBreakingSpace(T),E=xe.isBreakingSpace(s[s.length-1]);if(b&&E)continue}const w=xe.getFromCache(T,c,l,n);if(w>y)if(s!==""&&(o+=xe.addLine(s),s="",i=0),xe.canBreakWords(T,e.breakWords)){const b=xe.wordWrapSplit(T);for(let E=0;E<b.length;E++){let C=b[E],A=C,D=1;for(;b[E+D];){const O=b[E+D];if(!xe.canBreakChars(A,O,T,E,e.breakWords))C+=O;else break;A=O,D++}E+=D-1;const M=xe.getFromCache(C,c,l,n);M+i>y&&(o+=xe.addLine(s),m=!1,s="",i=0),s+=C,i+=M}}else{s.length>0&&(o+=xe.addLine(s),s="",i=0);const b=x===v.length-1;o+=xe.addLine(T,!b),m=!1,s="",i=0}else w+i>y&&(m=!1,o+=xe.addLine(s),s="",i=0),(s.length>0||!xe.isBreakingSpace(T)||m)&&(s+=T,i+=w)}return o+=xe.addLine(s,!1),o}static addLine(t,e=!0){return t=xe.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=xe._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!xe.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:xe._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:xe._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(xe.isBreakingSpace(i,s)||xe.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return xe.graphemeSegmenter(t)}static measureFont(t){if(xe._fonts[t])return xe._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=xe._canvas,n=xe._context;n.font=t;const i=xe.METRICS_STRING+xe.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(xe.BASELINE_SYMBOL).width);const l=Math.ceil(xe.HEIGHT_MULTIPLIER*o);if(o=o*xe.BASELINE_MULTIPLIER|0,s===0||l===0)return xe._fonts[t]=e,e;r.width=s,r.height=l,n.fillStyle="#f00",n.fillRect(0,0,s,l),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const c=n.getImageData(0,0,s,l).data,h=c.length,d=s*4;let p=0,m=0,y=!1;for(p=0;p<o;++p){for(let v=0;v<d;v+=4)if(c[m+v]!==255){y=!0;break}if(!y)m+=d;else break}for(e.ascent=o-p,m=h-d,y=!1,p=l;p>o;--p){for(let v=0;v<d;v+=4)if(c[m+v]!==255){y=!0;break}if(!y)m-=d;else break}return e.descent=p-o,e.fontSize=e.ascent+e.descent,xe._fonts[t]=e,e}static clearMetrics(t=""){t?delete xe._fonts[t]:xe._fonts={}}static get _canvas(){if(!xe.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",Wc);if(r!=null&&r.measureText)return xe.__canvas=e,e;t=ce.ADAPTER.createCanvas()}catch{t=ce.ADAPTER.createCanvas()}t.width=t.height=10,xe.__canvas=t}return xe.__canvas}static get _context(){return xe.__context||(xe.__context=xe._canvas.getContext("2d",Wc)),xe.__context}};let Yt=xe;Yt.METRICS_STRING="|q";Yt.BASELINE_SYMBOL="M";Yt.BASELINE_MULTIPLIER=1.4;Yt.HEIGHT_MULTIPLIER=2;Yt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();Yt.experimentalLetterSpacing=!1;Yt._fonts={};Yt._newlines=[10,13];Yt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const M4=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],xl=class{constructor(t){this.styleID=0,this.reset(),gm(this,t,t)}clone(){const t={};return gm(t,this,xl.defaultStyle),new xl(t)}reset(){gm(this,xl.defaultStyle,xl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=mm(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=mm(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){O4(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=mm(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!M4.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Ii=xl;Ii.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Gd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function mm(t){const e=Ze.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function O4(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function gm(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const D4={texture:!0,children:!1,baseTexture:!0},t0=class extends ii{constructor(t,e,r){let n=!1;r||(r=ce.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=ue.from(r);i.orig=new Fe,i.trim=new Fe,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=t0.defaultResolution??ce.RESOLUTION,this._autoResolution=t0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return Yt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){ze("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Yt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=Yt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,l=n.lineHeight,c=n.lineWidths,h=n.maxLineWidth,d=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let p,m;const y=e.dropShadow?2:1;for(let v=0;v<y;++v){const x=e.dropShadow&&v===0,T=x?Math.ceil(Math.max(1,s)+e.padding*2):0,w=T*this._resolution;if(x){r.fillStyle="black",r.strokeStyle="black";const E=e.dropShadowColor,C=e.dropShadowBlur*this._resolution,A=e.dropShadowDistance*this._resolution;r.shadowColor=Ze.shared.setValue(E).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=C,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*A,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*A+w}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let b=(l-d.fontSize)/2;l-d.fontSize<0&&(b=0);for(let E=0;E<o.length;E++)p=e.strokeThickness/2,m=e.strokeThickness/2+E*l+d.ascent+b,e.align==="right"?p+=h-c[E]:e.align==="center"&&(p+=(h-c[E])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[E],p+e.padding,m+e.padding-T,!0),e.fill&&this.drawLetterSpacing(o[E],p+e.padding,m+e.padding-T)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const s=this._style.letterSpacing;let o=!1;if(Yt.experimentalLetterSpacingSupported&&(Yt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let l=e;const c=Yt.graphemeSegmenter(t);let h=this.context.measureText(t).width,d=0;for(let p=0;p<c.length;++p){const m=c[p];n?this.context.strokeText(m,l,r):this.context.fillText(m,l,r);let y="";for(let v=p+1;v<c.length;++v)y+=c[v];d=this.context.measureText(y).width,l+=h-d+s,h=d}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=fM(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,l=this.canvas.width/this._resolution-s-o*2,c=this.canvas.height/this._resolution-s-o*2,h=n.slice(),d=t.fillGradientStops.slice();if(!d.length){const p=h.length+1;for(let m=1;m<p;++m)d.push(m/p)}if(h.unshift(n[0]),d.unshift(0),h.push(n[n.length-1]),d.push(1),t.fillGradientType===Gd.LINEAR_VERTICAL){i=this.context.createLinearGradient(l/2,o,l/2,c+o);const p=r.fontProperties.fontSize+t.strokeThickness;for(let m=0;m<e.length;m++){const y=r.lineHeight*(m-1)+p,v=r.lineHeight*m;let x=v;m>0&&y>v&&(x=(v+y)/2);const T=v+p,w=r.lineHeight*(m+1);let b=T;m+1<e.length&&w<T&&(b=(T+w)/2);const E=(b-x)/c;for(let C=0;C<h.length;C++){let A=0;typeof d[C]=="number"?A=d[C]:A=C/h.length;let D=Math.min(1,Math.max(0,x/c+A*E));D=Number(D.toFixed(5)),i.addColorStop(D,h[C])}}}else{i=this.context.createLinearGradient(o,c/2,l+o,c/2);const p=h.length+1;let m=1;for(let y=0;y<h.length;y++){let v;typeof d[y]=="number"?v=d[y]:v=m/p,i.addColorStop(v,h[y]),m++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},D4,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ns(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ns(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Ii?this._style=t:this._style=new Ii(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Hd=t0;Hd.defaultAutoResolution=!0;class id{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class xh{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],l=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in l){const d=l[h].split("="),p=d[0],m=d[1].replace(/"/gm,""),y=parseFloat(m),v=isNaN(y)?m:y;c[p]=v}n[o].push(c)}const i=new id;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class r0{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new id,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const d=o[h];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let h=0;h<l.length;h++)r.kerning.push({first:parseInt(l[h].getAttribute("first"),10),second:parseInt(l[h].getAttribute("second"),10),amount:parseInt(l[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class n0{static test(e){return typeof e=="string"&&e.includes("<font>")?r0.test(ce.ADAPTER.parseXML(e)):!1}static parse(e){return r0.parse(ce.ADAPTER.parseXML(e))}}const ym=[xh,r0,n0];function N4(t){for(let e=0;e<ym.length;e++)if(ym[e].test(t))return ym[e];return null}function L4(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,d=t.width/n-c-h*2,p=t.height/n-c-h*2,m=o.slice(),y=r.fillGradientStops.slice();if(!y.length){const v=m.length+1;for(let x=1;x<v;++x)y.push(x/v)}if(m.unshift(o[0]),y.unshift(0),m.push(o[o.length-1]),y.push(1),r.fillGradientType===Gd.LINEAR_VERTICAL){l=e.createLinearGradient(d/2,h,d/2,p+h);let v=0;const T=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let w=0;w<i.length;w++){const b=s.lineHeight*w;for(let E=0;E<m.length;E++){let C=0;typeof y[E]=="number"?C=y[E]:C=E/m.length;const A=b/p+C*T;let D=Math.max(v,A);D=Math.min(D,1),l.addColorStop(D,m[E]),v=D}}}else{l=e.createLinearGradient(h,p/2,d+h,p/2);const v=m.length+1;let x=1;for(let T=0;T<m.length;T++){let w;typeof y[T]=="number"?w=y[T]:w=x/v,l.addColorStop(w,m[T]),x++}}return l}function F4(t,e,r,n,i,s,o){const l=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=L4(t,e,o,s,[l],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,y=o.dropShadowDistance*s;e.shadowColor=Ze.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,h,d+r.lineHeight-c.descent),o.fill&&e.fillText(l,h,d+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function bh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function ET(t){return Array.from?Array.from(t):t.split("")}function B4(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let l=s,c=o;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...ET(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const mn=class{constructor(t,e,r){var h;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,l=ms(s.file),c={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/l,this.chars={},this.pageTextures=c;for(let d=0;d<t.page.length;d++){const{id:p,file:m}=t.page[d];c[p]=e instanceof Array?e[d]:e[m],o!=null&&o.fieldType&&o.fieldType!=="none"&&(c[p].baseTexture.alphaMode=Mn.NO_PREMULTIPLIED_ALPHA,c[p].baseTexture.mipmap=ti.OFF)}for(let d=0;d<t.char.length;d++){const{id:p,page:m}=t.char[d];let{x:y,y:v,width:x,height:T,xoffset:w,yoffset:b,xadvance:E}=t.char[d];y/=l,v/=l,x/=l,T/=l,w/=l,b/=l,E/=l;const C=new Fe(y+c[m].frame.x/l,v+c[m].frame.y/l,x,T);this.chars[p]={xOffset:w,yOffset:b,xAdvance:E,kerning:{},texture:new ue(c[m].baseTexture,C),page:m}}for(let d=0;d<t.kerning.length;d++){let{first:p,second:m,amount:y}=t.kerning[d];p/=l,m/=l,y/=l,this.chars[m]&&(this.chars[m].kerning[p]=y)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((h=o==null?void 0:o.fieldType)==null?void 0:h.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof id)n=t;else{const s=N4(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof ue&&(e=[e]);const i=new mn(n,e,r);return mn.available[i.font]=i,i}static uninstall(t){const e=mn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete mn.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:l,...c}=Object.assign({},mn.defaultOptions,r),h=B4(n),d=e instanceof Ii?e:new Ii(e),p=o,m=new id;m.info[0]={face:d.fontFamily,size:d.fontSize},m.common[0]={lineHeight:d.fontSize};let y=0,v=0,x,T,w,b=0;const E=[];for(let A=0;A<h.length;A++){x||(x=ce.ADAPTER.createCanvas(),x.width=o,x.height=l,T=x.getContext("2d"),w=new ke(x,{resolution:s,...c}),E.push(new ue(w)),m.page.push({id:E.length-1,file:""}));const D=h[A],M=Yt.measureText(D,d,!1,x),O=M.width,I=Math.ceil(M.height),U=Math.ceil((d.fontStyle==="italic"?2:1)*O);if(v>=l-I*s){if(v===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${D}')`);--A,x=null,T=null,w=null,v=0,y=0,b=0;continue}if(b=Math.max(I+M.fontProperties.descent,b),U*s+y>=p){if(y===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${D}')`);--A,v+=b*s,v=Math.ceil(v),y=0,b=0;continue}F4(x,T,M,y,v,s,d);const z=bh(M.text);m.char.push({id:z,page:E.length-1,x:y/s,y:v/s,width:U,height:I,xoffset:0,yoffset:0,xadvance:O-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),y+=(U+2*i)*s,y=Math.ceil(y)}for(let A=0,D=h.length;A<D;A++){const M=h[A];for(let O=0;O<D;O++){const I=h[O],U=T.measureText(M).width,z=T.measureText(I).width,R=T.measureText(M+I).width-(U+z);R&&m.kerning.push({first:bh(M),second:bh(I),amount:R})}}const C=new mn(m,E,!0);return mn.available[t]!==void 0&&mn.uninstall(t),mn.available[t]=C,C}};let xr=mn;xr.ALPHA=[["a","z"],["A","Z"]," "];xr.NUMERIC=[["0","9"]];xr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];xr.ASCII=[[" ","~"]];xr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:mn.ALPHANUMERIC};xr.available={};class U4{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const vm=new Ge,qx=new da,ST=class extends ur{constructor(t,e,r,n=Zr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||Mi.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ce.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Zr.TRIANGLES&&e.length<ST.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,l=i.c,c=i.d,h=i.tx,d=i.ty,p=this.vertexData;for(let m=0;m<p.length/2;m++){const y=r[m*2],v=r[m*2+1];p[m*2]=s*y+l*v+h,p[m*2+1]=o*y+c*v+d}if(this._roundPixels){const m=ce.RESOLUTION;for(let y=0;y<p.length;++y)p[y]=Math.round(p[y]*m)/m}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new U4(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,vm);const e=this.geometry.getBuffer("aVertexPosition").data,r=qx.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const l=n[o]*2,c=n[o+1]*2,h=n[o+2]*2;if(r[0]=e[l],r[1]=e[l+1],r[2]=e[c],r[3]=e[c+1],r[4]=e[h],r[5]=e[h+1],qx.contains(vm.x,vm.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Sa=ST;Sa.BATCHABLE_SIZE=100;class Wd extends gs{constructor(e,r,n){super();const i=new Et(e),s=new Et(r,!0),o=new Et(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Te.FLOAT).addAttribute("aTextureCoord",s,2,!1,Te.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var z4=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,j4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class au extends ei{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:ct.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||En.from(j4,z4),n),this._colorDirty=!1,this.uvMatrix=new Iy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Ze(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;Ze.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var $4=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,G4=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Zx=[],Jx=[],eb=[],TT=class extends ur{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:l}=Object.assign({},TT.styleDefaults,e);if(!xr.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Ze(n),this._font=void 0,this._fontName=o,this._fontSize=l,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new bi(()=>{this.dirty=!0},this,0,0),this._roundPixels=ce.ROUND_PIXELS,this.dirty=!0,this._resolution=ce.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var U;const t=xr.available[this._fontName],e=this.fontSize,r=e/t.size,n=new Ge,i=[],s=[],o=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=ET(l),h=this._maxWidth*t.size/e,d=t.distanceFieldType==="none"?Zx:Jx;let p=null,m=0,y=0,v=0,x=-1,T=0,w=0,b=0,E=0;for(let z=0;z<c.length;z++){const B=c[z],R=bh(B);if(/(?:\s)/.test(B)&&(x=z,T=m,E++),B==="\r"||B===`
`){s.push(m),o.push(-1),y=Math.max(y,m),++v,++w,n.x=0,n.y+=t.lineHeight,p=null,E=0;continue}const L=t.chars[R];if(!L)continue;p&&L.kerning[p]&&(n.x+=L.kerning[p]);const W=eb.pop()||{texture:ue.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ge};W.texture=L.texture,W.line=v,W.charCode=R,W.position.x=Math.round(n.x+L.xOffset+this._letterSpacing/2),W.position.y=Math.round(n.y+L.yOffset),W.prevSpaces=E,i.push(W),m=W.position.x+Math.max(L.xAdvance-L.xOffset,L.texture.orig.width),n.x+=L.xAdvance+this._letterSpacing,b=Math.max(b,L.yOffset+L.texture.height),p=R,x!==-1&&h>0&&n.x>h&&(++w,ha(i,1+x-w,1+z-x),z=x,x=-1,s.push(T),o.push(i.length>0?i[i.length-1].prevSpaces:0),y=Math.max(y,T),v++,n.x=0,n.y+=t.lineHeight,p=null,E=0)}const C=c[c.length-1];C!=="\r"&&C!==`
`&&(/(?:\s)/.test(C)&&(m=T),s.push(m),y=Math.max(y,m),o.push(-1));const A=[];for(let z=0;z<=v;z++){let B=0;this._align==="right"?B=y-s[z]:this._align==="center"?B=(y-s[z])/2:this._align==="justify"&&(B=o[z]<0?0:(y-s[z])/o[z]),A.push(B)}const D=i.length,M={},O=[],I=this._activePagesMeshData;d.push(...I);for(let z=0;z<D;z++){const B=i[z].texture,R=B.baseTexture.uid;if(!M[R]){let L=d.pop();if(!L){const $=new Wd;let X,k;t.distanceFieldType==="none"?(X=new au(ue.EMPTY),k=Ce.NORMAL):(X=new au(ue.EMPTY,{program:En.from(G4,$4),uniforms:{uFWidth:0}}),k=Ce.NORMAL_NPM);const G=new Sa($,X);G.blendMode=k,L={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}L.index=0,L.indexCount=0,L.vertexCount=0,L.uvsCount=0,L.total=0;const{_textureCache:W}=this;W[R]=W[R]||new ue(B.baseTexture),L.mesh.texture=W[R],L.mesh.tint=this._tintColor.value,O.push(L),M[R]=L}M[R].total++}for(let z=0;z<I.length;z++)O.includes(I[z])||this.removeChild(I[z].mesh);for(let z=0;z<O.length;z++)O[z].mesh.parent!==this&&this.addChild(O[z].mesh);this._activePagesMeshData=O;for(const z in M){const B=M[z],R=B.total;if(!(((U=B.indices)==null?void 0:U.length)>6*R)||B.vertices.length<Sa.BATCHABLE_SIZE*2)B.vertices=new Float32Array(4*2*R),B.uvs=new Float32Array(4*2*R),B.indices=new Uint16Array(6*R);else{const L=B.total,W=B.vertices;for(let $=L*4*2;$<W.length;$++)W[$]=0}B.mesh.size=6*R}for(let z=0;z<D;z++){const B=i[z];let R=B.position.x+A[B.line]*(this._align==="justify"?B.prevSpaces:1);this._roundPixels&&(R=Math.round(R));const L=R*r,W=B.position.y*r,$=B.texture,X=M[$.baseTexture.uid],k=$.frame,G=$._uvs,F=X.index++;X.indices[F*6+0]=0+F*4,X.indices[F*6+1]=1+F*4,X.indices[F*6+2]=2+F*4,X.indices[F*6+3]=0+F*4,X.indices[F*6+4]=2+F*4,X.indices[F*6+5]=3+F*4,X.vertices[F*8+0]=L,X.vertices[F*8+1]=W,X.vertices[F*8+2]=L+k.width*r,X.vertices[F*8+3]=W,X.vertices[F*8+4]=L+k.width*r,X.vertices[F*8+5]=W+k.height*r,X.vertices[F*8+6]=L,X.vertices[F*8+7]=W+k.height*r,X.uvs[F*8+0]=G.x0,X.uvs[F*8+1]=G.y0,X.uvs[F*8+2]=G.x1,X.uvs[F*8+3]=G.y1,X.uvs[F*8+4]=G.x2,X.uvs[F*8+5]=G.y2,X.uvs[F*8+6]=G.x3,X.uvs[F*8+7]=G.y3}this._textWidth=y*r,this._textHeight=(n.y+t.lineHeight)*r;for(const z in M){const B=M[z];if(this.anchor.x!==0||this.anchor.y!==0){let $=0;const X=this._textWidth*this.anchor.x,k=this._textHeight*this.anchor.y;for(let G=0;G<B.total;G++)B.vertices[$++]-=X,B.vertices[$++]-=k,B.vertices[$++]-=X,B.vertices[$++]-=k,B.vertices[$++]-=X,B.vertices[$++]-=k,B.vertices[$++]-=X,B.vertices[$++]-=k}this._maxLineHeight=b*r;const R=B.mesh.geometry.getBuffer("aVertexPosition"),L=B.mesh.geometry.getBuffer("aTextureCoord"),W=B.mesh.geometry.getIndex();R.data=B.vertices,L.data=B.uvs,W.data=B.indices,R.update(),L.update(),W.update()}for(let z=0;z<i.length;z++)eb.push(i[z]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=xr.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:l}=this.worldTransform,c=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+l*l),d=(Math.abs(c)+Math.abs(h))/2,p=this.fontSize/n,m=t._view.resolution;for(const y of this._activePagesMeshData)y.mesh.shader.uniforms.uFWidth=d*e*p*m}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=xr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!xr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??xr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,n=xr.available[this._fontName].distanceFieldType==="none"?Zx:Jx;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>e[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ue.EMPTY});for(const i in e)e[i].destroy(),delete e[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let CT=TT;CT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const tb={loader:he.LoadParser,resolver:he.ResolveParser,cache:he.CacheParser,detection:he.DetectionParser};be.handle(he.Asset,t=>{const e=t.ref;Object.entries(tb).filter(([r])=>!!e[r]).forEach(([r,n])=>be.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(tb).filter(r=>!!e[r]).forEach(r=>be.remove(e[r]))});class H4{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function xu(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ho(t,e){const r=t.split("?")[0],n=or.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Si=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),i0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function PT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const l=s[o];r<e.length-1?PT(t.replace(n[r],l),e,r+1,n,i):i.push(t.replace(n[r],l))}}function W4(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),PT(t,i,0,r,n)}else n.push(t);return n}const sd=t=>!Array.isArray(t);class V4{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Si(e);let i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(l=>{i[l]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,o)}),s.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==r&&console.warn("[Cache] already has key:",l),this._cache.set(l,i[l])}),r instanceof ue){const l=r;n.forEach(c=>{l.baseTexture!==ue.EMPTY.baseTexture&&ke.addToCache(l.baseTexture,c),ue.addToCache(l,c)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const dl=new V4;class X4{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((l=h.testParse)==null?void 0:l.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=sd(e),o=Si(e,h=>({src:h})),l=o.length,c=o.map(async h=>{const d=or.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,h)),i[h.src]=await this.promiseCache[d].promise,r&&r(++n/l)}catch(p){throw delete this.promiseCache[d],delete i[h.src],new Error(`[Loader.load] Failed to load ${d}.
${p}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const n=Si(e,i=>({src:i})).map(async i=>{var l,c;const s=or.toAbsolute(i.src),o=this.promiseCache[s];if(o){const h=await o.promise;(c=(l=o.parser)==null?void 0:l.unload)==null||c.call(l,h,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var si=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(si||{});const Y4=".json",Q4="application/json",K4={extension:{type:he.LoadParser,priority:si.Low},name:"loadJson",test(t){return xu(t,Q4)||ho(t,Y4)},async load(t){return await(await ce.ADAPTER.fetch(t)).json()}};be.add(K4);const q4=".txt",Z4="text/plain",J4={name:"loadTxt",extension:{type:he.LoadParser,priority:si.Low},test(t){return xu(t,Z4)||ho(t,q4)},async load(t){return await(await ce.ADAPTER.fetch(t)).text()}};be.add(J4);const e5=["normal","bold","100","200","300","400","500","600","700","800","900"],t5=[".ttf",".otf",".woff",".woff2"],r5=["font/ttf","font/otf","font/woff","font/woff2"],n5=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function i5(t){const e=or.extname(t),i=or.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1));let s=i.length>0;for(const l of i)if(!l.match(n5)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const s5={extension:{type:he.LoadParser,priority:si.Low},name:"loadWebFont",test(t){return xu(t,r5)||ho(t,t5)},async load(t,e){var n,i,s;const r=ce.ADAPTER.getFontFaceSet();if(r){const o=[],l=((n=e.data)==null?void 0:n.family)??i5(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>e5.includes(d)))??["normal"],h=e.data??{};for(let d=0;d<c.length;d++){const p=c[d],m=new FontFace(l,`url(${encodeURI(t)})`,{...h,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ce.ADAPTER.getFontFaceSet().delete(e))}};be.add(s5);let rb=0,_m;const o5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",a5={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${o5}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},l5={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let xm;class u5{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([a5.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){_m===void 0&&(_m=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<_m&&(xm||(xm=URL.createObjectURL(new Blob([l5.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(xm),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[rb]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:rb++,id:n})}}const nb=new u5;function Vd(t,e,r){const n=new ue(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const c5=[".jpeg",".jpg",".png",".webp",".avif"],h5=["image/jpeg","image/png","image/webp","image/avif"];async function d5(t){const e=await ce.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Xd={name:"loadTextures",extension:{type:he.LoadParser,priority:si.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return xu(t,h5)||ho(t,c5)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await nb.isImageBitmapSupported()?n=await nb.loadImageBitmap(t):n=await d5(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new ke(n,{resolution:ms(t),...e.data});return i.resource.src=t,Vd(i,r,t)},unload(t){t.destroy(!0)}};be.add(Xd);const f5=".svg",p5="image/svg+xml",m5={extension:{type:he.LoadParser,priority:si.High},name:"loadSVG",test(t){return xu(t,p5)||ho(t,f5)},async testParse(t){return ou.test(t)},async parse(t,e,r){var o;const n=new ou(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await n.load();const i=new ke(n,{resolution:ms(t),...e==null?void 0:e.data});return i.resource.src=t,Vd(i,r,t)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload:Xd.unload};be.add(m5);class g5{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=Si(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=W4(r):r=[r]);const s=r.map(o=>{let l=o;if(typeof o=="string"){let c=!1;for(let h=0;h<this._parsers.length;h++){const d=this._parsers[h];if(d.test(o)){l=d.parse(o),c=!0;break}}c||(l={src:o})}return l.format||(l.format=l.src.split(".").pop()),l.alias||(l.alias=i),(this._basePath||this._rootPath)&&(l.src=or.toAbsolute(l.src,this._basePath,this._rootPath)),l.src=this._appendDefaultSearchParams(l.src),l.data=l.data??n,l});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=sd(e);e=Si(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),l={};for(const c in o){const h=o[c];l[this._extractAssetIdFromBundle(i,c)]=h}n[i]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=sd(e);e=Si(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),l=s[0];o==null||o.priority.forEach(c=>{o.params[c].forEach(h=>{const d=s.filter(p=>p[c]?p[c]===h:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??l}else{let s=i;(this._basePath||this._rootPath)&&(s=or.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class y5{constructor(){this._detections=[],this._initialized=!1,this.resolver=new g5,this.loader=new X4,this.cache=dl,this._backgroundLoader=new H4(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,l;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const c=(l=e.texturePreference)==null?void 0:l.format;i=typeof c=="string"?[c]:c;for(const h of this._detections)await h.test()||(i=await h.remove(i))}else for(const c of this._detections)await c.test()&&(i=await c.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=sd(e),i=Si(e).map(l=>typeof l!="string"?(this.resolver.add(l.src,l),l.src):(this.resolver.hasKey(l)||this.resolver.add(l,l),l)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let l=0,c=0;const h=()=>{r==null||r(++l/c)},d=o.map(p=>{const m=i[p];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(y=>{s[p]=y})});return await Promise.all(d),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return dl.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=dl.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((l,c)=>{const h=s[l.src],d=[l.src];l.alias&&d.push(...l.alias),o[i[c]]=h,dl.set(d,h)}),o}async unload(e){this._initialized||await this.init();const r=Si(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Si(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{dl.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Xd.config.preferWorkers}set preferWorkers(e){ze("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Vc=new y5;be.handleByList(he.LoadParser,Vc.loader.parsers).handleByList(he.ResolveParser,Vc.resolver.parsers).handleByList(he.CacheParser,Vc.cache.parsers).handleByList(he.DetectionParser,Vc.detections);const v5={extension:he.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ue),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};be.add(v5);const _5={extension:{type:he.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ce.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};be.add(_5);const x5={extension:{type:he.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ce.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};be.add(x5);const ib=["png","jpg","jpeg"],b5={extension:{type:he.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...ib],remove:async t=>t.filter(e=>!ib.includes(e))};be.add(b5);const w5={extension:he.ResolveParser,test:Xd.test,parse:t=>{var e;return{resolution:parseFloat(((e=ce.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};be.add(w5);const E5=[".xml",".fnt"],S5={extension:{type:he.LoadParser,priority:si.Normal},name:"loadBitmapFont",test(t){return E5.includes(or.extname(t).toLowerCase())},async testParse(t){return xh.test(t)||n0.test(t)},async parse(t,e,r){const n=xh.test(t)?xh.parse(t):n0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const d=s[h].file;let p=or.join(or.dirname(i),d);p=i0(p,i),o.push(p)}const l=await r.load(o),c=o.map(h=>l[h]);return xr.install(n,c,!0)},async load(t,e){return(await ce.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};be.add(S5);const od={build(t){const e=t.points;let r,n,i,s,o,l;if(t.type===Qt.CIRC){const v=t.shape;r=v.x,n=v.y,o=l=v.radius,i=s=0}else if(t.type===Qt.ELIP){const v=t.shape;r=v.x,n=v.y,o=v.width,l=v.height,i=s=0}else{const v=t.shape,x=v.width/2,T=v.height/2;r=v.x+x,n=v.y+T,o=l=Math.max(0,Math.min(v.radius,Math.min(x,T))),i=x-o,s=T-l}if(!(o>=0&&l>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+l)),h=c*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let d=0,p=c*4+(i?2:0)+2,m=p,y=h;{const v=i+o,x=s,T=r+v,w=r-v,b=n+x;if(e[d++]=T,e[d++]=b,e[--p]=b,e[--p]=w,s){const E=n-x;e[m++]=w,e[m++]=E,e[--y]=E,e[--y]=T}}for(let v=1;v<c;v++){const x=Math.PI/2*(v/c),T=i+Math.cos(x)*o,w=s+Math.sin(x)*l,b=r+T,E=r-T,C=n+w,A=n-w;e[d++]=b,e[d++]=C,e[--p]=C,e[--p]=E,e[m++]=E,e[m++]=A,e[--y]=A,e[--y]=b}{const v=i,x=s+l,T=r+v,w=r-v,b=n+x,E=n-x;e[d++]=T,e[d++]=b,e[--y]=E,e[--y]=T,i&&(e[d++]=w,e[d++]=b,e[--y]=E,e[--y]=w)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let l,c;if(t.type!==Qt.RREC){const d=t.shape;l=d.x,c=d.y}else{const d=t.shape;l=d.x+d.width/2,c=d.y+d.height/2}const h=t.matrix;n.push(t.matrix?h.a*l+h.c*c+h.tx:l,t.matrix?h.b*l+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function sb(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const l=t[i],c=t[i+1];n+=(l-s)*(c+o),s=l,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,l=r-s-1,c=s,h=s+1;[t[o],t[c]]=[t[c],t[o]],[t[l],t[h]]=[t[h],t[l]]}}}const AT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){sb(r,!1);const o=[];for(let h=0;h<n.length;h++){const d=n[h];sb(d.points,!0),o.push(r.length/2),r=r.concat(d.points)}const l=D3(r,o,2);if(!l)return;const c=i.length/2;for(let h=0;h<l.length;h+=3)s.push(l[h]+c),s.push(l[h+1]+c),s.push(l[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},T5={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},C5={build(t){od.build(t)},triangulate(t,e){od.triangulate(t,e)}};var yn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(yn||{}),Vs=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Vs||{});const Ta={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class ob{static curveTo(e,r,n,i,s,o){const l=o[o.length-2],h=o[o.length-1]-r,d=l-e,p=i-r,m=n-e,y=Math.abs(h*m-d*p);if(y<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=h*h+d*d,x=p*p+m*m,T=h*p+d*m,w=s*Math.sqrt(v)/y,b=s*Math.sqrt(x)/y,E=w*T/v,C=b*T/x,A=w*m+b*d,D=w*p+b*h,M=d*(b+E),O=h*(b+E),I=m*(w+C),U=p*(w+C),z=Math.atan2(O-D,M-A),B=Math.atan2(U-D,I-A);return{cx:A+e,cy:D+r,radius:s,startAngle:z,endAngle:B,anticlockwise:d*p>m*h}}static arc(e,r,n,i,s,o,l,c,h){const d=l-o,p=Ta._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/rd)*40),m=d/(p*2),y=m*2,v=Math.cos(m),x=Math.sin(m),T=p-1,w=T%1/T;for(let b=0;b<=T;++b){const E=b+w*b,C=m+o+y*E,A=Math.cos(C),D=-Math.sin(C);h.push((v*A+x*D)*s+n,(v*-D+x*A)*s+i)}}}class P5{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class ky{static curveLength(e,r,n,i,s,o,l,c){let d=0,p=0,m=0,y=0,v=0,x=0,T=0,w=0,b=0,E=0,C=0,A=e,D=r;for(let M=1;M<=10;++M)p=M/10,m=p*p,y=m*p,v=1-p,x=v*v,T=x*v,w=T*e+3*x*p*n+3*v*m*s+y*l,b=T*r+3*x*p*i+3*v*m*o+y*c,E=A-w,C=D-b,A=w,D=b,d+=Math.sqrt(E*E+C*C);return d}static curveTo(e,r,n,i,s,o,l){const c=l[l.length-2],h=l[l.length-1];l.length-=2;const d=Ta._segmentsCount(ky.curveLength(c,h,e,r,n,i,s,o));let p=0,m=0,y=0,v=0,x=0;l.push(c,h);for(let T=1,w=0;T<=d;++T)w=T/d,p=1-w,m=p*p,y=m*p,v=w*w,x=v*w,l.push(y*c+3*m*w*e+3*p*v*n+x*s,y*h+3*m*w*r+3*p*v*i+x*o)}}function ab(t,e,r,n,i,s,o,l){const c=t-r*i,h=e-n*i,d=t+r*s,p=e+n*s;let m,y;o?(m=n,y=-r):(m=-n,y=r);const v=c+m,x=h+y,T=d+m,w=p+y;return l.push(v,x,T,w),2}function Ds(t,e,r,n,i,s,o,l){const c=r-t,h=n-e;let d=Math.atan2(c,h),p=Math.atan2(i-t,s-e);l&&d<p?d+=Math.PI*2:!l&&d>p&&(p+=Math.PI*2);let m=d;const y=p-d,v=Math.abs(y),x=Math.sqrt(c*c+h*h),T=(15*v*Math.sqrt(x)/Math.PI>>0)+1,w=y/T;if(m+=w,l){o.push(t,e,r,n);for(let b=1,E=m;b<T;b++,E+=w)o.push(t,e,t+Math.sin(E)*x,e+Math.cos(E)*x);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let b=1,E=m;b<T;b++,E+=w)o.push(t+Math.sin(E)*x,e+Math.cos(E)*x,t,e);o.push(i,s,t,e)}return T*2}function A5(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Ge(n[0],n[1]),l=new Ge(n[n.length-2],n[n.length-1]),c=r.type!==Qt.POLY||r.closeStroke,h=Math.abs(o.x-l.x)<i&&Math.abs(o.y-l.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const X=(o.x+l.x)*.5,k=(l.y+o.y)*.5;n.unshift(X,k),n.push(X,k)}const d=e.points,p=n.length/2;let m=n.length;const y=d.length/2,v=s.width/2,x=v*v,T=s.miterLimit*s.miterLimit;let w=n[0],b=n[1],E=n[2],C=n[3],A=0,D=0,M=-(b-C),O=w-E,I=0,U=0,z=Math.sqrt(M*M+O*O);M/=z,O/=z,M*=v,O*=v;const B=s.alignment,R=(1-B)*2,L=B*2;c||(s.cap===Vs.ROUND?m+=Ds(w-M*(R-L)*.5,b-O*(R-L)*.5,w-M*R,b-O*R,w+M*L,b+O*L,d,!0)+2:s.cap===Vs.SQUARE&&(m+=ab(w,b,M,O,R,L,!0,d))),d.push(w-M*R,b-O*R,w+M*L,b+O*L);for(let X=1;X<p-1;++X){w=n[(X-1)*2],b=n[(X-1)*2+1],E=n[X*2],C=n[X*2+1],A=n[(X+1)*2],D=n[(X+1)*2+1],M=-(b-C),O=w-E,z=Math.sqrt(M*M+O*O),M/=z,O/=z,M*=v,O*=v,I=-(C-D),U=E-A,z=Math.sqrt(I*I+U*U),I/=z,U/=z,I*=v,U*=v;const k=E-w,G=b-C,F=E-A,te=D-C,ae=k*F+G*te,Pe=G*F-te*k,ge=Pe<0;if(Math.abs(Pe)<.001*Math.abs(ae)){d.push(E-M*R,C-O*R,E+M*L,C+O*L),ae>=0&&(s.join===yn.ROUND?m+=Ds(E,C,E-M*R,C-O*R,E-I*R,C-U*R,d,!1)+4:m+=2,d.push(E-I*L,C-U*L,E+I*R,C+U*R));continue}const Me=(-M+w)*(-O+C)-(-M+E)*(-O+b),we=(-I+A)*(-U+C)-(-I+E)*(-U+D),Re=(k*we-F*Me)/Pe,He=(te*Me-G*we)/Pe,Qe=(Re-E)*(Re-E)+(He-C)*(He-C),K=E+(Re-E)*R,ee=C+(He-C)*R,ye=E-(Re-E)*L,de=C-(He-C)*L,Se=Math.min(k*k+G*G,F*F+te*te),Ae=ge?R:L,Ie=Se+Ae*Ae*x,Oe=Qe<=Ie;let Le=s.join;if(Le===yn.MITER&&Qe/x>T&&(Le=yn.BEVEL),Oe)switch(Le){case yn.MITER:{d.push(K,ee,ye,de);break}case yn.BEVEL:{ge?d.push(K,ee,E+M*L,C+O*L,K,ee,E+I*L,C+U*L):d.push(E-M*R,C-O*R,ye,de,E-I*R,C-U*R,ye,de),m+=2;break}case yn.ROUND:{ge?(d.push(K,ee,E+M*L,C+O*L),m+=Ds(E,C,E+M*L,C+O*L,E+I*L,C+U*L,d,!0)+4,d.push(K,ee,E+I*L,C+U*L)):(d.push(E-M*R,C-O*R,ye,de),m+=Ds(E,C,E-M*R,C-O*R,E-I*R,C-U*R,d,!1)+4,d.push(E-I*R,C-U*R,ye,de));break}}else{switch(d.push(E-M*R,C-O*R,E+M*L,C+O*L),Le){case yn.MITER:{ge?d.push(ye,de,ye,de):d.push(K,ee,K,ee),m+=2;break}case yn.ROUND:{ge?m+=Ds(E,C,E+M*L,C+O*L,E+I*L,C+U*L,d,!0)+2:m+=Ds(E,C,E-M*R,C-O*R,E-I*R,C-U*R,d,!1)+2;break}}d.push(E-I*R,C-U*R,E+I*L,C+U*L),m+=2}}w=n[(p-2)*2],b=n[(p-2)*2+1],E=n[(p-1)*2],C=n[(p-1)*2+1],M=-(b-C),O=w-E,z=Math.sqrt(M*M+O*O),M/=z,O/=z,M*=v,O*=v,d.push(E-M*R,C-O*R,E+M*L,C+O*L),c||(s.cap===Vs.ROUND?m+=Ds(E-M*(R-L)*.5,C-O*(R-L)*.5,E-M*R,C-O*R,E+M*L,C+O*L,d,!1)+2:s.cap===Vs.SQUARE&&(m+=ab(E,C,M,O,R,L,!1,d)));const W=e.indices,$=Ta.epsilon*Ta.epsilon;for(let X=y;X<m+y-2;++X)w=d[X*2],b=d[X*2+1],E=d[(X+1)*2],C=d[(X+1)*2+1],A=d[(X+2)*2],D=d[(X+2)*2+1],!(Math.abs(w*(C-D)+E*(D-b)+A*(b-C))<$)&&W.push(X,X+1,X+2)}function I5(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Qt.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,l=e.indices,c=i.length/2,h=o.length/2;let d=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),l.push(d,d+1),d++;s&&l.push(d,h)}function lb(t,e){t.lineStyle.native?I5(t,e):A5(t,e)}class My{static curveLength(e,r,n,i,s,o){const l=e-2*n+s,c=r-2*i+o,h=2*n-2*e,d=2*i-2*r,p=4*(l*l+c*c),m=4*(l*h+c*d),y=h*h+d*d,v=2*Math.sqrt(p+m+y),x=Math.sqrt(p),T=2*p*x,w=2*Math.sqrt(y),b=m/x;return(T*v+x*m*(v-w)+(4*y*p-m*m)*Math.log((2*x+b+v)/(b+w)))/(4*T)}static curveTo(e,r,n,i,s){const o=s[s.length-2],l=s[s.length-1],c=Ta._segmentsCount(My.curveLength(o,l,e,r,n,i));let h=0,d=0;for(let p=1;p<=c;++p){const m=p/c;h=o+(e-o)*m,d=l+(r-l)*m,s.push(h+(e+(n-e)*m-h)*m,d+(r+(i-r)*m-d)*m)}}}const bm={[Qt.POLY]:AT,[Qt.CIRC]:od,[Qt.ELIP]:od,[Qt.RECT]:T5,[Qt.RREC]:C5},ub=[],Xc=[];class ad{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new ad(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Mo=new Ge,IT=class extends zS{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new nd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Xc.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),ub.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new ad(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new ad(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Mo):Mo.copyFrom(t),n.shape.contains(Mo.x,Mo.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(Mo.x,Mo.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let l=this.shapeIndex;l<e.length;l++){this.shapeIndex++;const c=e[l],h=c.fillStyle,d=c.lineStyle;bm[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(h.visible||d.visible)&&this.processHoles(c.holes);for(let m=0;m<2;m++){const y=m===0?h:d;if(!y.visible)continue;const v=y.texture.baseTexture,x=this.indices.length,T=this.points.length/2;v.wrapMode=Ei.REPEAT,m===0?this.processFill(c):this.processLine(c);const w=this.points.length/2-T;w!==0&&(r&&!this._compareStyles(n,y)&&(r.end(x,T),r=null),r||(r=ub.pop()||new P5,r.begin(y,x,T),this.batches.push(r),n=y),this.addUvs(this.points,t,y.texture,T,w,y.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<IT.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++ke._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),Xc.push(this.drawCalls[d]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=Xc.pop();n||(n=new Xg,n.texArray=new Qg),n.texArray.count=0,n.start=0,n.size=0,n.type=Zr.TRIANGLES;let i=0,s=null,o=0,l=!1,c=Zr.TRIANGLES,h=0;this.drawCalls.push(n);for(let d=0;d<this.batches.length;d++){const p=this.batches[d],m=8,y=p.style,v=y.texture.baseTexture;l!==!!y.native&&(l=!!y.native,c=l?Zr.LINES:Zr.TRIANGLES,s=null,i=m,t++),s!==v&&(s=v,v._batchEnabled!==t&&(i===m&&(t++,i=0,n.size>0&&(n=Xc.pop(),n||(n=new Xg,n.texArray=new Qg),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=c),v.touched=1,v._batchEnabled=t,v._batchLocation=i,v.wrapMode=Ei.REPEAT,n.texArray.elements[n.texArray.count++]=v,i++)),n.size+=p.size,h+=p.size,o=v._batchLocation,this.addColors(e,y.color,y.alpha,p.attribSize,p.attribStart),this.addTextureIds(r,o,p.attribSize,p.attribStart)}ke._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let l=0;for(let c=0;c<t.length/2;c++)s[l++]=t[c*2],s[l++]=t[c*2+1],s[l++]=e[c*2],s[l++]=e[c*2+1],o[l++]=r[c],s[l++]=n[c];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?AT.triangulate(t,this):bm[t.type].triangulate(t,this)}processLine(t){lb(t,this);for(let e=0;e<t.holes.length;e++)lb(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];bm[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=Ze.shared.setValue(e).toLittleEndianNumber(),o=Ze.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let l=0;l<n;l++)t[i+l]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const l=e.length,c=r.frame;for(;o<i;){let d=t[(n+o)*2],p=t[(n+o)*2+1];if(s){const m=s.a*d+s.c*p+s.tx;p=s.b*d+s.d*p+s.ty,d=m}o++,e.push(d/c.width,p/c.height)}const h=r.baseTexture;(c.width<h.width||c.height<h.height)&&this.adjustUvs(e,r,l,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,l=e.frame,c=l.width/i.width,h=l.height/i.height;let d=l.x/l.width,p=l.y/l.height,m=Math.floor(t[r]+s),y=Math.floor(t[r+1]+s);for(let v=r+2;v<o;v+=2)m=Math.min(m,Math.floor(t[v]+s)),y=Math.min(y,Math.floor(t[v+1]+s));d-=m,p-=y;for(let v=r;v<o;v+=2)t[v]=(t[v]+d)*c,t[v+1]=(t[v+1]+p)*h}};let RT=IT;RT.BATCHABLE_SIZE=100;class Yd{constructor(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Yd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Oy extends Yd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Vs.BUTT,this.join=yn.MITER,this.miterLimit=10}clone(){const e=new Oy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const wm={},wh=class extends ur{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Yd,this._lineStyle=new Oy,this._matrix=null,this._holeMode=!1,this.state=Mi.for2d(),this._geometry=t||new RT,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ze(16777215),this.blendMode=Ce.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new wh(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:ue.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Vs.BUTT,join:yn.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new da,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new da,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),My.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),ky.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=ob.curveTo(t,e,r,n,i,s);if(o){const{cx:l,cy:c,radius:h,startAngle:d,endAngle:p,anticlockwise:m}=o;this.arc(l,c,h,d,p,m)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=rd:s&&n<=i&&(n+=rd),i-n===0)return this;const l=t+Math.cos(n)*r,c=e+Math.sin(n)*r,h=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const p=Math.abs(d[d.length-2]-l),m=Math.abs(d[d.length-1]-c);p<h&&m<h||d.push(l,c)}else this.moveTo(l,c),d=this.currentPath.points;return ob.arc(l,c,t,e,r,n,i,s,d),this}beginFill(t=0,e){return this.beginTextureFill({texture:ue.WHITE,color:t,alpha:e})}normalizeColor(t){const e=Ze.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:ue.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new Fe(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new Ay(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Cy(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new Py(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new da(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Qt.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),l=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),c=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),h={vertexData:o,blendMode:e,indices:c,uvs:l,_batchRGB:Ze.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,Ze.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,l=s.length;o<l;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let l=0;l<o;l++)t.texture.bind(r.elements[l],l);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!wm[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let l=0;l<n;l++)i[l]=l;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new ct,default:Rn.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;wm[r]=new ei(o,s)}e=wm[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,wh._TEMP_POINT),this._geometry.containsPoint(wh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=Ze.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,l=e.ty,c=this._geometry.points,h=this.vertexData;let d=0;for(let p=0;p<c.length;p+=2){const m=c[p],y=c[p+1];h[d++]=r*m+i*y+o,h[d++]=s*y+n*m+l}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Zs=wh;Zs.curves=Ta;Zs._TEMP_POINT=new Ge;class R5 extends Wd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,l=this.width/s,c=this.height/o;for(let d=0;d<e;d++){const p=d%this.segWidth,m=d/this.segWidth|0;r.push(p*l,m*c),n.push(p/s,m/o)}const h=s*o;for(let d=0;d<h;d++){const p=d%s,m=d/s|0,y=m*this.segWidth+p,v=m*this.segWidth+p+1,x=(m+1)*this.segWidth+p,T=(m+1)*this.segWidth+p+1;i.push(y,v,x,v,T,x)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class k5 extends Wd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let l=0,c=e[0];const h=this._width*this.textureScale,d=e.length;for(let m=0;m<d;m++){const y=m*4;if(this.textureScale>0){const v=c.x-e[m].x,x=c.y-e[m].y,T=Math.sqrt(v*v+x*x);c=e[m],l+=T/h}else l=m/(d-1);s[y]=l,s[y+1]=0,s[y+2]=l,s[y+3]=1}let p=0;for(let m=0;m<d-1;m++){const y=m*2;o[p++]=y,o[p++]=y+1,o[p++]=y+2,o[p++]=y+2,o[p++]=y+1,o[p++]=y+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,l=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<l;h++){const d=e[h],p=h*4;h<e.length-1?n=e[h+1]:n=d,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=c,s*=c),o[p]=d.x+i,o[p+1]=d.y+s,o[p+2]=d.x-i,o[p+3]=d.y-s,r=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class M5 extends Sa{constructor(e,r,n){const i=new R5(e.width,e.height,r,n),s=new au(ue.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Yc=10;class O5 extends M5{constructor(e,r,n,i,s){var o,l,c,h;super(ue.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Yc,this._rightWidth=i??((l=e.defaultBorders)==null?void 0:l.right)??Yc,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??Yc,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??Yc,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class kT extends Sa{constructor(e=ue.EMPTY,r,n,i,s){const o=new Wd(r,n,i);o.getBuffer("aVertexPosition").static=!1;const l=new au(e);super(o,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class D5 extends Sa{constructor(e,r,n=0){const i=new k5(e.height,r,n),s=new au(e);n>0&&(e.baseTexture.wrapMode=Ei.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class N5 extends ur{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ce.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Ze(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class cb{constructor(e,r,n){this.geometry=new gs,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Te.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Et(uM(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Et(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=i,i+=l.size,this.staticStride+=l.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Et(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===Te.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===Te.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Te.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Te.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var L5=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,F5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class MT extends Bd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ct,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Te.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ei.from(F5,L5,{}),this.state=Mi.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=LS(e.blendMode,h),s.state.set(this.state);const d=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Ze.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let y=0,v=0;y<o;y+=i,v+=1){let x=o-y;x>i&&(x=i),v>=l.length&&l.push(this._generateOneMoreBuffer(e));const T=l[v];T.uploadDynamic(r,y,x);const w=e._bufferUpdateIDs[v]||0;m=m||T._updateID<w,m&&(T._updateID=e._updateID,T.uploadStatic(r,y,x)),s.geometry.bind(T.geometry),d.drawElements(d.TRIANGLES,x*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new cb(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new cb(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let l=0,c=0,h=0,d=0;for(let p=0;p<n;++p){const m=e[r+p],y=m._texture,v=m.scale.x,x=m.scale.y,T=y.trim,w=y.orig;T?(c=T.x-m.anchor.x*w.width,l=c+T.width,d=T.y-m.anchor.y*w.height,h=d+T.height):(l=w.width*(1-m.anchor.x),c=w.width*-m.anchor.x,h=w.height*(1-m.anchor.y),d=w.height*-m.anchor.y),i[o]=c*v,i[o+1]=d*x,i[o+s]=l*v,i[o+s+1]=d*x,i[o+s*2]=l*v,i[o+s*2+1]=h*x,i[o+s*3]=c*v,i[o+s*3+1]=h*x,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let l=0;l<n;l++){const c=e[r+l].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let l=0;l<n;l++){const c=e[r+l].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let l=0;l<n;++l){const c=e[r+l]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let l=0;l<n;++l){const c=e[r+l],h=Ze.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}MT.extension={name:"particle",type:he.RendererPlugin};be.add(MT);class lu extends ii{constructor(e,r=!0){super(e[0]instanceof ue?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Tt.shared.add(this.update,this,vs.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new lu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new lu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ue)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Tt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Tt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const fl=new Ge;class Dy extends ii{constructor(e,r=100,n=100){super(e),this.tileTransform=new Fd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Iy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Fe),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,fl);const r=this._width,n=this._height,i=-r*this.anchor._x;if(fl.x>=i&&fl.x<i+r){const s=-n*this.anchor._y;if(fl.y>=s&&fl.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new Dy(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var B5=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,U5=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,z5=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,hb=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,j5=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Qc=new ct;class OT extends Bd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new ZS,this.state=Mi.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=ei.from(hb,j5,r),this.shader=e.context.webGLVersion>1?ei.from(U5,B5,r):ei.from(hb,z5,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const l=e._texture,c=l.baseTexture,h=c.alphaMode>0,d=e.tileTransform.localTransform,p=e.uvMatrix;let m=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==Ei.CLAMP:c.wrapMode===Ei.CLAMP&&(c.wrapMode=Ei.REPEAT));const y=m?this.simpleShader:this.shader,v=l.width,x=l.height,T=e._width,w=e._height;Qc.set(d.a*v/T,d.b*v/w,d.c*x/T,d.d*x/w,d.tx/T,d.ty/w),Qc.invert(),m?Qc.prepend(p.mapCoord):(y.uniforms.uMapCoord=p.mapCoord.toArray(!0),y.uniforms.uClampFrame=p.uClampFrame,y.uniforms.uClampOffset=p.uClampOffset),y.uniforms.uTransform=Qc.toArray(!0),y.uniforms.uColor=Ze.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=l,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=LS(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}OT.extension={name:"tilingSprite",type:he.RendererPlugin};be.add(OT);const s0=class{constructor(t){this.stage=new ur,t=Object.assign({forceCanvas:!1},t),this.renderer=b4(t),s0._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=s0._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let bu=s0;bu._plugins=[];be.handleByList(he.Application,bu._plugins);class DT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}DT.extension=he.Application;be.add(DT);var NT={exports:{}},$5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",G5=$5,H5=G5;function LT(){}function FT(){}FT.resetWarningCache=LT;var W5=function(){function t(n,i,s,o,l,c){if(c!==H5){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:FT,resetWarningCache:LT};return r.PropTypes=r,r};NT.exports=W5();var V5=NT.exports;const it=hu(V5);function Fr(t){return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(t)}function BT(t){var e=function(r,n){if(Fr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Fr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Fr(e)==="symbol"?e:String(e)}function wt(t,e,r){return(e=BT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Em(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ri(t){return function(e){if(Array.isArray(e))return Em(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Em(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Em(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var X5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q5=function(t){return t==null};function bl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Ri(t);else{if(t===null||Fr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!Q5(r)&&!isNaN(r)}).map(Number)}function db(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Sm(t){return t instanceof Ge||t instanceof bi}var ld=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Tm(t,e,r){if(Sm(t[e])&&Sm(r))t[e].copyFrom(r);else if(Sm(t[e])){var n=bl(r);xt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Fr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Oo,UT=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},zT=function(t){return function(){return!t.apply(void 0,arguments)}},o0="children",K5=(wt(Oo={},o0,!0),wt(Oo,"parent",!0),wt(Oo,"worldAlpha",!0),wt(Oo,"worldTransform",!0),wt(Oo,"worldVisible",!0),Oo),a0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},ri=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(l){return requestAnimationFrame(function(){var c,h;l==null||(c=l.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(l,c){if(r.hasOwnProperty(l))return xt(c.typeofs.some(function(h){return Fr(r[l])===h})||c.instanceofs.some(function(h){return r[l]instanceof h}),"".concat(t," ").concat(l," prop is invalid")),r[l]};if(r.texture)return xt(r.texture instanceof ue,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ue]});xt(!!s,"".concat(t," could not get texture from props"));var o=ue.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},q5=zT(UT([].concat(Ri(Object.keys(K5)),Ri(ld))));function ni(t,e,r){var n=!1;if(xt(ht.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Fr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<ld.length;o++){var l=ld[o];e[l]!==r[l]&&(n=!0,typeof e[l]=="function"&&i&&t.removeListener(l,e[l]),typeof r[l]=="function"&&s&&t.on(l,r[l]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var d=c[h];e[d]!==r[d]&&(n=!0,Tm(t,d,r[d]))}return n}for(var p=c.filter(q5),m=0;m<p.length;m++){var y=p[m],v=r[y];r[y]!==e[y]&&(n=!0),v!==void 0?Tm(t,y,v):y in a0?(console.warn("setting default value: ".concat(y,", from: ").concat(t[y]," to: ").concat(v," for"),t),n=!0,Tm(t,y,a0[y])):console.warn("ignoring prop: ".concat(y,", from ").concat(t[y]," to ").concat(v," for"),t)}return n}var Z5=function(t,e){var r=e.text,n=e.style;return new CT(r,n)},J5=function(){return new ur};function Es(t,e){if(t==null)return{};var r,n,i=function(o,l){if(o==null)return{};var c,h,d={},p=Object.keys(o);for(h=0;h<p.length;h++)c=p[h],l.indexOf(c)>=0||(d[c]=o[c]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var eO=["draw","geometry"],tO=function(t,e){var r=e.geometry;xt(!r||r instanceof Zs,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Zs(r.geometry):new Zs;return n.applyProps=function(i,s,o){var l=o.draw;o.geometry;var c=ni(i,s,Es(o,eO));return s.draw!==l&&typeof l=="function"&&(c=!0,l.call(n,n)),c},n},rO=["image","texture"],nO=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,l=o===void 0?10:o,c=e.bottomHeight,h=c===void 0?10:c,d=ri("NineSlicePlane",t,e),p=new O5(d,n,s,l,h);return p.applyProps=function(m,y,v){var x=v.image,T=v.texture,w=ni(m,y,Es(v,rO));return(x||T)&&(T!==y.texture&&(w=!0),m.texture=ri("NineSlicePlane",t,v)),w},p};function fb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fb(Object(r),!0).forEach(function(n){wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var iO=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,l=o!==void 0&&o,c=Kc(Kc({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=Kc(Kc({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new N5(n,c,s,l);return d.willUnmount=function(p,m,y){p.destroy(h)},d},sO=["image","texture"],oO=function(t,e){var r=new ii(ri("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,l=s.texture,c=ni(n,i,Es(s,sO));return(l&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=ri("Sprite",t,s)),c},r},aO=["textures","isPlaying","initialFrame","images"],lO=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,l=function(h){return h.map(function(d){return xt(d instanceof ue||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),d})},c=n?lu.fromImages(n):new lu(l(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,d,p){var m=p.textures,y=p.isPlaying,v=p.initialFrame,x=p.images,T=ni(h,d,Es(p,aO));if(x&&d.images!==x){for(var w=[],b=0;b<x.length;++b)w.push(ue.from(x[b]));h.textures=w,T=!0}if(m&&d.textures!==m&&(h.textures=l(m),T=!0),y!==d.isPlaying||v!==d.initialFrame){var E=typeof v=="number"?v:c.currentFrame||0;c[y?"gotoAndPlay":"gotoAndStop"](E),T=!0}return T},c},uO=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,l=new Hd(n,s);return o?(l.updateText(),new ii(l.texture)):l},cO=["tileScale","tilePosition","image","texture"],hO=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=ri("TilingSprite",t,e),l=new Dy(o,n,s);return l.applyProps=function(c,h,d){var p=d.tileScale,m=d.tilePosition,y=d.image,v=d.texture,x=ni(c,h,Es(d,cO));if(m){var T,w=bl(m);(T=c.tilePosition).set.apply(T,Ri(w)),x=!db(bl(h.tilePosition),w)||x}if(p){var b,E=bl(p);(b=c.tileScale).set.apply(b,Ri(E)),x=!db(bl(h.tileScale),E)||x}return(y||v)&&(v!==h.texture&&(x=!0),c.texture=ri("Sprite",t,d)),x},l},dO=["image","texture"],fO=function(t,e){var r=ri("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,l=o===void 0?Zr.TRIANGLES:o,c=new kT(r,n,i,s,l);return c.applyProps=function(h,d,p){var m=p.image,y=p.texture,v=ni(h,d,Es(p,dO));return(m||y)&&(y!==d.texture&&(v=!0),h.texture=ri("Mesh",t,p)),v},c},pO=["image","texture"],mO=function(t,e){var r=ri("SimpleRope",t,e),n=e.points,i=new D5(r,n);return i.applyProps=function(s,o,l){var c=l.image,h=l.texture,d=Es(l,pO);xt(Array.isArray(l.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=ni(s,o,d);return(c||h)&&(h!==o.texture&&(p=!0),s.texture=ri("SimpleRope",t,l)),p},i},gO=Object.freeze({__proto__:null,BitmapText:Z5,Container:J5,Graphics:tO,NineSlicePlane:nO,ParticleContainer:iO,Sprite:oO,Text:uO,TilingSprite:hO,SimpleMesh:fO,SimpleRope:mO,AnimatedSprite:lO});function pb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pb(Object(r),!0).forEach(function(n){wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Cr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},yO=Object.keys(Cr).reduce(function(t,e){return mb(mb({},t),{},wt({},e,gO[e]))},{}),jT={};function vO(t,e){return xt(!!t,"Expect type to be defined, got `%s`",t),xt(!Cr[t],"Component `%s` could not be created, already exists in default components.",t),jT[t]=e,t}var gb,yb,vb,_b,l0={},u0={},_O={get exports(){return u0},set exports(t){u0=t}},xb={};function xO(){return yb||(yb=1,_O.exports=(gb||(gb=1,function(t){function e(k,G){var F=k.length;k.push(G);e:for(;0<F;){var te=F-1>>>1,ae=k[te];if(!(0<i(ae,G)))break e;k[te]=G,k[F]=ae,F=te}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var G=k[0],F=k.pop();if(F!==G){k[0]=F;e:for(var te=0,ae=k.length,Pe=ae>>>1;te<Pe;){var ge=2*(te+1)-1,Me=k[ge],we=ge+1,Re=k[we];if(0>i(Me,F))we<ae&&0>i(Re,Me)?(k[te]=Re,k[we]=F,te=we):(k[te]=Me,k[ge]=F,te=ge);else{if(!(we<ae&&0>i(Re,F)))break e;k[te]=Re,k[we]=F,te=we}}}return G}function i(k,G){var F=k.sortIndex-G.sortIndex;return F!==0?F:k.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],d=1,p=null,m=3,y=!1,v=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function E(k){for(var G=r(h);G!==null;){if(G.callback===null)n(h);else{if(!(G.startTime<=k))break;n(h),G.sortIndex=G.expirationTime,e(c,G)}G=r(h)}}function C(k){if(x=!1,E(k),!v)if(r(c)!==null)v=!0,$(A);else{var G=r(h);G!==null&&X(C,G.startTime-k)}}function A(k,G){v=!1,x&&(x=!1,w(I),I=-1),y=!0;var F=m;try{for(E(G),p=r(c);p!==null&&(!(p.expirationTime>G)||k&&!B());){var te=p.callback;if(typeof te=="function"){p.callback=null,m=p.priorityLevel;var ae=te(p.expirationTime<=G);G=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===r(c)&&n(c),E(G)}else n(c);p=r(c)}if(p!==null)var Pe=!0;else{var ge=r(h);ge!==null&&X(C,ge.startTime-G),Pe=!1}return Pe}finally{p=null,m=F,y=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var D,M=!1,O=null,I=-1,U=5,z=-1;function B(){return!(t.unstable_now()-z<U)}function R(){if(O!==null){var k=t.unstable_now();z=k;var G=!0;try{G=O(!0,k)}finally{G?D():(M=!1,O=null)}}else M=!1}if(typeof b=="function")D=function(){b(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=R,D=function(){W.postMessage(null)}}else D=function(){T(R,0)};function $(k){O=k,M||(M=!0,D())}function X(k,G){I=T(function(){k(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,$(A))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(k){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var F=m;m=G;try{return k()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=m;m=k;try{return G()}finally{m=F}},t.unstable_scheduleCallback=function(k,G,F){var te=t.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?te+F:te,k){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return k={id:d++,callback:G,priorityLevel:k,startTime:F,expirationTime:ae=F+ae,sortIndex:-1},F>te?(k.sortIndex=F,e(h,k),r(c)===null&&k===r(h)&&(x?(w(I),I=-1):x=!0,X(C,F-te))):(k.sortIndex=ae,e(c,k),v||y||(v=!0,$(A))),k},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(k){var G=m;return function(){var F=m;m=G;try{return k.apply(this,arguments)}finally{m=F}}}}(xb)),xb)),u0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function bO(){return _b||(_b=1,vb=function(t){var e={},r=Tn,n=xO(),i=Object.assign;function s(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function A(a){return a===null||typeof a!="object"?null:typeof(a=C&&a[C]||a["@@iterator"])=="function"?a:null}function D(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case y:return(a.displayName||"Context")+".Consumer";case m:return(a._context.displayName||"Context")+".Provider";case v:var u=a.render;return(a=a.displayName)||(a=(a=u.displayName||u.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case w:return(u=a.displayName||null)!==null?u:D(a.type)||"Memo";case b:u=a._payload,a=a._init;try{return D(a(u))}catch{}}return null}function M(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=u.render).displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(u);case 8:return u===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function O(a){var u=a,f=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do 4098&(u=a).flags&&(f=u.return),a=u.return;while(a)}return u.tag===3?f:null}function I(a){if(O(a)!==a)throw Error(s(188))}function U(a){var u=a.alternate;if(!u){if((u=O(a))===null)throw Error(s(188));return u!==a?null:a}for(var f=a,g=u;;){var _=f.return;if(_===null)break;var S=_.alternate;if(S===null){if((g=_.return)!==null){f=g;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===f)return I(_),a;if(S===g)return I(_),u;S=S.sibling}throw Error(s(188))}if(f.return!==g.return)f=_,g=S;else{for(var P=!1,N=_.child;N;){if(N===f){P=!0,f=_,g=S;break}if(N===g){P=!0,g=_,f=S;break}N=N.sibling}if(!P){for(N=S.child;N;){if(N===f){P=!0,f=S,g=_;break}if(N===g){P=!0,g=S,f=_;break}N=N.sibling}if(!P)throw Error(s(189))}}if(f.alternate!==g)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?a:u}function z(a){return(a=U(a))!==null?B(a):null}function B(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=B(a);if(u!==null)return u;a=a.sibling}return null}function R(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=R(a);if(u!==null)return u}a=a.sibling}return null}var L,W=Array.isArray,$=t.getPublicInstance,X=t.getRootHostContext,k=t.getChildHostContext,G=t.prepareForCommit,F=t.resetAfterCommit,te=t.createInstance,ae=t.appendInitialChild,Pe=t.finalizeInitialChildren,ge=t.prepareUpdate,Me=t.shouldSetTextContent,we=t.createTextInstance,Re=t.scheduleTimeout,He=t.cancelTimeout,Qe=t.noTimeout,K=t.isPrimaryRenderer,ee=t.supportsMutation,ye=t.supportsPersistence,de=t.supportsHydration,Se=t.getInstanceFromNode,Ae=t.preparePortalMount,Ie=t.getCurrentEventPriority,Oe=t.detachDeletedInstance,Le=t.supportsMicrotasks,Ye=t.scheduleMicrotask,Be=t.supportsTestSelectors,fe=t.findFiberRoot,Ct=t.getBoundingRect,Pr=t.getTextContent,Oi=t.isHiddenSubtree,P2=t.matchAccessibilityRole,A2=t.setFocusIfFocusable,I2=t.setupIntersectionObserver,R2=t.appendChild,k2=t.appendChildToContainer,M2=t.commitTextUpdate,O2=t.commitMount,D2=t.commitUpdate,N2=t.insertBefore,L2=t.insertInContainerBefore,F2=t.removeChild,B2=t.removeChildFromContainer,jy=t.resetTextContent,U2=t.hideInstance,z2=t.hideTextInstance,j2=t.unhideInstance,$2=t.unhideTextInstance,G2=t.clearContainer,H2=t.cloneInstance,$y=t.createContainerChildSet,Gy=t.appendChildToContainerChildSet,W2=t.finalizeContainerChildren,ef=t.replaceContainerChildren,Hy=t.cloneHiddenInstance,Wy=t.cloneHiddenTextInstance,V2=t.canHydrateInstance,X2=t.canHydrateTextInstance,Y2=t.canHydrateSuspenseInstance,Vy=t.isSuspenseInstancePending,tf=t.isSuspenseInstanceFallback,Q2=t.getSuspenseInstanceFallbackErrorDetails,K2=t.registerSuspenseInstanceRetry,Eu=t.getNextHydratableSibling,q2=t.getFirstHydratableChild,Z2=t.getFirstHydratableChildWithinContainer,J2=t.getFirstHydratableChildWithinSuspenseInstance,eC=t.hydrateInstance,tC=t.hydrateTextInstance,rC=t.hydrateSuspenseInstance,nC=t.getNextHydratableInstanceAfterSuspenseInstance,iC=t.commitHydratedContainer,sC=t.commitHydratedSuspenseInstance,oC=t.clearSuspenseBoundary,aC=t.clearSuspenseBoundaryFromContainer,lC=t.shouldDeleteUnhydratedTailInstances,uC=t.didNotMatchHydratedContainerTextInstance,cC=t.didNotMatchHydratedTextInstance;function Da(a){if(L===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);L=u&&u[1]||""}return`
`+L+a}var rf=!1;function nf(a,u){if(!a||rf)return"";rf=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Q){var g=Q}Reflect.construct(a,[],u)}else{try{u.call()}catch(Q){g=Q}a.call(u.prototype)}else{try{throw Error()}catch(Q){g=Q}a()}}catch(Q){if(Q&&g&&typeof Q.stack=="string"){for(var _=Q.stack.split(`
`),S=g.stack.split(`
`),P=_.length-1,N=S.length-1;1<=P&&0<=N&&_[P]!==S[N];)N--;for(;1<=P&&0<=N;P--,N--)if(_[P]!==S[N]){if(P!==1||N!==1)do if(P--,0>--N||_[P]!==S[N]){var H=`
`+_[P].replace(" at new "," at ");return a.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",a.displayName)),H}while(1<=P&&0<=N);break}}}finally{rf=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?Da(a):""}var hC=Object.prototype.hasOwnProperty,sf=[],fo=-1;function Di(a){return{current:a}}function ot(a){0>fo||(a.current=sf[fo],sf[fo]=null,fo--)}function et(a,u){fo++,sf[fo]=a.current,a.current=u}var Ni={},Jt=Di(Ni),gr=Di(!1),Ss=Ni;function po(a,u){var f=a.type.contextTypes;if(!f)return Ni;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var _,S={};for(_ in f)S[_]=u[_];return g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=S),S}function Ar(a){return(a=a.childContextTypes)!=null}function of(){ot(gr),ot(Jt)}function Xy(a,u,f){if(Jt.current!==Ni)throw Error(s(168));et(Jt,u),et(gr,f)}function Yy(a,u,f){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return f;for(var _ in g=g.getChildContext())if(!(_ in u))throw Error(s(108,M(a)||"Unknown",_));return i({},f,g)}function Su(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ni,Ss=Jt.current,et(Jt,a),et(gr,gr.current),!0}function Qy(a,u,f){var g=a.stateNode;if(!g)throw Error(s(169));f?(a=Yy(a,u,Ss),g.__reactInternalMemoizedMergedChildContext=a,ot(gr),ot(Jt),et(Jt,a)):ot(gr),et(gr,f)}var sn=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(dC(a)/fC|0)|0},dC=Math.log,fC=Math.LN2,af=64,lf=4194304;function Na(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Tu(a,u){var f=a.pendingLanes;if(f===0)return 0;var g=0,_=a.suspendedLanes,S=a.pingedLanes,P=268435455&f;if(P!==0){var N=P&~_;N!==0?g=Na(N):(S&=P)!==0&&(g=Na(S))}else(P=f&~_)!==0?g=Na(P):S!==0&&(g=Na(S));if(g===0)return 0;if(u!==0&&u!==g&&!(u&_)&&((_=g&-g)>=(S=u&-u)||_===16&&4194240&S))return u;if(4&g&&(g|=16&f),(u=a.entangledLanes)!==0)for(a=a.entanglements,u&=g;0<u;)_=1<<(f=31-sn(u)),g|=a[f],u&=~_;return g}function pC(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function uf(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function Ky(){var a=af;return!(4194240&(af<<=1))&&(af=64),a}function cf(a){for(var u=[],f=0;31>f;f++)u.push(a);return u}function La(a,u,f){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[u=31-sn(u)]=f}function hf(a,u){var f=a.entangledLanes|=u;for(a=a.entanglements;f;){var g=31-sn(f),_=1<<g;_&u|a[g]&u&&(a[g]|=u),f&=~_}}var Ve=0;function qy(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var df=n.unstable_scheduleCallback,Zy=n.unstable_cancelCallback,mC=n.unstable_shouldYield,gC=n.unstable_requestPaint,Nt=n.unstable_now,ff=n.unstable_ImmediatePriority,yC=n.unstable_UserBlockingPriority,Jy=n.unstable_NormalPriority,vC=n.unstable_IdlePriority,Cu=null,On=null,on=typeof Object.is=="function"?Object.is:function(a,u){return a===u&&(a!==0||1/a==1/u)||a!=a&&u!=u},oi=null,Pu=!1,pf=!1;function ev(a){oi===null?oi=[a]:oi.push(a)}function Dn(){if(!pf&&oi!==null){pf=!0;var a=0,u=Ve;try{var f=oi;for(Ve=1;a<f.length;a++){var g=f[a];do g=g(!0);while(g!==null)}oi=null,Pu=!1}catch(_){throw oi!==null&&(oi=oi.slice(a+1)),df(ff,Dn),_}finally{Ve=u,pf=!1}}return null}var mo=[],go=0,Au=null,Iu=0,jr=[],$r=0,Ts=null,Nn=1,ai="";function Cs(a,u){mo[go++]=Iu,mo[go++]=Au,Au=a,Iu=u}function tv(a,u,f){jr[$r++]=Nn,jr[$r++]=ai,jr[$r++]=Ts,Ts=a;var g=Nn;a=ai;var _=32-sn(g)-1;g&=~(1<<_),f+=1;var S=32-sn(u)+_;if(30<S){var P=_-_%5;S=(g&(1<<P)-1).toString(32),g>>=P,_-=P,Nn=1<<32-sn(u)+_|f<<_|g,ai=S+a}else Nn=1<<S|f<<_|g,ai=a}function mf(a){a.return!==null&&(Cs(a,1),tv(a,1,0))}function gf(a){for(;a===Au;)Au=mo[--go],mo[go]=null,Iu=mo[--go],mo[go]=null;for(;a===Ts;)Ts=jr[--$r],jr[$r]=null,ai=jr[--$r],jr[$r]=null,Nn=jr[--$r],jr[$r]=null}var Ir=null,Gr=null,at=!1,Fa=!1,an=null;function rv(a,u){var f=Yr(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=a,(u=a.deletions)===null?(a.deletions=[f],a.flags|=16):u.push(f)}function nv(a,u){switch(a.tag){case 5:return(u=V2(u,a.type,a.pendingProps))!==null&&(a.stateNode=u,Ir=a,Gr=q2(u),!0);case 6:return(u=X2(u,a.pendingProps))!==null&&(a.stateNode=u,Ir=a,Gr=null,!0);case 13:if((u=Y2(u))!==null){var f=Ts!==null?{id:Nn,overflow:ai}:null;return a.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},(f=Yr(18,null,null,0)).stateNode=u,f.return=a,a.child=f,Ir=a,Gr=null,!0}return!1;default:return!1}}function yf(a){return(1&a.mode)!=0&&(128&a.flags)==0}function vf(a){if(at){var u=Gr;if(u){var f=u;if(!nv(a,u)){if(yf(a))throw Error(s(418));u=Eu(f);var g=Ir;u&&nv(a,u)?rv(g,f):(a.flags=-4097&a.flags|2,at=!1,Ir=a)}}else{if(yf(a))throw Error(s(418));a.flags=-4097&a.flags|2,at=!1,Ir=a}}}function iv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ir=a}function Ru(a){if(!de||a!==Ir)return!1;if(!at)return iv(a),at=!0,!1;if(a.tag!==3&&(a.tag!==5||lC(a.type)&&!Me(a.type,a.memoizedProps))){var u=Gr;if(u){if(yf(a))throw sv(),Error(s(418));for(;u;)rv(a,u),u=Eu(u)}}if(iv(a),a.tag===13){if(!de)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Gr=nC(a)}else Gr=Ir?Eu(a.stateNode):null;return!0}function sv(){for(var a=Gr;a;)a=Eu(a)}function yo(){de&&(Gr=Ir=null,Fa=at=!1)}function _f(a){an===null?an=[a]:an.push(a)}var _C=o.ReactCurrentBatchConfig;function ku(a,u){if(on(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var f=Object.keys(a),g=Object.keys(u);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var _=f[g];if(!hC.call(u,_)||!on(a[_],u[_]))return!1}return!0}function xC(a){switch(a.tag){case 5:return Da(a.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return a=nf(a.type,!1);case 11:return a=nf(a.type.render,!1);case 1:return a=nf(a.type,!0);default:return""}}function ln(a,u){if(a&&a.defaultProps){for(var f in u=i({},u),a=a.defaultProps)u[f]===void 0&&(u[f]=a[f]);return u}return u}var Mu=Di(null),Ou=null,vo=null,xf=null;function bf(){xf=vo=Ou=null}function ov(a,u,f){K?(et(Mu,u._currentValue),u._currentValue=f):(et(Mu,u._currentValue2),u._currentValue2=f)}function wf(a){var u=Mu.current;ot(Mu),K?a._currentValue=u:a._currentValue2=u}function Ef(a,u,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===f)break;a=a.return}}function _o(a,u){Ou=a,xf=vo=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&u&&(yr=!0),a.firstContext=null)}function Hr(a){var u=K?a._currentValue:a._currentValue2;if(xf!==a)if(a={context:a,memoizedValue:u,next:null},vo===null){if(Ou===null)throw Error(s(308));vo=a,Ou.dependencies={lanes:0,firstContext:a}}else vo=vo.next=a;return u}var Ps=null;function Sf(a){Ps===null?Ps=[a]:Ps.push(a)}function av(a,u,f,g){var _=u.interleaved;return _===null?(f.next=f,Sf(u)):(f.next=_.next,_.next=f),u.interleaved=f,Ln(a,g)}function Ln(a,u){a.lanes|=u;var f=a.alternate;for(f!==null&&(f.lanes|=u),f=a,a=a.return;a!==null;)a.childLanes|=u,(f=a.alternate)!==null&&(f.childLanes|=u),f=a,a=a.return;return f.tag===3?f.stateNode:null}var Li=!1;function Tf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lv(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function li(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Fi(a,u,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(2&$e)!=0){var _=g.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),g.pending=u,Ln(a,f)}return(_=g.interleaved)===null?(u.next=u,Sf(g)):(u.next=_.next,_.next=u),g.interleaved=u,Ln(a,f)}function Du(a,u,f){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&f)!=0)){var g=u.lanes;f|=g&=a.pendingLanes,u.lanes=f,hf(a,f)}}function uv(a,u){var f=a.updateQueue,g=a.alternate;if(g!==null&&f===(g=g.updateQueue)){var _=null,S=null;if((f=f.firstBaseUpdate)!==null){do{var P={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?_=S=P:S=S.next=P,f=f.next}while(f!==null);S===null?_=S=u:S=S.next=u}else _=S=u;return f={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:g.shared,effects:g.effects},void(a.updateQueue=f)}(a=f.lastBaseUpdate)===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=u}function Nu(a,u,f,g){var _=a.updateQueue;Li=!1;var S=_.firstBaseUpdate,P=_.lastBaseUpdate,N=_.shared.pending;if(N!==null){_.shared.pending=null;var H=N,Q=H.next;H.next=null,P===null?S=Q:P.next=Q,P=H;var Z=a.alternate;Z!==null&&(N=(Z=Z.updateQueue).lastBaseUpdate)!==P&&(N===null?Z.firstBaseUpdate=Q:N.next=Q,Z.lastBaseUpdate=H)}if(S!==null){var le=_.baseState;for(P=0,Z=Q=H=null,N=S;;){var q=N.lane,se=N.eventTime;if((g&q)===q){Z!==null&&(Z=Z.next={eventTime:se,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ve=a,De=N;switch(q=u,se=f,De.tag){case 1:if(typeof(ve=De.payload)=="function"){le=ve.call(se,le,q);break e}le=ve;break e;case 3:ve.flags=-65537&ve.flags|128;case 0:if((q=typeof(ve=De.payload)=="function"?ve.call(se,le,q):ve)==null)break e;le=i({},le,q);break e;case 2:Li=!0}}N.callback!==null&&N.lane!==0&&(a.flags|=64,(q=_.effects)===null?_.effects=[N]:q.push(N))}else se={eventTime:se,lane:q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Z===null?(Q=Z=se,H=le):Z=Z.next=se,P|=q;if((N=N.next)===null){if((N=_.shared.pending)===null)break;N=(q=N).next,q.next=null,_.lastBaseUpdate=q,_.shared.pending=null}}if(Z===null&&(H=le),_.baseState=H,_.firstBaseUpdate=Q,_.lastBaseUpdate=Z,(u=_.shared.interleaved)!==null){_=u;do P|=_.lane,_=_.next;while(_!==u)}else S===null&&(_.shared.lanes=0);Is|=P,a.lanes=P,a.memoizedState=le}}function cv(a,u,f){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],_=g.callback;if(_!==null){if(g.callback=null,g=f,typeof _!="function")throw Error(s(191,_));_.call(g)}}}var hv=new r.Component().refs;function Cf(a,u,f,g){f=(f=f(g,u=a.memoizedState))==null?u:i({},u,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Lu={isMounted:function(a){return!!(a=a._reactInternals)&&O(a)===a},enqueueSetState:function(a,u,f){a=a._reactInternals;var g=rr(),_=ji(a),S=li(g,_);S.payload=u,f!=null&&(S.callback=f),(u=Fi(a,S,_))!==null&&(Xr(u,a,_,g),Du(u,a,_))},enqueueReplaceState:function(a,u,f){a=a._reactInternals;var g=rr(),_=ji(a),S=li(g,_);S.tag=1,S.payload=u,f!=null&&(S.callback=f),(u=Fi(a,S,_))!==null&&(Xr(u,a,_,g),Du(u,a,_))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var f=rr(),g=ji(a),_=li(f,g);_.tag=2,u!=null&&(_.callback=u),(u=Fi(a,_,g))!==null&&(Xr(u,a,g,f),Du(u,a,g))}};function dv(a,u,f,g,_,S,P){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,P):!u.prototype||!u.prototype.isPureReactComponent||!ku(f,g)||!ku(_,S)}function fv(a,u,f){var g=!1,_=Ni,S=u.contextType;return typeof S=="object"&&S!==null?S=Hr(S):(_=Ar(u)?Ss:Jt.current,S=(g=(g=u.contextTypes)!=null)?po(a,_):Ni),u=new u(f,S),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Lu,a.stateNode=u,u._reactInternals=a,g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=_,a.__reactInternalMemoizedMaskedChildContext=S),u}function pv(a,u,f,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,g),u.state!==a&&Lu.enqueueReplaceState(u,u.state,null)}function Pf(a,u,f,g){var _=a.stateNode;_.props=f,_.state=a.memoizedState,_.refs=hv,Tf(a);var S=u.contextType;typeof S=="object"&&S!==null?_.context=Hr(S):(S=Ar(u)?Ss:Jt.current,_.context=po(a,S)),_.state=a.memoizedState,typeof(S=u.getDerivedStateFromProps)=="function"&&(Cf(a,u,S,f),_.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&Lu.enqueueReplaceState(_,_.state,null),Nu(a,f,_,g),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308)}function Ba(a,u,f){if((a=f.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner){if(f.tag!==1)throw Error(s(309));var g=f.stateNode}if(!g)throw Error(s(147,a));var _=g,S=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(P){var N=_.refs;N===hv&&(N=_.refs={}),P===null?delete N[S]:N[S]=P},u._stringRef=S,u)}if(typeof a!="string")throw Error(s(284));if(!f._owner)throw Error(s(290,a))}return a}function Fu(a,u){throw a=Object.prototype.toString.call(u),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function mv(a){return(0,a._init)(a._payload)}function gv(a){function u(J,j){if(a){var Y=J.deletions;Y===null?(J.deletions=[j],J.flags|=16):Y.push(j)}}function f(J,j){if(!a)return null;for(;j!==null;)u(J,j),j=j.sibling;return null}function g(J,j){for(J=new Map;j!==null;)j.key!==null?J.set(j.key,j):J.set(j.index,j),j=j.sibling;return J}function _(J,j){return(J=Gi(J,j)).index=0,J.sibling=null,J}function S(J,j,Y){return J.index=Y,a?(Y=J.alternate)!==null?(Y=Y.index)<j?(J.flags|=2,j):Y:(J.flags|=2,j):(J.flags|=1048576,j)}function P(J){return a&&J.alternate===null&&(J.flags|=2),J}function N(J,j,Y,re){return j===null||j.tag!==6?((j=fp(Y,J.mode,re)).return=J,j):((j=_(j,Y)).return=J,j)}function H(J,j,Y,re){var Ee=Y.type;return Ee===h?Z(J,j,Y.props.children,re,Y.key):j!==null&&(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===b&&mv(Ee)===j.type)?((re=_(j,Y.props)).ref=Ba(J,j,Y),re.return=J,re):((re=uc(Y.type,Y.key,Y.props,null,J.mode,re)).ref=Ba(J,j,Y),re.return=J,re)}function Q(J,j,Y,re){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?((j=pp(Y,J.mode,re)).return=J,j):((j=_(j,Y.children||[])).return=J,j)}function Z(J,j,Y,re,Ee){return j===null||j.tag!==7?((j=Ms(Y,J.mode,re,Ee)).return=J,j):((j=_(j,Y)).return=J,j)}function le(J,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number")return(j=fp(""+j,J.mode,Y)).return=J,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case l:return(Y=uc(j.type,j.key,j.props,null,J.mode,Y)).ref=Ba(J,null,j),Y.return=J,Y;case c:return(j=pp(j,J.mode,Y)).return=J,j;case b:return le(J,(0,j._init)(j._payload),Y)}if(W(j)||A(j))return(j=Ms(j,J.mode,Y,null)).return=J,j;Fu(J,j)}return null}function q(J,j,Y,re){var Ee=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ee!==null?null:N(J,j,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case l:return Y.key===Ee?H(J,j,Y,re):null;case c:return Y.key===Ee?Q(J,j,Y,re):null;case b:return q(J,j,(Ee=Y._init)(Y._payload),re)}if(W(Y)||A(Y))return Ee!==null?null:Z(J,j,Y,re,null);Fu(J,Y)}return null}function se(J,j,Y,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number")return N(j,J=J.get(Y)||null,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case l:return H(j,J=J.get(re.key===null?Y:re.key)||null,re,Ee);case c:return Q(j,J=J.get(re.key===null?Y:re.key)||null,re,Ee);case b:return se(J,j,Y,(0,re._init)(re._payload),Ee)}if(W(re)||A(re))return Z(j,J=J.get(Y)||null,re,Ee,null);Fu(j,re)}return null}function ve(J,j,Y,re){for(var Ee=null,Ke=null,_e=j,Xe=j=0,Wt=null;_e!==null&&Xe<Y.length;Xe++){_e.index>Xe?(Wt=_e,_e=null):Wt=_e.sibling;var qe=q(J,_e,Y[Xe],re);if(qe===null){_e===null&&(_e=Wt);break}a&&_e&&qe.alternate===null&&u(J,_e),j=S(qe,j,Xe),Ke===null?Ee=qe:Ke.sibling=qe,Ke=qe,_e=Wt}if(Xe===Y.length)return f(J,_e),at&&Cs(J,Xe),Ee;if(_e===null){for(;Xe<Y.length;Xe++)(_e=le(J,Y[Xe],re))!==null&&(j=S(_e,j,Xe),Ke===null?Ee=_e:Ke.sibling=_e,Ke=_e);return at&&Cs(J,Xe),Ee}for(_e=g(J,_e);Xe<Y.length;Xe++)(Wt=se(_e,J,Xe,Y[Xe],re))!==null&&(a&&Wt.alternate!==null&&_e.delete(Wt.key===null?Xe:Wt.key),j=S(Wt,j,Xe),Ke===null?Ee=Wt:Ke.sibling=Wt,Ke=Wt);return a&&_e.forEach(function(Hi){return u(J,Hi)}),at&&Cs(J,Xe),Ee}function De(J,j,Y,re){var Ee=A(Y);if(typeof Ee!="function")throw Error(s(150));if((Y=Ee.call(Y))==null)throw Error(s(151));for(var Ke=Ee=null,_e=j,Xe=j=0,Wt=null,qe=Y.next();_e!==null&&!qe.done;Xe++,qe=Y.next()){_e.index>Xe?(Wt=_e,_e=null):Wt=_e.sibling;var Hi=q(J,_e,qe.value,re);if(Hi===null){_e===null&&(_e=Wt);break}a&&_e&&Hi.alternate===null&&u(J,_e),j=S(Hi,j,Xe),Ke===null?Ee=Hi:Ke.sibling=Hi,Ke=Hi,_e=Wt}if(qe.done)return f(J,_e),at&&Cs(J,Xe),Ee;if(_e===null){for(;!qe.done;Xe++,qe=Y.next())(qe=le(J,qe.value,re))!==null&&(j=S(qe,j,Xe),Ke===null?Ee=qe:Ke.sibling=qe,Ke=qe);return at&&Cs(J,Xe),Ee}for(_e=g(J,_e);!qe.done;Xe++,qe=Y.next())(qe=se(_e,J,Xe,qe.value,re))!==null&&(a&&qe.alternate!==null&&_e.delete(qe.key===null?Xe:qe.key),j=S(qe,j,Xe),Ke===null?Ee=qe:Ke.sibling=qe,Ke=qe);return a&&_e.forEach(function(HC){return u(J,HC)}),at&&Cs(J,Xe),Ee}return function J(j,Y,re,Ee){if(typeof re=="object"&&re!==null&&re.type===h&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case l:e:{for(var Ke=re.key,_e=Y;_e!==null;){if(_e.key===Ke){if((Ke=re.type)===h){if(_e.tag===7){f(j,_e.sibling),(Y=_(_e,re.props.children)).return=j,j=Y;break e}}else if(_e.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===b&&mv(Ke)===_e.type){f(j,_e.sibling),(Y=_(_e,re.props)).ref=Ba(j,_e,re),Y.return=j,j=Y;break e}f(j,_e);break}u(j,_e),_e=_e.sibling}re.type===h?((Y=Ms(re.props.children,j.mode,Ee,re.key)).return=j,j=Y):((Ee=uc(re.type,re.key,re.props,null,j.mode,Ee)).ref=Ba(j,Y,re),Ee.return=j,j=Ee)}return P(j);case c:e:{for(_e=re.key;Y!==null;){if(Y.key===_e){if(Y.tag===4&&Y.stateNode.containerInfo===re.containerInfo&&Y.stateNode.implementation===re.implementation){f(j,Y.sibling),(Y=_(Y,re.children||[])).return=j,j=Y;break e}f(j,Y);break}u(j,Y),Y=Y.sibling}(Y=pp(re,j.mode,Ee)).return=j,j=Y}return P(j);case b:return J(j,Y,(_e=re._init)(re._payload),Ee)}if(W(re))return ve(j,Y,re,Ee);if(A(re))return De(j,Y,re,Ee);Fu(j,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Y!==null&&Y.tag===6?(f(j,Y.sibling),(Y=_(Y,re)).return=j,j=Y):(f(j,Y),(Y=fp(re,j.mode,Ee)).return=j,j=Y),P(j)):f(j,Y)}}var xo=gv(!0),yv=gv(!1),Ua={},Wr=Di(Ua),za=Di(Ua),bo=Di(Ua);function Fn(a){if(a===Ua)throw Error(s(174));return a}function Af(a,u){et(bo,u),et(za,a),et(Wr,Ua),a=X(u),ot(Wr),et(Wr,a)}function wo(){ot(Wr),ot(za),ot(bo)}function vv(a){var u=Fn(bo.current),f=Fn(Wr.current);f!==(u=k(f,a.type,u))&&(et(za,a),et(Wr,u))}function If(a){za.current===a&&(ot(Wr),ot(za))}var vt=Di(0);function Bu(a){for(var u=a;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&((f=f.dehydrated)===null||Vy(f)||tf(f)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Rf=[];function kf(){for(var a=0;a<Rf.length;a++){var u=Rf[a];K?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Rf.length=0}var Uu=o.ReactCurrentDispatcher,Mf=o.ReactCurrentBatchConfig,As=0,dt=null,Lt=null,Ft=null,zu=!1,ja=!1,$a=0,bC=0;function er(){throw Error(s(321))}function Of(a,u){if(u===null)return!1;for(var f=0;f<u.length&&f<a.length;f++)if(!on(a[f],u[f]))return!1;return!0}function Df(a,u,f,g,_,S){if(As=S,dt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Uu.current=a===null||a.memoizedState===null?TC:CC,a=f(g,_),ja){S=0;do{if(ja=!1,$a=0,25<=S)throw Error(s(301));S+=1,Ft=Lt=null,u.updateQueue=null,Uu.current=PC,a=f(g,_)}while(ja)}if(Uu.current=Gu,u=Lt!==null&&Lt.next!==null,As=0,Ft=Lt=dt=null,zu=!1,u)throw Error(s(300));return a}function Nf(){var a=$a!==0;return $a=0,a}function Bn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?dt.memoizedState=Ft=a:Ft=Ft.next=a,Ft}function Vr(){if(Lt===null){var a=dt.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var u=Ft===null?dt.memoizedState:Ft.next;if(u!==null)Ft=u,Lt=a;else{if(a===null)throw Error(s(310));a={memoizedState:(Lt=a).memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ft===null?dt.memoizedState=Ft=a:Ft=Ft.next=a}return Ft}function Ga(a,u){return typeof u=="function"?u(a):u}function Lf(a){var u=Vr(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=a;var g=Lt,_=g.baseQueue,S=f.pending;if(S!==null){if(_!==null){var P=_.next;_.next=S.next,S.next=P}g.baseQueue=_=S,f.pending=null}if(_!==null){S=_.next,g=g.baseState;var N=P=null,H=null,Q=S;do{var Z=Q.lane;if((As&Z)===Z)H!==null&&(H=H.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),g=Q.hasEagerState?Q.eagerState:a(g,Q.action);else{var le={lane:Z,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};H===null?(N=H=le,P=g):H=H.next=le,dt.lanes|=Z,Is|=Z}Q=Q.next}while(Q!==null&&Q!==S);H===null?P=g:H.next=N,on(g,u.memoizedState)||(yr=!0),u.memoizedState=g,u.baseState=P,u.baseQueue=H,f.lastRenderedState=g}if((a=f.interleaved)!==null){_=a;do S=_.lane,dt.lanes|=S,Is|=S,_=_.next;while(_!==a)}else _===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function Ff(a){var u=Vr(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=a;var g=f.dispatch,_=f.pending,S=u.memoizedState;if(_!==null){f.pending=null;var P=_=_.next;do S=a(S,P.action),P=P.next;while(P!==_);on(S,u.memoizedState)||(yr=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),f.lastRenderedState=S}return[S,g]}function _v(){}function xv(a,u){var f=dt,g=Vr(),_=u(),S=!on(g.memoizedState,_);if(S&&(g.memoizedState=_,yr=!0),g=g.queue,Bf(Ev.bind(null,f,g,a),[a]),g.getSnapshot!==u||S||Ft!==null&&1&Ft.memoizedState.tag){if(f.flags|=2048,Ha(9,wv.bind(null,f,g,_,u),void 0,null),Bt===null)throw Error(s(349));30&As||bv(f,u,_)}return _}function bv(a,u,f){a.flags|=16384,a={getSnapshot:u,value:f},(u=dt.updateQueue)===null?(u={lastEffect:null,stores:null},dt.updateQueue=u,u.stores=[a]):(f=u.stores)===null?u.stores=[a]:f.push(a)}function wv(a,u,f,g){u.value=f,u.getSnapshot=g,Sv(u)&&Tv(a)}function Ev(a,u,f){return f(function(){Sv(u)&&Tv(a)})}function Sv(a){var u=a.getSnapshot;a=a.value;try{var f=u();return!on(a,f)}catch{return!0}}function Tv(a){var u=Ln(a,1);u!==null&&Xr(u,a,1,-1)}function Cv(a){var u=Bn();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:a},u.queue=a,a=a.dispatch=SC.bind(null,dt,a),[u.memoizedState,a]}function Ha(a,u,f,g){return a={tag:a,create:u,destroy:f,deps:g,next:null},(u=dt.updateQueue)===null?(u={lastEffect:null,stores:null},dt.updateQueue=u,u.lastEffect=a.next=a):(f=u.lastEffect)===null?u.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,u.lastEffect=a),a}function Pv(){return Vr().memoizedState}function ju(a,u,f,g){var _=Bn();dt.flags|=a,_.memoizedState=Ha(1|u,f,void 0,g===void 0?null:g)}function $u(a,u,f,g){var _=Vr();g=g===void 0?null:g;var S=void 0;if(Lt!==null){var P=Lt.memoizedState;if(S=P.destroy,g!==null&&Of(g,P.deps))return void(_.memoizedState=Ha(u,f,S,g))}dt.flags|=a,_.memoizedState=Ha(1|u,f,S,g)}function Av(a,u){return ju(8390656,8,a,u)}function Bf(a,u){return $u(2048,8,a,u)}function Iv(a,u){return $u(4,2,a,u)}function Rv(a,u){return $u(4,4,a,u)}function kv(a,u){return typeof u=="function"?(a=a(),u(a),function(){u(null)}):u!=null?(a=a(),u.current=a,function(){u.current=null}):void 0}function Mv(a,u,f){return f=f!=null?f.concat([a]):null,$u(4,4,kv.bind(null,u,a),f)}function Uf(){}function Ov(a,u){var f=Vr();u=u===void 0?null:u;var g=f.memoizedState;return g!==null&&u!==null&&Of(u,g[1])?g[0]:(f.memoizedState=[a,u],a)}function Dv(a,u){var f=Vr();u=u===void 0?null:u;var g=f.memoizedState;return g!==null&&u!==null&&Of(u,g[1])?g[0]:(a=a(),f.memoizedState=[a,u],a)}function Nv(a,u,f){return 21&As?(on(f,u)||(f=Ky(),dt.lanes|=f,Is|=f,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,yr=!0),a.memoizedState=f)}function wC(a,u){var f=Ve;Ve=f!==0&&4>f?f:4,a(!0);var g=Mf.transition;Mf.transition={};try{a(!1),u()}finally{Ve=f,Mf.transition=g}}function Lv(){return Vr().memoizedState}function EC(a,u,f){var g=ji(a);f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Fv(a)?Bv(u,f):(f=av(a,u,f,g))!==null&&(Xr(f,a,g,rr()),Uv(f,u,g))}function SC(a,u,f){var g=ji(a),_={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Fv(a))Bv(u,_);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer)!==null)try{var P=u.lastRenderedState,N=S(P,f);if(_.hasEagerState=!0,_.eagerState=N,on(N,P)){var H=u.interleaved;return H===null?(_.next=_,Sf(u)):(_.next=H.next,H.next=_),void(u.interleaved=_)}}catch{}(f=av(a,u,_,g))!==null&&(Xr(f,a,g,_=rr()),Uv(f,u,g))}}function Fv(a){var u=a.alternate;return a===dt||u!==null&&u===dt}function Bv(a,u){ja=zu=!0;var f=a.pending;f===null?u.next=u:(u.next=f.next,f.next=u),a.pending=u}function Uv(a,u,f){if(4194240&f){var g=u.lanes;f|=g&=a.pendingLanes,u.lanes=f,hf(a,f)}}var Gu={readContext:Hr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},TC={readContext:Hr,useCallback:function(a,u){return Bn().memoizedState=[a,u===void 0?null:u],a},useContext:Hr,useEffect:Av,useImperativeHandle:function(a,u,f){return f=f!=null?f.concat([a]):null,ju(4194308,4,kv.bind(null,u,a),f)},useLayoutEffect:function(a,u){return ju(4194308,4,a,u)},useInsertionEffect:function(a,u){return ju(4,2,a,u)},useMemo:function(a,u){var f=Bn();return u=u===void 0?null:u,a=a(),f.memoizedState=[a,u],a},useReducer:function(a,u,f){var g=Bn();return u=f!==void 0?f(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=EC.bind(null,dt,a),[g.memoizedState,a]},useRef:function(a){return a={current:a},Bn().memoizedState=a},useState:Cv,useDebugValue:Uf,useDeferredValue:function(a){return Bn().memoizedState=a},useTransition:function(){var a=Cv(!1),u=a[0];return a=wC.bind(null,a[1]),Bn().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,f){var g=dt,_=Bn();if(at){if(f===void 0)throw Error(s(407));f=f()}else{if(f=u(),Bt===null)throw Error(s(349));30&As||bv(g,u,f)}_.memoizedState=f;var S={value:f,getSnapshot:u};return _.queue=S,Av(Ev.bind(null,g,S,a),[a]),g.flags|=2048,Ha(9,wv.bind(null,g,S,f,u),void 0,null),f},useId:function(){var a=Bn(),u=Bt.identifierPrefix;if(at){var f=ai;u=":"+u+"R"+(f=(Nn&~(1<<32-sn(Nn)-1)).toString(32)+f),0<(f=$a++)&&(u+="H"+f.toString(32)),u+=":"}else u=":"+u+"r"+(f=bC++).toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},CC={readContext:Hr,useCallback:Ov,useContext:Hr,useEffect:Bf,useImperativeHandle:Mv,useInsertionEffect:Iv,useLayoutEffect:Rv,useMemo:Dv,useReducer:Lf,useRef:Pv,useState:function(){return Lf(Ga)},useDebugValue:Uf,useDeferredValue:function(a){return Nv(Vr(),Lt.memoizedState,a)},useTransition:function(){return[Lf(Ga)[0],Vr().memoizedState]},useMutableSource:_v,useSyncExternalStore:xv,useId:Lv,unstable_isNewReconciler:!1},PC={readContext:Hr,useCallback:Ov,useContext:Hr,useEffect:Bf,useImperativeHandle:Mv,useInsertionEffect:Iv,useLayoutEffect:Rv,useMemo:Dv,useReducer:Ff,useRef:Pv,useState:function(){return Ff(Ga)},useDebugValue:Uf,useDeferredValue:function(a){var u=Vr();return Lt===null?u.memoizedState=a:Nv(u,Lt.memoizedState,a)},useTransition:function(){return[Ff(Ga)[0],Vr().memoizedState]},useMutableSource:_v,useSyncExternalStore:xv,useId:Lv,unstable_isNewReconciler:!1};function Eo(a,u){try{var f="",g=u;do f+=xC(g),g=g.return;while(g);var _=f}catch(S){_=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:u,stack:_,digest:null}}function zf(a,u,f){return{value:a,source:null,stack:f??null,digest:u??null}}function jf(a,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var AC=typeof WeakMap=="function"?WeakMap:Map;function zv(a,u,f){(f=li(-1,f)).tag=3,f.payload={element:null};var g=u.value;return f.callback=function(){nc||(nc=!0,op=g),jf(0,u)},f}function jv(a,u,f){(f=li(-1,f)).tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var _=u.value;f.payload=function(){return g(_)},f.callback=function(){jf(0,u)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){jf(0,u),typeof g!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var P=u.stack;this.componentDidCatch(u.value,{componentStack:P!==null?P:""})}),f}function $v(a,u,f){var g=a.pingCache;if(g===null){g=a.pingCache=new AC;var _=new Set;g.set(u,_)}else(_=g.get(u))===void 0&&(_=new Set,g.set(u,_));_.has(f)||(_.add(f),a=FC.bind(null,a,u,f),u.then(a,a))}function Gv(a){do{var u;if((u=a.tag===13)&&(u=(u=a.memoizedState)===null||u.dehydrated!==null),u)return a;a=a.return}while(a!==null);return null}function Hv(a,u,f,g,_){return 1&a.mode?(a.flags|=65536,a.lanes=_,a):(a===u?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:((u=li(-1,1)).tag=2,Fi(f,u,1))),f.lanes|=1),a)}var IC=o.ReactCurrentOwner,yr=!1;function vr(a,u,f,g){u.child=a===null?yv(u,null,f,g):xo(u,a.child,f,g)}function Wv(a,u,f,g,_){f=f.render;var S=u.ref;return _o(u,_),g=Df(a,u,f,g,S,_),f=Nf(),a===null||yr?(at&&f&&mf(u),u.flags|=1,vr(a,u,g,_),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,ui(a,u,_))}function Vv(a,u,f,g,_){if(a===null){var S=f.type;return typeof S!="function"||dp(S)||S.defaultProps!==void 0||f.compare!==null||f.defaultProps!==void 0?((a=uc(f.type,null,g,u,u.mode,_)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=S,Xv(a,u,S,g,_))}if(S=a.child,(a.lanes&_)==0){var P=S.memoizedProps;if((f=(f=f.compare)!==null?f:ku)(P,g)&&a.ref===u.ref)return ui(a,u,_)}return u.flags|=1,(a=Gi(S,g)).ref=u.ref,a.return=u,u.child=a}function Xv(a,u,f,g,_){if(a!==null){var S=a.memoizedProps;if(ku(S,g)&&a.ref===u.ref){if(yr=!1,u.pendingProps=g=S,(a.lanes&_)==0)return u.lanes=a.lanes,ui(a,u,_);131072&a.flags&&(yr=!0)}}return $f(a,u,f,g,_)}function Yv(a,u,f){var g=u.pendingProps,_=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(To,Rr),Rr|=f;else{if(!(1073741824&f))return a=S!==null?S.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,et(To,Rr),Rr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:f,et(To,Rr),Rr|=g}else S!==null?(g=S.baseLanes|f,u.memoizedState=null):g=f,et(To,Rr),Rr|=g;return vr(a,u,_,f),u.child}function Qv(a,u){var f=u.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function $f(a,u,f,g,_){var S=Ar(f)?Ss:Jt.current;return S=po(u,S),_o(u,_),f=Df(a,u,f,g,S,_),g=Nf(),a===null||yr?(at&&g&&mf(u),u.flags|=1,vr(a,u,f,_),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~_,ui(a,u,_))}function Kv(a,u,f,g,_){if(Ar(f)){var S=!0;Su(u)}else S=!1;if(_o(u,_),u.stateNode===null)Xu(a,u),fv(u,f,g),Pf(u,f,g,_),g=!0;else if(a===null){var P=u.stateNode,N=u.memoizedProps;P.props=N;var H=P.context,Q=f.contextType;typeof Q=="object"&&Q!==null?Q=Hr(Q):Q=po(u,Q=Ar(f)?Ss:Jt.current);var Z=f.getDerivedStateFromProps,le=typeof Z=="function"||typeof P.getSnapshotBeforeUpdate=="function";le||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(N!==g||H!==Q)&&pv(u,P,g,Q),Li=!1;var q=u.memoizedState;P.state=q,Nu(u,g,P,_),H=u.memoizedState,N!==g||q!==H||gr.current||Li?(typeof Z=="function"&&(Cf(u,f,Z,g),H=u.memoizedState),(N=Li||dv(u,f,N,g,q,H,Q))?(le||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(u.flags|=4194308)):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=H),P.props=g,P.state=H,P.context=Q,g=N):(typeof P.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{P=u.stateNode,lv(a,u),N=u.memoizedProps,Q=u.type===u.elementType?N:ln(u.type,N),P.props=Q,le=u.pendingProps,q=P.context,typeof(H=f.contextType)=="object"&&H!==null?H=Hr(H):H=po(u,H=Ar(f)?Ss:Jt.current);var se=f.getDerivedStateFromProps;(Z=typeof se=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(N!==le||q!==H)&&pv(u,P,g,H),Li=!1,q=u.memoizedState,P.state=q,Nu(u,g,P,_);var ve=u.memoizedState;N!==le||q!==ve||gr.current||Li?(typeof se=="function"&&(Cf(u,f,se,g),ve=u.memoizedState),(Q=Li||dv(u,f,Q,g,q,ve,H)||!1)?(Z||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,ve,H),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,ve,H)),typeof P.componentDidUpdate=="function"&&(u.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof P.componentDidUpdate!="function"||N===a.memoizedProps&&q===a.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&q===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ve),P.props=g,P.state=ve,P.context=H,g=Q):(typeof P.componentDidUpdate!="function"||N===a.memoizedProps&&q===a.memoizedState||(u.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&q===a.memoizedState||(u.flags|=1024),g=!1)}return Gf(a,u,f,g,S,_)}function Gf(a,u,f,g,_,S){Qv(a,u);var P=(128&u.flags)!=0;if(!g&&!P)return _&&Qy(u,f,!1),ui(a,u,S);g=u.stateNode,IC.current=u;var N=P&&typeof f.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&P?(u.child=xo(u,a.child,null,S),u.child=xo(u,null,N,S)):vr(a,u,N,S),u.memoizedState=g.state,_&&Qy(u,f,!0),u.child}function qv(a){var u=a.stateNode;u.pendingContext?Xy(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Xy(0,u.context,!1),Af(a,u.containerInfo)}function Zv(a,u,f,g,_){return yo(),_f(_),u.flags|=256,vr(a,u,f,g),u.child}var Wa,Va,Hu,Wu,Hf={dehydrated:null,treeContext:null,retryLane:0};function Wf(a){return{baseLanes:a,cachePool:null,transitions:null}}function Jv(a,u,f){var g,_=u.pendingProps,S=vt.current,P=!1,N=(128&u.flags)!=0;if((g=N)||(g=(a===null||a.memoizedState!==null)&&(2&S)!=0),g?(P=!0,u.flags&=-129):a!==null&&a.memoizedState===null||(S|=1),et(vt,1&S),a===null)return vf(u),(a=u.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&u.mode?tf(a)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(N=_.children,a=_.fallback,P?(_=u.mode,P=u.child,N={mode:"hidden",children:N},!(1&_)&&P!==null?(P.childLanes=0,P.pendingProps=N):P=cc(N,_,0,null),a=Ms(a,_,f,null),P.return=u,a.return=u,P.sibling=a,u.child=P,u.child.memoizedState=Wf(f),u.memoizedState=Hf,a):Vf(u,N));if((S=a.memoizedState)!==null&&(g=S.dehydrated)!==null)return function(Q,Z,le,q,se,ve,De){if(le)return 256&Z.flags?(Z.flags&=-257,Vu(Q,Z,De,q=zf(Error(s(422))))):Z.memoizedState!==null?(Z.child=Q.child,Z.flags|=128,null):(ve=q.fallback,se=Z.mode,q=cc({mode:"visible",children:q.children},se,0,null),(ve=Ms(ve,se,De,null)).flags|=2,q.return=Z,ve.return=Z,q.sibling=ve,Z.child=q,1&Z.mode&&xo(Z,Q.child,null,De),Z.child.memoizedState=Wf(De),Z.memoizedState=Hf,ve);if(!(1&Z.mode))return Vu(Q,Z,De,null);if(tf(se))return q=Q2(se).digest,ve=Error(s(419)),q=zf(ve,q,void 0),Vu(Q,Z,De,q);if(le=(De&Q.childLanes)!=0,yr||le){if((q=Bt)!==null){switch(De&-De){case 4:se=2;break;case 16:se=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:se=32;break;case 536870912:se=268435456;break;default:se=0}(se=se&(q.suspendedLanes|De)?0:se)!==0&&se!==ve.retryLane&&(ve.retryLane=se,Ln(Q,se),Xr(q,Q,se,-1))}return hp(),Vu(Q,Z,De,q=zf(Error(s(421))))}return Vy(se)?(Z.flags|=128,Z.child=Q.child,Z=BC.bind(null,Q),K2(se,Z),null):(Q=ve.treeContext,de&&(Gr=J2(se),Ir=Z,at=!0,an=null,Fa=!1,Q!==null&&(jr[$r++]=Nn,jr[$r++]=ai,jr[$r++]=Ts,Nn=Q.id,ai=Q.overflow,Ts=Z)),Z=Vf(Z,q.children),Z.flags|=4096,Z)}(a,u,N,_,g,S,f);if(P){P=_.fallback,N=u.mode,g=(S=a.child).sibling;var H={mode:"hidden",children:_.children};return!(1&N)&&u.child!==S?((_=u.child).childLanes=0,_.pendingProps=H,u.deletions=null):(_=Gi(S,H)).subtreeFlags=14680064&S.subtreeFlags,g!==null?P=Gi(g,P):(P=Ms(P,N,f,null)).flags|=2,P.return=u,_.return=u,_.sibling=P,u.child=_,_=P,P=u.child,N=(N=a.child.memoizedState)===null?Wf(f):{baseLanes:N.baseLanes|f,cachePool:null,transitions:N.transitions},P.memoizedState=N,P.childLanes=a.childLanes&~f,u.memoizedState=Hf,_}return a=(P=a.child).sibling,_=Gi(P,{mode:"visible",children:_.children}),!(1&u.mode)&&(_.lanes=f),_.return=u,_.sibling=null,a!==null&&((f=u.deletions)===null?(u.deletions=[a],u.flags|=16):f.push(a)),u.child=_,u.memoizedState=null,_}function Vf(a,u){return(u=cc({mode:"visible",children:u},a.mode,0,null)).return=a,a.child=u}function Vu(a,u,f,g){return g!==null&&_f(g),xo(u,a.child,null,f),(a=Vf(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,a}function e1(a,u,f){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Ef(a.return,u,f)}function Xf(a,u,f,g,_){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:_}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=f,S.tailMode=_)}function t1(a,u,f){var g=u.pendingProps,_=g.revealOrder,S=g.tail;if(vr(a,u,g.children,f),(2&(g=vt.current))!=0)g=1&g|2,u.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&e1(a,f,u);else if(a.tag===19)e1(a,f,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(et(vt,g),(1&u.mode)==0)u.memoizedState=null;else switch(_){case"forwards":for(f=u.child,_=null;f!==null;)(a=f.alternate)!==null&&Bu(a)===null&&(_=f),f=f.sibling;(f=_)===null?(_=u.child,u.child=null):(_=f.sibling,f.sibling=null),Xf(u,!1,_,f,S);break;case"backwards":for(f=null,_=u.child,u.child=null;_!==null;){if((a=_.alternate)!==null&&Bu(a)===null){u.child=_;break}a=_.sibling,_.sibling=f,f=_,_=a}Xf(u,!0,f,null,S);break;case"together":Xf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Xu(a,u){!(1&u.mode)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ui(a,u,f){if(a!==null&&(u.dependencies=a.dependencies),Is|=u.lanes,(f&u.childLanes)==0)return null;if(a!==null&&u.child!==a.child)throw Error(s(153));if(u.child!==null){for(f=Gi(a=u.child,a.pendingProps),u.child=f,f.return=u;a.sibling!==null;)a=a.sibling,(f=f.sibling=Gi(a,a.pendingProps)).return=u;f.sibling=null}return u.child}function Un(a){a.flags|=4}function r1(a,u){if(a!==null&&a.child===u.child)return!0;if(16&u.flags)return!1;for(a=u.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(ee)Wa=function(a,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)ae(a,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Va=function(){},Hu=function(a,u,f,g,_){if((a=a.memoizedProps)!==g){var S=u.stateNode,P=Fn(Wr.current);f=ge(S,f,a,g,_,P),(u.updateQueue=f)&&Un(u)}},Wu=function(a,u,f,g){f!==g&&Un(u)};else if(ye){Wa=function(a,u,f,g){for(var _=u.child;_!==null;){if(_.tag===5){var S=_.stateNode;f&&g&&(S=Hy(S,_.type,_.memoizedProps,_)),ae(a,S)}else if(_.tag===6)S=_.stateNode,f&&g&&(S=Wy(S,_.memoizedProps,_)),ae(a,S);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(S=_.child)!==null&&(S.return=_),Wa(a,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};var n1=function(a,u,f,g){for(var _=u.child;_!==null;){if(_.tag===5){var S=_.stateNode;f&&g&&(S=Hy(S,_.type,_.memoizedProps,_)),Gy(a,S)}else if(_.tag===6)S=_.stateNode,f&&g&&(S=Wy(S,_.memoizedProps,_)),Gy(a,S);else if(_.tag!==4){if(_.tag===22&&_.memoizedState!==null)(S=_.child)!==null&&(S.return=_),n1(a,_,!0,!0);else if(_.child!==null){_.child.return=_,_=_.child;continue}}if(_===u)break;for(;_.sibling===null;){if(_.return===null||_.return===u)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Va=function(a,u){var f=u.stateNode;if(!r1(a,u)){a=f.containerInfo;var g=$y(a);n1(g,u,!1,!1),f.pendingChildren=g,Un(u),W2(a,g)}},Hu=function(a,u,f,g,_){var S=a.stateNode,P=a.memoizedProps;if((a=r1(a,u))&&P===g)u.stateNode=S;else{var N=u.stateNode,H=Fn(Wr.current),Q=null;P!==g&&(Q=ge(N,f,P,g,_,H)),a&&Q===null?u.stateNode=S:(S=H2(S,Q,f,P,g,u,a,N),Pe(S,f,g,_,H)&&Un(u),u.stateNode=S,a?Un(u):Wa(S,u,!1,!1))}},Wu=function(a,u,f,g){f!==g?(a=Fn(bo.current),f=Fn(Wr.current),u.stateNode=we(g,a,f,u),Un(u)):u.stateNode=a.stateNode}}else Va=function(){},Hu=function(){},Wu=function(){};function Xa(a,u){if(!at)switch(a.tailMode){case"hidden":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function cr(a){var u=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(u)for(var _=a.child;_!==null;)f|=_.lanes|_.childLanes,g|=14680064&_.subtreeFlags,g|=14680064&_.flags,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)f|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=g,a.childLanes=f,u}function RC(a,u,f){var g=u.pendingProps;switch(gf(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(u),null;case 1:case 17:return Ar(u.type)&&of(),cr(u),null;case 3:return f=u.stateNode,wo(),ot(gr),ot(Jt),kf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),a!==null&&a.child!==null||(Ru(u)?Un(u):a===null||a.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,an!==null&&(up(an),an=null))),Va(a,u),cr(u),null;case 5:If(u),f=Fn(bo.current);var _=u.type;if(a!==null&&u.stateNode!=null)Hu(a,u,_,g,f),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(s(166));return cr(u),null}if(a=Fn(Wr.current),Ru(u)){if(!de)throw Error(s(175));a=eC(u.stateNode,u.type,u.memoizedProps,f,a,u,!Fa),u.updateQueue=a,a!==null&&Un(u)}else{var S=te(_,g,f,a,u);Wa(S,u,!1,!1),u.stateNode=S,Pe(S,_,g,f,a)&&Un(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return cr(u),null;case 6:if(a&&u.stateNode!=null)Wu(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(s(166));if(a=Fn(bo.current),f=Fn(Wr.current),Ru(u)){if(!de)throw Error(s(176));if(a=u.stateNode,f=u.memoizedProps,(g=tC(a,f,u,!Fa))&&(_=Ir)!==null)switch(_.tag){case 3:uC(_.stateNode.containerInfo,a,f,(1&_.mode)!=0);break;case 5:cC(_.type,_.memoizedProps,_.stateNode,a,f,(1&_.mode)!=0)}g&&Un(u)}else u.stateNode=we(g,a,f,u)}return cr(u),null;case 13:if(ot(vt),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(at&&Gr!==null&&1&u.mode&&!(128&u.flags))sv(),yo(),u.flags|=98560,_=!1;else if(_=Ru(u),g!==null&&g.dehydrated!==null){if(a===null){if(!_)throw Error(s(318));if(!de)throw Error(s(344));if(!(_=(_=u.memoizedState)!==null?_.dehydrated:null))throw Error(s(317));rC(_,u)}else yo(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;cr(u),_=!1}else an!==null&&(up(an),an=null),_=!0;if(!_)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=f,u):((f=g!==null)!=(a!==null&&a.memoizedState!==null)&&f&&(u.child.flags|=8192,1&u.mode&&(a===null||1&vt.current?Rt===0&&(Rt=3):hp())),u.updateQueue!==null&&(u.flags|=4),cr(u),null);case 4:return wo(),Va(a,u),a===null&&Ae(u.stateNode.containerInfo),cr(u),null;case 10:return wf(u.type._context),cr(u),null;case 19:if(ot(vt),(_=u.memoizedState)===null)return cr(u),null;if(g=(128&u.flags)!=0,(S=_.rendering)===null)if(g)Xa(_,!1);else{if(Rt!==0||a!==null&&128&a.flags)for(a=u.child;a!==null;){if((S=Bu(a))!==null){for(u.flags|=128,Xa(_,!1),(a=S.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=f,f=u.child;f!==null;)_=a,(g=f).flags&=14680066,(S=g.alternate)===null?(g.childLanes=0,g.lanes=_,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=S.childLanes,g.lanes=S.lanes,g.child=S.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=S.memoizedProps,g.memoizedState=S.memoizedState,g.updateQueue=S.updateQueue,g.type=S.type,_=S.dependencies,g.dependencies=_===null?null:{lanes:_.lanes,firstContext:_.firstContext}),f=f.sibling;return et(vt,1&vt.current|2),u.child}a=a.sibling}_.tail!==null&&Nt()>sp&&(u.flags|=128,g=!0,Xa(_,!1),u.lanes=4194304)}else{if(!g)if((a=Bu(S))!==null){if(u.flags|=128,g=!0,(a=a.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),Xa(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!at)return cr(u),null}else 2*Nt()-_.renderingStartTime>sp&&f!==1073741824&&(u.flags|=128,g=!0,Xa(_,!1),u.lanes=4194304);_.isBackwards?(S.sibling=u.child,u.child=S):((a=_.last)!==null?a.sibling=S:u.child=S,_.last=S)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=Nt(),u.sibling=null,a=vt.current,et(vt,g?1&a|2:1&a),u):(cr(u),null);case 22:case 23:return cp(),f=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==f&&(u.flags|=8192),f&&1&u.mode?1073741824&Rr&&(cr(u),ee&&6&u.subtreeFlags&&(u.flags|=8192)):cr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function kC(a,u){switch(gf(u),u.tag){case 1:return Ar(u.type)&&of(),65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 3:return wo(),ot(gr),ot(Jt),kf(),65536&(a=u.flags)&&!(128&a)?(u.flags=-65537&a|128,u):null;case 5:return If(u),null;case 13:if(ot(vt),(a=u.memoizedState)!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(s(340));yo()}return 65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 19:return ot(vt),null;case 4:return wo(),null;case 10:return wf(u.type._context),null;case 22:case 23:return cp(),null;default:return null}}var Yu=!1,tr=!1,MC=typeof WeakSet=="function"?WeakSet:Set,pe=null;function So(a,u){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){lt(a,u,g)}else f.current=null}function i1(a,u,f){try{f()}catch(g){lt(a,u,g)}}var s1=!1;function Ya(a,u,f){var g=u.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var _=g=g.next;do{if((_.tag&a)===a){var S=_.destroy;_.destroy=void 0,S!==void 0&&i1(u,f,S)}_=_.next}while(_!==g)}}function Qu(a,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var f=u=u.next;do{if((f.tag&a)===a){var g=f.create;f.destroy=g()}f=f.next}while(f!==u)}}function Yf(a){var u=a.ref;if(u!==null){var f=a.stateNode;a.tag===5?a=$(f):a=f,typeof u=="function"?u(a):u.current=a}}function o1(a){var u=a.alternate;u!==null&&(a.alternate=null,o1(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode)!==null&&Oe(u),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function a1(a){return a.tag===5||a.tag===3||a.tag===4}function l1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||a1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function Qf(a,u,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?L2(f,a,u):k2(f,a);else if(g!==4&&(a=a.child)!==null)for(Qf(a,u,f),a=a.sibling;a!==null;)Qf(a,u,f),a=a.sibling}function Kf(a,u,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?N2(f,a,u):R2(f,a);else if(g!==4&&(a=a.child)!==null)for(Kf(a,u,f),a=a.sibling;a!==null;)Kf(a,u,f),a=a.sibling}var hr=null,zn=!1;function jn(a,u,f){for(f=f.child;f!==null;)qf(a,u,f),f=f.sibling}function qf(a,u,f){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Cu,f)}catch{}switch(f.tag){case 5:tr||So(f,u);case 6:if(ee){var g=hr,_=zn;hr=null,jn(a,u,f),zn=_,(hr=g)!==null&&(zn?B2(hr,f.stateNode):F2(hr,f.stateNode))}else jn(a,u,f);break;case 18:ee&&hr!==null&&(zn?aC(hr,f.stateNode):oC(hr,f.stateNode));break;case 4:ee?(g=hr,_=zn,hr=f.stateNode.containerInfo,zn=!0,jn(a,u,f),hr=g,zn=_):(ye&&(g=f.stateNode.containerInfo,_=$y(g),ef(g,_)),jn(a,u,f));break;case 0:case 11:case 14:case 15:if(!tr&&(g=f.updateQueue)!==null&&(g=g.lastEffect)!==null){_=g=g.next;do{var S=_,P=S.destroy;S=S.tag,P!==void 0&&(2&S||4&S)&&i1(f,u,P),_=_.next}while(_!==g)}jn(a,u,f);break;case 1:if(!tr&&(So(f,u),typeof(g=f.stateNode).componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(N){lt(f,u,N)}jn(a,u,f);break;case 21:jn(a,u,f);break;case 22:1&f.mode?(tr=(g=tr)||f.memoizedState!==null,jn(a,u,f),tr=g):jn(a,u,f);break;default:jn(a,u,f)}}function u1(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new MC),u.forEach(function(g){var _=UC.bind(null,a,g);f.has(g)||(f.add(g),g.then(_,_))})}}function un(a,u){var f=u.deletions;if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];try{var S=a,P=u;if(ee){var N=P;e:for(;N!==null;){switch(N.tag){case 5:hr=N.stateNode,zn=!1;break e;case 3:case 4:hr=N.stateNode.containerInfo,zn=!0;break e}N=N.return}if(hr===null)throw Error(s(160));qf(S,P,_),hr=null,zn=!1}else qf(S,P,_);var H=_.alternate;H!==null&&(H.return=null),_.return=null}catch(Q){lt(_,u,Q)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)c1(u,a),u=u.sibling}function c1(a,u){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(un(u,a),$n(a),4&g){try{Ya(3,a,a.return),Qu(3,a)}catch(q){lt(a,a.return,q)}try{Ya(5,a,a.return)}catch(q){lt(a,a.return,q)}}break;case 1:un(u,a),$n(a),512&g&&f!==null&&So(f,f.return);break;case 5:if(un(u,a),$n(a),512&g&&f!==null&&So(f,f.return),ee){if(32&a.flags){var _=a.stateNode;try{jy(_)}catch(q){lt(a,a.return,q)}}if(4&g&&(_=a.stateNode)!=null){var S=a.memoizedProps;if(f=f!==null?f.memoizedProps:S,g=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{D2(_,u,g,f,S,a)}catch(q){lt(a,a.return,q)}}}break;case 6:if(un(u,a),$n(a),4&g&&ee){if(a.stateNode===null)throw Error(s(162));_=a.stateNode,S=a.memoizedProps,f=f!==null?f.memoizedProps:S;try{M2(_,f,S)}catch(q){lt(a,a.return,q)}}break;case 3:if(un(u,a),$n(a),4&g){if(ee&&de&&f!==null&&f.memoizedState.isDehydrated)try{iC(u.containerInfo)}catch(q){lt(a,a.return,q)}if(ye){_=u.containerInfo,S=u.pendingChildren;try{ef(_,S)}catch(q){lt(a,a.return,q)}}}break;case 4:if(un(u,a),$n(a),4&g&&ye){_=(S=a.stateNode).containerInfo,S=S.pendingChildren;try{ef(_,S)}catch(q){lt(a,a.return,q)}}break;case 13:un(u,a),$n(a),8192&(_=a.child).flags&&(S=_.memoizedState!==null,_.stateNode.isHidden=S,!S||_.alternate!==null&&_.alternate.memoizedState!==null||(ip=Nt())),4&g&&u1(a);break;case 22:var P=f!==null&&f.memoizedState!==null;if(1&a.mode?(tr=(f=tr)||P,un(u,a),tr=f):un(u,a),$n(a),8192&g){if(f=a.memoizedState!==null,(a.stateNode.isHidden=f)&&!P&&(1&a.mode)!=0)for(pe=a,g=a.child;g!==null;){for(u=pe=g;pe!==null;){var N=(P=pe).child;switch(P.tag){case 0:case 11:case 14:case 15:Ya(4,P,P.return);break;case 1:So(P,P.return);var H=P.stateNode;if(typeof H.componentWillUnmount=="function"){var Q=P,Z=P.return;try{var le=Q;H.props=le.memoizedProps,H.state=le.memoizedState,H.componentWillUnmount()}catch(q){lt(Q,Z,q)}}break;case 5:So(P,P.return);break;case 22:if(P.memoizedState!==null){f1(u);continue}}N!==null?(N.return=P,pe=N):f1(u)}g=g.sibling}if(ee){e:if(g=null,ee)for(u=a;;){if(u.tag===5){if(g===null){g=u;try{_=u.stateNode,f?U2(_):j2(u.stateNode,u.memoizedProps)}catch(q){lt(a,a.return,q)}}}else if(u.tag===6){if(g===null)try{S=u.stateNode,f?z2(S):$2(S,u.memoizedProps)}catch(q){lt(a,a.return,q)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:un(u,a),$n(a),4&g&&u1(a);break;case 21:break;default:un(u,a),$n(a)}}function $n(a){var u=a.flags;if(2&u){try{if(ee){e:{for(var f=a.return;f!==null;){if(a1(f)){var g=f;break e}f=f.return}throw Error(s(160))}switch(g.tag){case 5:var _=g.stateNode;32&g.flags&&(jy(_),g.flags&=-33),Kf(a,l1(a),_);break;case 3:case 4:var S=g.stateNode.containerInfo;Qf(a,l1(a),S);break;default:throw Error(s(161))}}}catch(P){lt(a,a.return,P)}a.flags&=-3}4096&u&&(a.flags&=-4097)}function OC(a,u,f){pe=a,h1(a)}function h1(a,u,f){for(var g=(1&a.mode)!=0;pe!==null;){var _=pe,S=_.child;if(_.tag===22&&g){var P=_.memoizedState!==null||Yu;if(!P){var N=_.alternate,H=N!==null&&N.memoizedState!==null||tr;N=Yu;var Q=tr;if(Yu=P,(tr=H)&&!Q)for(pe=_;pe!==null;)H=(P=pe).child,P.tag===22&&P.memoizedState!==null?p1(_):H!==null?(H.return=P,pe=H):p1(_);for(;S!==null;)pe=S,h1(S),S=S.sibling;pe=_,Yu=N,tr=Q}d1(a)}else 8772&_.subtreeFlags&&S!==null?(S.return=_,pe=S):d1(a)}}function d1(a){for(;pe!==null;){var u=pe;if(8772&u.flags){var f=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:tr||Qu(5,u);break;case 1:var g=u.stateNode;if(4&u.flags&&!tr)if(f===null)g.componentDidMount();else{var _=u.elementType===u.type?f.memoizedProps:ln(u.type,f.memoizedProps);g.componentDidUpdate(_,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&cv(u,S,g);break;case 3:var P=u.updateQueue;if(P!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=$(u.child.stateNode);break;case 1:f=u.child.stateNode}cv(u,P,f)}break;case 5:var N=u.stateNode;f===null&&4&u.flags&&O2(N,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(de&&u.memoizedState===null){var H=u.alternate;if(H!==null){var Q=H.memoizedState;if(Q!==null){var Z=Q.dehydrated;Z!==null&&sC(Z)}}}break;default:throw Error(s(163))}tr||512&u.flags&&Yf(u)}catch(le){lt(u,u.return,le)}}if(u===a){pe=null;break}if((f=u.sibling)!==null){f.return=u.return,pe=f;break}pe=u.return}}function f1(a){for(;pe!==null;){var u=pe;if(u===a){pe=null;break}var f=u.sibling;if(f!==null){f.return=u.return,pe=f;break}pe=u.return}}function p1(a){for(;pe!==null;){var u=pe;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Qu(4,u)}catch(H){lt(u,f,H)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var _=u.return;try{g.componentDidMount()}catch(H){lt(u,_,H)}}var S=u.return;try{Yf(u)}catch(H){lt(u,S,H)}break;case 5:var P=u.return;try{Yf(u)}catch(H){lt(u,P,H)}}}catch(H){lt(u,u.return,H)}if(u===a){pe=null;break}var N=u.sibling;if(N!==null){N.return=u.return,pe=N;break}pe=u.return}}var Ku=0,qu=1,Zu=2,Ju=3,ec=4;if(typeof Symbol=="function"&&Symbol.for){var Qa=Symbol.for;Ku=Qa("selector.component"),qu=Qa("selector.has_pseudo_class"),Zu=Qa("selector.role"),Ju=Qa("selector.test_id"),ec=Qa("selector.text")}function Zf(a){var u=Se(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((a=fe(a))===null)throw Error(s(362));return a.stateNode.current}function Jf(a,u){switch(u.$$typeof){case Ku:if(a.type===u.value)return!0;break;case qu:e:{u=u.value,a=[a,0];for(var f=0;f<a.length;){var g=a[f++],_=a[f++],S=u[_];if(g.tag!==5||!Oi(g)){for(;S!=null&&Jf(g,S);)S=u[++_];if(_===u.length){u=!0;break e}for(g=g.child;g!==null;)a.push(g,_),g=g.sibling}}u=!1}return u;case Zu:if(a.tag===5&&P2(a.stateNode,u.value))return!0;break;case ec:if((a.tag===5||a.tag===6)&&(a=Pr(a))!==null&&0<=a.indexOf(u.value))return!0;break;case Ju:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function ep(a){switch(a.$$typeof){case Ku:return"<"+(D(a.value)||"Unknown")+">";case qu:return":has("+(ep(a)||"")+")";case Zu:return'[role="'+a.value+'"]';case ec:return'"'+a.value+'"';case Ju:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function m1(a,u){var f=[];a=[a,0];for(var g=0;g<a.length;){var _=a[g++],S=a[g++],P=u[S];if(_.tag!==5||!Oi(_)){for(;P!=null&&Jf(_,P);)P=u[++S];if(S===u.length)f.push(_);else for(_=_.child;_!==null;)a.push(_,S),_=_.sibling}}return f}function tp(a,u){if(!Be)throw Error(s(363));a=m1(a=Zf(a),u),u=[],a=Array.from(a);for(var f=0;f<a.length;){var g=a[f++];if(g.tag===5)Oi(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return u}var DC=Math.ceil,tc=o.ReactCurrentDispatcher,rp=o.ReactCurrentOwner,bt=o.ReactCurrentBatchConfig,$e=0,Bt=null,Pt=null,Ht=0,Rr=0,To=Di(0),Rt=0,Ka=null,Is=0,rc=0,np=0,qa=null,kr=null,ip=0,sp=1/0,Bi=null;function Co(){sp=Nt()+500}var g1,nc=!1,op=null,Ui=null,ic=!1,zi=null,sc=0,Za=0,ap=null,oc=-1,ac=0;function rr(){return 6&$e?Nt():oc!==-1?oc:oc=Nt()}function ji(a){return 1&a.mode?2&$e&&Ht!==0?Ht&-Ht:_C.transition!==null?(ac===0&&(ac=Ky()),ac):(a=Ve)!==0?a:Ie():1}function Xr(a,u,f,g){if(50<Za)throw Za=0,ap=null,Error(s(185));La(a,f,g),2&$e&&a===Bt||(a===Bt&&(!(2&$e)&&(rc|=f),Rt===4&&$i(a,Ht)),_r(a,g),f===1&&$e===0&&!(1&u.mode)&&(Co(),Pu&&Dn()))}function _r(a,u){var f=a.callbackNode;(function(_,S){for(var P=_.suspendedLanes,N=_.pingedLanes,H=_.expirationTimes,Q=_.pendingLanes;0<Q;){var Z=31-sn(Q),le=1<<Z,q=H[Z];q===-1?le&P&&!(le&N)||(H[Z]=pC(le,S)):q<=S&&(_.expiredLanes|=le),Q&=~le}})(a,u);var g=Tu(a,a===Bt?Ht:0);if(g===0)f!==null&&Zy(f),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(f!=null&&Zy(f),u===1)a.tag===0?function(_){Pu=!0,ev(_)}(v1.bind(null,a)):ev(v1.bind(null,a)),Le?Ye(function(){!(6&$e)&&Dn()}):df(ff,Dn),f=null;else{switch(qy(g)){case 1:f=ff;break;case 4:f=yC;break;case 16:default:f=Jy;break;case 536870912:f=vC}f=C1(f,y1.bind(null,a))}a.callbackPriority=u,a.callbackNode=f}}function y1(a,u){if(oc=-1,ac=0,(6&$e)!=0)throw Error(s(327));var f=a.callbackNode;if(ks()&&a.callbackNode!==f)return null;var g=Tu(a,a===Bt?Ht:0);if(g===0)return null;if(30&g||g&a.expiredLanes||u)u=lc(a,g);else{u=g;var _=$e;$e|=2;var S=b1();for(Bt===a&&Ht===u||(Bi=null,Co(),Rs(a,u));;)try{LC();break}catch(N){x1(a,N)}bf(),tc.current=S,$e=_,Pt!==null?u=0:(Bt=null,Ht=0,u=Rt)}if(u!==0){if(u===2&&(_=uf(a))!==0&&(g=_,u=lp(a,_)),u===1)throw f=Ka,Rs(a,0),$i(a,g),_r(a,Nt()),f;if(u===6)$i(a,g);else{if(_=a.current.alternate,(30&g)==0&&!function(N){for(var H=N;;){if(16384&H.flags){var Q=H.updateQueue;if(Q!==null&&(Q=Q.stores)!==null)for(var Z=0;Z<Q.length;Z++){var le=Q[Z],q=le.getSnapshot;le=le.value;try{if(!on(q(),le))return!1}catch{return!1}}}if(Q=H.child,16384&H.subtreeFlags&&Q!==null)Q.return=H,H=Q;else{if(H===N)break;for(;H.sibling===null;){if(H.return===null||H.return===N)return!0;H=H.return}H.sibling.return=H.return,H=H.sibling}}return!0}(_)&&((u=lc(a,g))===2&&(S=uf(a))!==0&&(g=S,u=lp(a,S)),u===1))throw f=Ka,Rs(a,0),$i(a,g),_r(a,Nt()),f;switch(a.finishedWork=_,a.finishedLanes=g,u){case 0:case 1:throw Error(s(345));case 2:case 5:Po(a,kr,Bi);break;case 3:if($i(a,g),(130023424&g)===g&&10<(u=ip+500-Nt())){if(Tu(a,0)!==0)break;if(((_=a.suspendedLanes)&g)!==g){rr(),a.pingedLanes|=a.suspendedLanes&_;break}a.timeoutHandle=Re(Po.bind(null,a,kr,Bi),u);break}Po(a,kr,Bi);break;case 4:if($i(a,g),(4194240&g)===g)break;for(u=a.eventTimes,_=-1;0<g;){var P=31-sn(g);S=1<<P,(P=u[P])>_&&(_=P),g&=~S}if(g=_,10<(g=(120>(g=Nt()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*DC(g/1960))-g)){a.timeoutHandle=Re(Po.bind(null,a,kr,Bi),g);break}Po(a,kr,Bi);break;default:throw Error(s(329))}}}return _r(a,Nt()),a.callbackNode===f?y1.bind(null,a):null}function lp(a,u){var f=qa;return a.current.memoizedState.isDehydrated&&(Rs(a,u).flags|=256),(a=lc(a,u))!==2&&(u=kr,kr=f,u!==null&&up(u)),a}function up(a){kr===null?kr=a:kr.push.apply(kr,a)}function $i(a,u){for(u&=~np,u&=~rc,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var f=31-sn(u),g=1<<f;a[f]=-1,u&=~g}}function v1(a){if(6&$e)throw Error(s(327));ks();var u=Tu(a,0);if(!(1&u))return _r(a,Nt()),null;var f=lc(a,u);if(a.tag!==0&&f===2){var g=uf(a);g!==0&&(u=g,f=lp(a,g))}if(f===1)throw f=Ka,Rs(a,0),$i(a,u),_r(a,Nt()),f;if(f===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Po(a,kr,Bi),_r(a,Nt()),null}function _1(a){zi!==null&&zi.tag===0&&!(6&$e)&&ks();var u=$e;$e|=1;var f=bt.transition,g=Ve;try{if(bt.transition=null,Ve=1,a)return a()}finally{Ve=g,bt.transition=f,!(6&($e=u))&&Dn()}}function cp(){Rr=To.current,ot(To)}function Rs(a,u){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==Qe&&(a.timeoutHandle=Qe,He(f)),Pt!==null)for(f=Pt.return;f!==null;){var g=f;switch(gf(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&of();break;case 3:wo(),ot(gr),ot(Jt),kf();break;case 5:If(g);break;case 4:wo();break;case 13:case 19:ot(vt);break;case 10:wf(g.type._context);break;case 22:case 23:cp()}f=f.return}if(Bt=a,Pt=a=Gi(a.current,null),Ht=Rr=u,Rt=0,Ka=null,np=rc=Is=0,kr=qa=null,Ps!==null){for(u=0;u<Ps.length;u++)if((g=(f=Ps[u]).interleaved)!==null){f.interleaved=null;var _=g.next,S=f.pending;if(S!==null){var P=S.next;S.next=_,g.next=P}f.pending=g}Ps=null}return a}function x1(a,u){for(;;){var f=Pt;try{if(bf(),Uu.current=Gu,zu){for(var g=dt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}zu=!1}if(As=0,Ft=Lt=dt=null,ja=!1,$a=0,rp.current=null,f===null||f.return===null){Rt=1,Ka=u,Pt=null;break}e:{var S=a,P=f.return,N=f,H=u;if(u=Ht,N.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Q=H,Z=N,le=Z.tag;if(!(1&Z.mode)&&(le===0||le===11||le===15)){var q=Z.alternate;q?(Z.updateQueue=q.updateQueue,Z.memoizedState=q.memoizedState,Z.lanes=q.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var se=Gv(P);if(se!==null){se.flags&=-257,Hv(se,P,N,0,u),1&se.mode&&$v(S,Q,u),H=Q;var ve=(u=se).updateQueue;if(ve===null){var De=new Set;De.add(H),u.updateQueue=De}else ve.add(H);break e}if(!(1&u)){$v(S,Q,u),hp();break e}H=Error(s(426))}else if(at&&1&N.mode){var J=Gv(P);if(J!==null){!(65536&J.flags)&&(J.flags|=256),Hv(J,P,N,0,u),_f(Eo(H,N));break e}}S=H=Eo(H,N),Rt!==4&&(Rt=2),qa===null?qa=[S]:qa.push(S),S=P;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u,uv(S,zv(0,H,u));break e;case 1:N=H;var j=S.type,Y=S.stateNode;if(!(128&S.flags)&&(typeof j.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Ui===null||!Ui.has(Y)))){S.flags|=65536,u&=-u,S.lanes|=u,uv(S,jv(S,N,u));break e}}S=S.return}while(S!==null)}E1(f)}catch(re){u=re,Pt===f&&f!==null&&(Pt=f=f.return);continue}break}}function b1(){var a=tc.current;return tc.current=Gu,a===null?Gu:a}function hp(){Rt!==0&&Rt!==3&&Rt!==2||(Rt=4),Bt===null||!(268435455&Is)&&!(268435455&rc)||$i(Bt,Ht)}function lc(a,u){var f=$e;$e|=2;var g=b1();for(Bt===a&&Ht===u||(Bi=null,Rs(a,u));;)try{NC();break}catch(_){x1(a,_)}if(bf(),$e=f,tc.current=g,Pt!==null)throw Error(s(261));return Bt=null,Ht=0,Rt}function NC(){for(;Pt!==null;)w1(Pt)}function LC(){for(;Pt!==null&&!mC();)w1(Pt)}function w1(a){var u=g1(a.alternate,a,Rr);a.memoizedProps=a.pendingProps,u===null?E1(a):Pt=u,rp.current=null}function E1(a){var u=a;do{var f=u.alternate;if(a=u.return,(32768&u.flags)==0){if((f=RC(f,u,Rr))!==null)return void(Pt=f)}else{if((f=kC(f,u))!==null)return f.flags&=32767,void(Pt=f);if(a===null)return Rt=6,void(Pt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((u=u.sibling)!==null)return void(Pt=u);Pt=u=a}while(u!==null);Rt===0&&(Rt=5)}function Po(a,u,f){var g=Ve,_=bt.transition;try{bt.transition=null,Ve=1,function(S,P,N,H){do ks();while(zi!==null);if(6&$e)throw Error(s(327));N=S.finishedWork;var Q=S.finishedLanes;if(N===null)return null;if(S.finishedWork=null,S.finishedLanes=0,N===S.current)throw Error(s(177));S.callbackNode=null,S.callbackPriority=0;var Z=N.lanes|N.childLanes;if(function(se,ve){var De=se.pendingLanes&~ve;se.pendingLanes=ve,se.suspendedLanes=0,se.pingedLanes=0,se.expiredLanes&=ve,se.mutableReadLanes&=ve,se.entangledLanes&=ve,ve=se.entanglements;var J=se.eventTimes;for(se=se.expirationTimes;0<De;){var j=31-sn(De),Y=1<<j;ve[j]=0,J[j]=-1,se[j]=-1,De&=~Y}}(S,Z),S===Bt&&(Pt=Bt=null,Ht=0),!(2064&N.subtreeFlags)&&!(2064&N.flags)||ic||(ic=!0,C1(Jy,function(){return ks(),null})),Z=(15990&N.flags)!=0,(15990&N.subtreeFlags)!=0||Z){Z=bt.transition,bt.transition=null;var le=Ve;Ve=1;var q=$e;$e|=4,rp.current=null,function(se,ve){for(G(se.containerInfo),pe=ve;pe!==null;)if(ve=(se=pe).child,(1028&se.subtreeFlags)!=0&&ve!==null)ve.return=se,pe=ve;else for(;pe!==null;){se=pe;try{var De=se.alternate;if(1024&se.flags)switch(se.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(De!==null){var J=De.memoizedProps,j=De.memoizedState,Y=se.stateNode,re=Y.getSnapshotBeforeUpdate(se.elementType===se.type?J:ln(se.type,J),j);Y.__reactInternalSnapshotBeforeUpdate=re}break;case 3:ee&&G2(se.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ee){lt(se,se.return,Ee)}if((ve=se.sibling)!==null){ve.return=se.return,pe=ve;break}pe=se.return}De=s1,s1=!1}(S,N),c1(N,S),F(S.containerInfo),S.current=N,OC(N),gC(),$e=q,Ve=le,bt.transition=Z}else S.current=N;if(ic&&(ic=!1,zi=S,sc=Q),Z=S.pendingLanes,Z===0&&(Ui=null),function(se){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Cu,se,void 0,(128&se.current.flags)==128)}catch{}}(N.stateNode),_r(S,Nt()),P!==null)for(H=S.onRecoverableError,N=0;N<P.length;N++)Q=P[N],H(Q.value,{componentStack:Q.stack,digest:Q.digest});if(nc)throw nc=!1,S=op,op=null,S;1&sc&&S.tag!==0&&ks(),Z=S.pendingLanes,1&Z?S===ap?Za++:(Za=0,ap=S):Za=0,Dn()}(a,u,f,g)}finally{bt.transition=_,Ve=g}return null}function ks(){if(zi!==null){var a=qy(sc),u=bt.transition,f=Ve;try{if(bt.transition=null,Ve=16>a?16:a,zi===null)var g=!1;else{if(a=zi,zi=null,sc=0,(6&$e)!=0)throw Error(s(331));var _=$e;for($e|=4,pe=a.current;pe!==null;){var S=pe,P=S.child;if(16&pe.flags){var N=S.deletions;if(N!==null){for(var H=0;H<N.length;H++){var Q=N[H];for(pe=Q;pe!==null;){var Z=pe;switch(Z.tag){case 0:case 11:case 15:Ya(8,Z,S)}var le=Z.child;if(le!==null)le.return=Z,pe=le;else for(;pe!==null;){var q=(Z=pe).sibling,se=Z.return;if(o1(Z),Z===Q){pe=null;break}if(q!==null){q.return=se,pe=q;break}pe=se}}}var ve=S.alternate;if(ve!==null){var De=ve.child;if(De!==null){ve.child=null;do{var J=De.sibling;De.sibling=null,De=J}while(De!==null)}}pe=S}}if(2064&S.subtreeFlags&&P!==null)P.return=S,pe=P;else e:for(;pe!==null;){if(2048&(S=pe).flags)switch(S.tag){case 0:case 11:case 15:Ya(9,S,S.return)}var j=S.sibling;if(j!==null){j.return=S.return,pe=j;break e}pe=S.return}}var Y=a.current;for(pe=Y;pe!==null;){var re=(P=pe).child;if(2064&P.subtreeFlags&&re!==null)re.return=P,pe=re;else e:for(P=Y;pe!==null;){if(2048&(N=pe).flags)try{switch(N.tag){case 0:case 11:case 15:Qu(9,N)}}catch(Ke){lt(N,N.return,Ke)}if(N===P){pe=null;break e}var Ee=N.sibling;if(Ee!==null){Ee.return=N.return,pe=Ee;break e}pe=N.return}}if($e=_,Dn(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Cu,a)}catch{}g=!0}return g}finally{Ve=f,bt.transition=u}}return!1}function S1(a,u,f){a=Fi(a,u=zv(0,u=Eo(f,u),1),1),u=rr(),a!==null&&(La(a,1,u),_r(a,u))}function lt(a,u,f){if(a.tag===3)S1(a,a,f);else for(;u!==null;){if(u.tag===3){S1(u,a,f);break}if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ui===null||!Ui.has(g))){u=Fi(u,a=jv(u,a=Eo(f,a),1),1),a=rr(),u!==null&&(La(u,1,a),_r(u,a));break}}u=u.return}}function FC(a,u,f){var g=a.pingCache;g!==null&&g.delete(u),u=rr(),a.pingedLanes|=a.suspendedLanes&f,Bt===a&&(Ht&f)===f&&(Rt===4||Rt===3&&(130023424&Ht)===Ht&&500>Nt()-ip?Rs(a,0):np|=f),_r(a,u)}function T1(a,u){u===0&&(1&a.mode?(u=lf,!(130023424&(lf<<=1))&&(lf=4194304)):u=1);var f=rr();(a=Ln(a,u))!==null&&(La(a,u,f),_r(a,f))}function BC(a){var u=a.memoizedState,f=0;u!==null&&(f=u.retryLane),T1(a,f)}function UC(a,u){var f=0;switch(a.tag){case 13:var g=a.stateNode,_=a.memoizedState;_!==null&&(f=_.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(u),T1(a,f)}function C1(a,u){return df(a,u)}function zC(a,u,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(a,u,f,g){return new zC(a,u,f,g)}function dp(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Gi(a,u){var f=a.alternate;return f===null?((f=Yr(a.tag,u,a.key,a.mode)).elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=u,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=14680064&a.flags,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,u=a.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function uc(a,u,f,g,_,S){var P=2;if(g=a,typeof a=="function")dp(a)&&(P=1);else if(typeof a=="string")P=5;else e:switch(a){case h:return Ms(f.children,_,S,u);case d:P=8,_|=8;break;case p:return(a=Yr(12,f,u,2|_)).elementType=p,a.lanes=S,a;case x:return(a=Yr(13,f,u,_)).elementType=x,a.lanes=S,a;case T:return(a=Yr(19,f,u,_)).elementType=T,a.lanes=S,a;case E:return cc(f,_,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:P=10;break e;case y:P=9;break e;case v:P=11;break e;case w:P=14;break e;case b:P=16,g=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(u=Yr(P,f,u,_)).elementType=a,u.type=g,u.lanes=S,u}function Ms(a,u,f,g){return(a=Yr(7,a,g,u)).lanes=f,a}function cc(a,u,f,g){return(a=Yr(22,a,g,u)).elementType=E,a.lanes=f,a.stateNode={isHidden:!1},a}function fp(a,u,f){return(a=Yr(6,a,null,u)).lanes=f,a}function pp(a,u,f){return(u=Yr(4,a.children!==null?a.children:[],a.key,u)).lanes=f,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function jC(a,u,f,g,_){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Qe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cf(0),this.expirationTimes=cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.identifierPrefix=g,this.onRecoverableError=_,de&&(this.mutableSourceEagerHydrationData=null)}function P1(a,u,f,g,_,S,P,N,H){return a=new jC(a,u,f,N,H),u===1?(u=1,S===!0&&(u|=8)):u=0,S=Yr(3,null,null,u),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(S),a}function A1(a){if(!a)return Ni;e:{if(O(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Ar(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(a.tag===1){var f=a.type;if(Ar(f))return Yy(a,f,u)}return u}function I1(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=z(u))===null?null:a.stateNode}function R1(a,u){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<u?f:u}}function hc(a,u){R1(a,u),(a=a.alternate)&&R1(a,u)}function $C(a){return(a=z(a))===null?null:a.stateNode}function GC(){return null}return g1=function(a,u,f){if(a!==null)if(a.memoizedProps!==u.pendingProps||gr.current)yr=!0;else{if(!(a.lanes&f)&&!(128&u.flags))return yr=!1,function(le,q,se){switch(q.tag){case 3:qv(q),yo();break;case 5:vv(q);break;case 1:Ar(q.type)&&Su(q);break;case 4:Af(q,q.stateNode.containerInfo);break;case 10:ov(0,q.type._context,q.memoizedProps.value);break;case 13:var ve=q.memoizedState;if(ve!==null)return ve.dehydrated!==null?(et(vt,1&vt.current),q.flags|=128,null):se&q.child.childLanes?Jv(le,q,se):(et(vt,1&vt.current),(le=ui(le,q,se))!==null?le.sibling:null);et(vt,1&vt.current);break;case 19:if(ve=(se&q.childLanes)!=0,(128&le.flags)!=0){if(ve)return t1(le,q,se);q.flags|=128}var De=q.memoizedState;if(De!==null&&(De.rendering=null,De.tail=null,De.lastEffect=null),et(vt,vt.current),ve)break;return null;case 22:case 23:return q.lanes=0,Yv(le,q,se)}return ui(le,q,se)}(a,u,f);yr=(131072&a.flags)!=0}else yr=!1,at&&1048576&u.flags&&tv(u,Iu,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Xu(a,u),a=u.pendingProps;var _=po(u,Jt.current);_o(u,f),_=Df(null,u,g,a,_,f);var S=Nf();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Ar(g)?(S=!0,Su(u)):S=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Tf(u),_.updater=Lu,u.stateNode=_,_._reactInternals=u,Pf(u,g,a,f),u=Gf(null,u,g,!0,S,f)):(u.tag=0,at&&S&&mf(u),vr(null,u,_,f),u=u.child),u;case 16:g=u.elementType;e:{switch(Xu(a,u),a=u.pendingProps,g=(_=g._init)(g._payload),u.type=g,_=u.tag=function(le){if(typeof le=="function")return dp(le)?1:0;if(le!=null){if((le=le.$$typeof)===v)return 11;if(le===w)return 14}return 2}(g),a=ln(g,a),_){case 0:u=$f(null,u,g,a,f);break e;case 1:u=Kv(null,u,g,a,f);break e;case 11:u=Wv(null,u,g,a,f);break e;case 14:u=Vv(null,u,g,ln(g.type,a),f);break e}throw Error(s(306,g,""))}return u;case 0:return g=u.type,_=u.pendingProps,$f(a,u,g,_=u.elementType===g?_:ln(g,_),f);case 1:return g=u.type,_=u.pendingProps,Kv(a,u,g,_=u.elementType===g?_:ln(g,_),f);case 3:e:{if(qv(u),a===null)throw Error(s(387));g=u.pendingProps,_=(S=u.memoizedState).element,lv(a,u),Nu(u,g,null,f);var P=u.memoizedState;if(g=P.element,de&&S.isDehydrated){if(S={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},u.updateQueue.baseState=S,u.memoizedState=S,256&u.flags){u=Zv(a,u,g,f,_=Eo(Error(s(423)),u));break e}if(g!==_){u=Zv(a,u,g,f,_=Eo(Error(s(424)),u));break e}for(de&&(Gr=Z2(u.stateNode.containerInfo),Ir=u,at=!0,an=null,Fa=!1),f=yv(u,null,g,f),u.child=f;f;)f.flags=-3&f.flags|4096,f=f.sibling}else{if(yo(),g===_){u=ui(a,u,f);break e}vr(a,u,g,f)}u=u.child}return u;case 5:return vv(u),a===null&&vf(u),g=u.type,_=u.pendingProps,S=a!==null?a.memoizedProps:null,P=_.children,Me(g,_)?P=null:S!==null&&Me(g,S)&&(u.flags|=32),Qv(a,u),vr(a,u,P,f),u.child;case 6:return a===null&&vf(u),null;case 13:return Jv(a,u,f);case 4:return Af(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=xo(u,null,g,f):vr(a,u,g,f),u.child;case 11:return g=u.type,_=u.pendingProps,Wv(a,u,g,_=u.elementType===g?_:ln(g,_),f);case 7:return vr(a,u,u.pendingProps,f),u.child;case 8:case 12:return vr(a,u,u.pendingProps.children,f),u.child;case 10:e:{if(g=u.type._context,_=u.pendingProps,S=u.memoizedProps,ov(0,g,P=_.value),S!==null)if(on(S.value,P)){if(S.children===_.children&&!gr.current){u=ui(a,u,f);break e}}else for((S=u.child)!==null&&(S.return=u);S!==null;){var N=S.dependencies;if(N!==null){P=S.child;for(var H=N.firstContext;H!==null;){if(H.context===g){if(S.tag===1){(H=li(-1,f&-f)).tag=2;var Q=S.updateQueue;if(Q!==null){var Z=(Q=Q.shared).pending;Z===null?H.next=H:(H.next=Z.next,Z.next=H),Q.pending=H}}S.lanes|=f,(H=S.alternate)!==null&&(H.lanes|=f),Ef(S.return,f,u),N.lanes|=f;break}H=H.next}}else if(S.tag===10)P=S.type===u.type?null:S.child;else if(S.tag===18){if((P=S.return)===null)throw Error(s(341));P.lanes|=f,(N=P.alternate)!==null&&(N.lanes|=f),Ef(P,f,u),P=S.sibling}else P=S.child;if(P!==null)P.return=S;else for(P=S;P!==null;){if(P===u){P=null;break}if((S=P.sibling)!==null){S.return=P.return,P=S;break}P=P.return}S=P}vr(a,u,_.children,f),u=u.child}return u;case 9:return _=u.type,g=u.pendingProps.children,_o(u,f),g=g(_=Hr(_)),u.flags|=1,vr(a,u,g,f),u.child;case 14:return _=ln(g=u.type,u.pendingProps),Vv(a,u,g,_=ln(g.type,_),f);case 15:return Xv(a,u,u.type,u.pendingProps,f);case 17:return g=u.type,_=u.pendingProps,_=u.elementType===g?_:ln(g,_),Xu(a,u),u.tag=1,Ar(g)?(a=!0,Su(u)):a=!1,_o(u,f),fv(u,g,_),Pf(u,g,_,f),Gf(null,u,g,!0,a,f);case 19:return t1(a,u,f);case 22:return Yv(a,u,f)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var u=Ln(a,134217728);u!==null&&Xr(u,a,134217728,rr()),hc(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var u=Ln(a,1);u!==null&&Xr(u,a,1,rr()),hc(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=ji(a),f=Ln(a,u);f!==null&&Xr(f,a,u,rr()),hc(a,u)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var f=Na(u.pendingLanes);f!==0&&(hf(u,1|f),_r(u,Nt()),!(6&$e)&&(Co(),Dn()))}break;case 13:_1(function(){var g=Ln(a,1);if(g!==null){var _=rr();Xr(g,a,1,_)}}),hc(a,1)}},e.batchedUpdates=function(a,u){var f=$e;$e|=1;try{return a(u)}finally{($e=f)===0&&(Co(),Pu&&Dn())}},e.createComponentSelector=function(a){return{$$typeof:Ku,value:a}},e.createContainer=function(a,u,f,g,_,S,P){return P1(a,u,!1,null,0,g,0,S,P)},e.createHasPseudoClassSelector=function(a){return{$$typeof:qu,value:a}},e.createHydrationContainer=function(a,u,f,g,_,S,P,N,H){return(a=P1(f,g,!0,a,0,S,0,N,H)).context=A1(null),f=a.current,(S=li(g=rr(),_=ji(f))).callback=u??null,Fi(f,S,_),a.current.lanes=_,La(a,_,g),_r(a,g),a},e.createPortal=function(a,u,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:a,containerInfo:u,implementation:f}},e.createRoleSelector=function(a){return{$$typeof:Zu,value:a}},e.createTestNameSelector=function(a){return{$$typeof:Ju,value:a}},e.createTextSelector=function(a){return{$$typeof:ec,value:a}},e.deferredUpdates=function(a){var u=Ve,f=bt.transition;try{return bt.transition=null,Ve=16,a()}finally{Ve=u,bt.transition=f}},e.discreteUpdates=function(a,u,f,g,_){var S=Ve,P=bt.transition;try{return bt.transition=null,Ve=1,a(u,f,g,_)}finally{Ve=S,bt.transition=P,$e===0&&Co()}},e.findAllNodes=tp,e.findBoundingRects=function(a,u){if(!Be)throw Error(s(363));u=tp(a,u),a=[];for(var f=0;f<u.length;f++)a.push(Ct(u[f]));for(u=a.length-1;0<u;u--)for(var g=(f=a[u]).x,_=g+f.width,S=f.y,P=S+f.height,N=u-1;0<=N;N--)if(u!==N){var H=a[N],Q=H.x,Z=Q+H.width,le=H.y,q=le+H.height;if(g>=Q&&S>=le&&_<=Z&&P<=q){a.splice(u,1);break}if(!(g!==Q||f.width!==H.width||q<S||le>P)){le>S&&(H.height+=le-S,H.y=S),q<P&&(H.height=P-le),a.splice(u,1);break}if(!(S!==le||f.height!==H.height||Z<g||Q>_)){Q>g&&(H.width+=Q-g,H.x=g),Z<_&&(H.width=_-Q),a.splice(u,1);break}}return a},e.findHostInstance=I1,e.findHostInstanceWithNoPortals=function(a){return(a=(a=U(a))!==null?R(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return I1(a)},e.flushControlled=function(a){var u=$e;$e|=1;var f=bt.transition,g=Ve;try{bt.transition=null,Ve=1,a()}finally{Ve=g,bt.transition=f,($e=u)===0&&(Co(),Dn())}},e.flushPassiveEffects=ks,e.flushSync=_1,e.focusWithin=function(a,u){if(!Be)throw Error(s(363));for(u=m1(a=Zf(a),u),u=Array.from(u),a=0;a<u.length;){var f=u[a++];if(!Oi(f)){if(f.tag===5&&A2(f.stateNode))return!0;for(f=f.child;f!==null;)u.push(f),f=f.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ve},e.getFindAllNodesFailureDescription=function(a,u){if(!Be)throw Error(s(363));var f=0,g=[];a=[Zf(a),0];for(var _=0;_<a.length;){var S=a[_++],P=a[_++],N=u[P];if((S.tag!==5||!Oi(S))&&(Jf(S,N)&&(g.push(ep(N)),++P>f&&(f=P)),P<u.length))for(S=S.child;S!==null;)a.push(S,P),S=S.sibling}if(f<u.length){for(a=[];f<u.length;f++)a.push(ep(u[f]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?$(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:$C,findFiberByHostInstance:a.findFiberByHostInstance||GC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{Cu=u.inject(a),On=u}catch{}a=!!u.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,u,f,g){if(!Be)throw Error(s(363));a=tp(a,u);var _=I2(a,f,g).disconnect;return{disconnect:function(){_()}}},e.registerMutableSourceForHydration=function(a,u){var f=u._getVersion;f=f(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,f]:a.mutableSourceEagerHydrationData.push(u,f)},e.runWithPriority=function(a,u){var f=Ve;try{return Ve=a,u()}finally{Ve=f}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,u,f,g){var _=u.current,S=rr(),P=ji(_);return f=A1(f),u.context===null?u.context=f:u.pendingContext=f,(u=li(S,P)).payload={element:a},(g=g===void 0?null:g)!==null&&(u.callback=g),(a=Fi(_,u,P))!==null&&(Xr(a,_,P,S),Du(a,_,P)),P},e}),vb}({get exports(){return l0},set exports(t){l0=t}}).exports=bO();var wO=Y5(l0),$T={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},c0={},qc={get exports(){return c0},set exports(t){c0=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?qc.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(qc.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(qc.exports=function(){return Date.now()-r},r=Date.now()):(qc.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(X5);var bb,ea={},Ns={};({get exports(){return ea},set exports(t){ea=t}}).exports=(bb||(bb=1,Ns.ConcurrentRoot=1,Ns.ContinuousEventPriority=4,Ns.DefaultEventPriority=16,Ns.DiscreteEventPriority=1,Ns.IdleEventPriority=536870912,Ns.LegacyRoot=0),Ns);var EO={};function Cm(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function GT(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Ri(t.children).forEach(function(s){GT(s,t)})}function wb(t,e){var r;GT(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,l=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,d=n.destroyBaseTexture,p=d!==void 0&&d;s&&e.destroy({children:l,texture:h,baseTexture:p})}function Eb(t,e,r){xt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var Sb=null,Sn=wO({getRootHostContext:function(){return EO},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return ea.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ea.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ea.ContinuousEventPriority;default:return ea.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=yO[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=jT[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:ni)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return Sb=function(o,l,c,h){var d=null;for(var p in c)!h.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!==null&&(p===o0||(d||(d=[]),d.push(p,null)));for(var m in h){var y=h[m],v=c!==null?c[m]:void 0;!h.hasOwnProperty(m)||y===v||y===null&&v===null||m===o0||(d||(d=[]),d.push(m,y))}return d}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){xt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:c0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Cm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Cm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Cm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=wb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=wb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Eb,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Eb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,l=t&&t.applyProps;typeof l!="function"&&(l=ni),(l(t,n,i)||Sb)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),SO=$T.dependencies["react-dom"].replace(/[^0-9.]/g,""),TO=$T.name;Sn.injectIntoDevTools({bundleType:0,version:SO,rendererPackageName:TO,findHostInstanceByFiber:Sn.findHostInstance});var ds=new Map;function HT(t){if(xt(ur.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),ds.has(t)){var e=ds.get(t).pixiFiberContainer;Sn.updateContainer(null,e,void 0,function(){ds.delete(t)})}}function WT(t){xt(ur.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=ds.get(t);if(xt(!e,"Pixi React: createRoot should only be called once"),!e){var r=Sn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Sn.updateContainer(n,r,void 0),Sn.getPublicRootInstance(r)},unmount:function(){HT(t),ds.delete(t)}}},ds.set(t,e)}return e.reactRoot}function CO(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ds.has(e)?n=ds.get(e).reactRoot:n=WT(e),n.render(t)}function PO(t){HT(t)}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uu.apply(this,arguments)}function AO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BT(n.key),n)}}function di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ud(t,e){return ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ud(t,e)}function RO(t,e){if(e&&(Fr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(t)}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cd(t)}var Qd=Tn.createContext(null),VT=Qd.Provider,XT=Qd.Consumer,kO=function(t){var e=Tn.forwardRef(function(r,n){return Tn.createElement(XT,null,function(i){return Tn.createElement(t,uu({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function MO(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=cd(t);if(e){var i=cd(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return RO(this,r)}}function Tb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tb(Object(r),!0).forEach(function(n){wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Cb=function(){},YT={width:it.number,height:it.number,onMount:it.func,onUnmount:it.func,raf:it.bool,renderOnComponentChange:it.bool,children:it.node,options:it.shape({autoStart:it.bool,width:it.number,height:it.number,useContextAlpha:it.bool,backgroundAlpha:it.number,autoDensity:it.bool,antialias:it.bool,preserveDrawingBuffer:it.bool,resolution:it.number,forceCanvas:it.bool,backgroundColor:it.number,clearBeforeRender:it.bool,powerPreference:it.string,sharedTicker:it.bool,sharedLoader:it.bool,resizeTo:function(t,e){var r=t[e];r&&xt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Fr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&xt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Fr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},OO={width:800,height:600,onMount:Cb,onUnmount:Cb,raf:!0,renderOnComponentChange:!0},h0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&ud(s,o)})(i,Tn.Component);var e,r,n=MO(i);function i(){var s;AO(this,i);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return wt(di(s=n.call.apply(n,[this].concat(l))),"_canvas",null),wt(di(s),"_mediaQuery",null),wt(di(s),"_ticker",null),wt(di(s),"_needsUpdate",!0),wt(di(s),"app",null),wt(di(s),"updateSize",function(){var h=s.props,d=h.width,p=h.height,m=h.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(d,p)}),wt(di(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),wt(di(s),"renderStage",function(){var h=s.props,d=h.renderOnComponentChange;!h.raf&&d&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,l=s.width,c=s.height,h=s.options,d=s.raf,p=s.renderOnComponentChange;this.app=new bu(Zc(Zc({width:l,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[d?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Sn.createContainer(this.app.stage),Sn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!d&&(this._ticker=new Tt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,l){var c,h=this.props,d=h.width,p=h.height,m=h.raf,y=h.renderOnComponentChange,v=h.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===p&&s.width===d&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),Sn.updateContainer(this.getChildren(),this.mountNode,this),s.width===d&&s.height===p&&s.raf===m&&s.renderOnComponentChange===y&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Tn.createElement(VT,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Sn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,l=this,c=this.props.options;return c&&c.view?(xt(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Tn.createElement("canvas",uu({},(s=this.props,o=[].concat(Ri(Object.keys(YT)),Ri(Object.keys(a0))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,d){return Zc(Zc({},h),{},wt({},d,s[d]))},{})),{ref:function(h){return l._canvas=h}}))}}])&&IO(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();h0.propTypes=YT,h0.defaultProps=OO;var DO=h0;function QT(){var t=ne.useContext(Qd);return xt(t instanceof bu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function NO(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=QT();xt(typeof t=="function","`useTick` needs a callback function."),xt(r instanceof bu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=ne.useRef(null);ne.useEffect(function(){n.current=t},[t]),ne.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function LO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d0(t,e,r){return d0=LO()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var l=new(Function.bind.apply(n,o));return s&&ud(l,s.prototype),l},d0.apply(null,arguments)}var FO=["children","apply"];function Pb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pb(Object(r),!0).forEach(function(n){wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var BO=function(t,e){xt(Fr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,l=Es(i,FO),c=ne.useRef(ne.useMemo(function(){return r.map(function(p){var m,y=(l==null||(m=l[p])===null||m===void 0?void 0:m.construct)||[];return d0(e[p],Ri(y))})},[r])),h=ne.useMemo(function(){return r.reduce(function(p,m,y){return Jc(Jc({},p),{},wt({},m,c.current[y]))},{})},[r]),d=ne.useMemo(function(){return Object.keys(l).filter(zT(UT(r))).reduce(function(p,m){return Jc(Jc({},p),{},wt({},m,l[m]))},{})},[l,r]);return r.forEach(function(p,m){return Object.assign(c.current[m],l[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];return m.every(function(v){return typeof v=="function"})}(o)&&o.call(t,h),Tn.createElement(t,uu({},d,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:it.node,apply:it.func},n},UO=Cr.BitmapText,zO=Cr.Container,jO=Cr.Graphics,$O=Cr.NineSlicePlane,GO=Cr.ParticleContainer,HO=Cr.Sprite,WO=Cr.AnimatedSprite,VO=Cr.Text,XO=Cr.TilingSprite,YO=Cr.SimpleMesh,QO=Cr.SimpleRope;const KO=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:WO,AppConsumer:XT,AppContext:Qd,AppProvider:VT,BitmapText:UO,Container:zO,Graphics:jO,NineSlicePlane:$O,ParticleContainer:GO,PixiComponent:vO,PixiFiber:Sn,SimpleMesh:YO,SimpleRope:QO,Sprite:HO,Stage:DO,TYPES:Cr,Text:VO,TilingSprite:XO,applyDefaultProps:ni,createRoot:WT,eventHandlers:ld,render:CO,unmountComponentAtNode:PO,useApp:QT,useTick:NO,withFilters:BO,withPixiApp:kO},Symbol.toStringTag,{value:"Module"})),qO=$b(KO);Od.exports=qO;var wn=Od.exports;const ZO=t=>1/Math.cos(t*Math.PI/180),f0=(t,e)=>{const r=.7*(e.size_pixels??400),n=r/2**e.zoom/ZO(t.lat),i=r/2**e.zoom,s=(t.lng-e.center.lng+i)/(2*i),o=(-t.lat+e.center.lat+n)/(2*n);return{x:s,y:o}},JO=(t,e)=>{const r=new Array(t);let n=0;for(let s=0;s<t;s++){r[s]=[];for(let o=0;o<t;o++){const l=e.locations[n].snapped_location,c=f0(l,e);r[s].push({index:n,uvX:c.x,uvY:c.y,x:c.x,y:c.y}),n++}}const i=[];for(let s=0;s<t-1;s++)for(let o=0;o<t-1;o++)s%2===o%2?i.push([r[s][o].index,r[s+1][o].index,r[s][o+1].index],[r[s+1][o].index,r[s+1][o+1].index,r[s][o+1].index]):i.push([r[s][o].index,r[s+1][o].index,r[s+1][o+1].index],[r[s][o].index,r[s+1][o+1].index,r[s][o+1].index]);return{grid:r,triangles:i.map(s=>new Float32Array(s))}},eD=t=>{if(t.dense_travel_times){console.log("Using dense route matrix.");const e=t.locations.length,r=[];for(let n=0;n<e;n++)for(let i=0;i<e;i++){if(n===i)continue;const s=t.dense_travel_times[n][i];s===0||s==null||r.push({originIndex:n,destinationIndex:i,status:{},distanceMeters:0,duration:s+"s",condition:"ROUTE_EXISTS"})}return r}else return console.log("No dense route matrix available."),t.route_matrix},tD="median",rD=30,nD=t=>{const e=t.locations.length,r=l=>JSON.stringify(t.locations[l].snapped_location),n=eD(t).filter(l=>l.condition==="ROUTE_EXISTS"&&l.originIndex<l.destinationIndex&&r(l.originIndex)!==r(l.destinationIndex)).filter(l=>l.duration===void 0||l.duration==="0s"?(console.error("Invalid duration, skipping: "+JSON.stringify(l)),!1):!0).map(l=>{if(l.duration===void 0)throw new Error("entry.duration is undefined (even though we check above??)");if(l.duration[l.duration.length-1]!=="s")throw new Error('Invalid duration, expected it to end with "s"');const c=parseInt(l.duration.split("s")[0]);if(c===0)throw new Error("Invalid duration, expected it to be > 0: "+JSON.stringify(l));const h=t.locations[l.originIndex].snapped_location,d=t.locations[l.destinationIndex].snapped_location,p=oD(h.lat,h.lng,d.lat,d.lng);if(p===0)throw new Error("Invalid sphericalDistanceMeters, expected it to be > 0: "+JSON.stringify(l));const m=f0(h,t),y=f0(d,t),v=Math.hypot(m.x-y.x,m.y-y.y);return{...l,durationSeconds:c,metersPerSecond:p/c,sphericalDistanceMeters:p,normalizedDistance:v}});let i;n.sort((l,c)=>l.metersPerSecond-c.metersPerSecond),i=n[Math.floor(n.length/2)].metersPerSecond;const s=(i*3.6).toFixed(1);return console.log(`averageSpeed: ${s} km/h (averaged using ${tD})`),n.map(l=>({from:l.originIndex,to:l.destinationIndex,length:l.normalizedDistance*i/l.metersPerSecond,strength:rD/e,isAnchor:!1}))},KT=(t,e,r)=>{const i=Math.hypot(t.x-e.x,t.y-e.y)-r;let s;return s=i,s},iD=(t,e,r)=>t+(e-t)*r,sD=(t,e,r,n,i,s)=>{let o=t.map((c,h)=>({x:c.x,y:c.y,dx:0,dy:0,pinned:c.pinned})),l=0;return e.forEach(c=>{const h=o[c.from],d=o[c.to];let p=KT(h,d,c.length);if(l+=p**2,p*=c.strength*r*(c.isAnchor?iD(5,1.5,i):i*s),n!==null){const x=Math.hypot((h.x+d.x)/2-n.x,(h.y+d.y)/2-n.y),T=Math.min(10,1/(x+.01));p*=T}const m=Math.atan2(d.y-h.y,d.x-h.x),y=Math.cos(m)*p,v=Math.sin(m)*p;o[c.from].dx+=y,o[c.from].dy+=v,o[c.to].dx-=y,o[c.to].dy-=v}),[o.map(c=>({x:c.pinned?c.x:c.x+c.dx,y:c.pinned?c.y:c.y+c.dy,pinned:c.pinned})),l]},oD=(t,e,r,n)=>{const i=p=>p*Math.PI/180;t=i(t),e=i(e),r=i(r),n=i(n);const s=6371*1e3,o=n-e,l=r-t,c=Math.sin(l/2)**2+Math.cos(t)*Math.cos(r)*Math.sin(o/2)**2,h=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return s*h},aD=(t,e)=>{let r=0,n=1/0;return e.forEach((i,s)=>{if(i.pinned)return;const o=Math.hypot(i.x-t.x,i.y-t.y);o<n&&(n=o,r=s)}),r},lD=(t,e,r,n,i=1,s=0)=>{t.beginFill(s,.8),t.moveTo(e+10*i*Math.cos(n+Math.PI/2),r+10*i*Math.sin(n+Math.PI/2)),t.lineTo(e+10*i*Math.cos(n-Math.PI/2),r+10*i*Math.sin(n-Math.PI/2)),t.lineTo(e+20*i*Math.cos(n),r+20*i*Math.sin(n)),t.closePath(),t.endFill()},uD=(t,e,r)=>e.filter(n=>n.from===r||n.to===r).map(n=>{const[i,s]=n.from===r?[n.to,n.from]:[n.from,n.to],o=t[s],l=t[i],c=KT(o,l,n.length);return{entry:l,force:c,spring:n}}),cD=t=>{let e=0;if(t.length===0)return e;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return e},hD=(t,e)=>{const r=`${t},${e}`;return cD(r)},dD=({vertexPositions:t,grid:e,springs:r,viewSettings:n,normalizedHoveredPoint:i,mapSizePx:s})=>{const o=ne.useCallback(p=>{p.clear(),t.forEach(m=>{p.lineStyle(0),p.beginFill(m.pinned?5592405:16711691,.5),p.drawCircle(m.x*s,m.y*s,m.pinned?5:10),p.endFill()})},[t,s]),l=ne.useCallback(p=>{p.clear();const m=(y,v,x,T)=>{const w=t[e[y][v].index],b=t[e[x][T].index];p.lineStyle(3,5592405,.5),p.moveTo(w.x*s,w.y*s),p.lineTo(b.x*s,b.y*s)};for(let y=0;y<e.length;y++)for(let v=0;v<e[y].length;v++)y<e.length-1&&m(y,v,y+1,v),v<e[y].length-1&&m(y,v,y,v+1)},[t,e,s]),c=ne.useCallback(p=>{if(!i)return;p.clear();const m=aD(i,t),y=t[m];p.beginFill(0,.5),p.drawCircle(y.x*s,y.y*s,10),uD(t,r,m).forEach(({entry:x,force:T,spring:w})=>{const b=y,E=x;let C=Math.atan2(E.y-b.y,E.x-b.x)+Math.PI/2;Math.hypot(E.x-b.x,E.y-b.y)/w.length<1&&(C+=Math.PI);const D=T<0;lD(p,x.x*s,x.y*s,C+Math.PI/2,2*Math.sqrt(Math.abs(T)),D?15693434:3101408)})},[t,i,r,s]),h=ne.useCallback(p=>{p.clear(),r.forEach(m=>{const y=t[m.from],v=t[m.to];y.pinned||v.pinned||Math.hypot(y.x-v.x,y.y-v.y)>n.showSpringsThreshold||hD(m.from,m.to)%32===0&&(p.lineStyle(2,0,.1),p.moveTo(y.x*s,y.y*s),p.lineTo(v.x*s,v.y*s))})},[t,r,n,s]),d=t.slice(0,t.length/2).map((p,m)=>V.jsx(wn.Text,{x:p.x*s-15,y:p.y*s-15,text:m+""},m));return V.jsxs(V.Fragment,{children:[n.showSpringArrows&&V.jsx(wn.Graphics,{draw:c}),n.showGridNumbers&&d,n.showGridPoints&&V.jsx(wn.Graphics,{draw:o}),n.showGrid&&V.jsx(wn.Graphics,{draw:l}),n.showSpringsByDistance&&V.jsx(wn.Graphics,{draw:h})]})},qT=new ct;ht.prototype._cacheAsBitmap=!1;ht.prototype._cacheData=null;ht.prototype._cacheAsBitmapResolution=null;ht.prototype._cacheAsBitmapMultisample=null;class fD{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ht.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new fD),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});ht.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};ht.prototype._initCachedDisplayObject=function(e){var m,y;if((m=this._cacheData)!=null&&m.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((y=this.filters)!=null&&y.length){const v=this.filters[0].padding;n.pad(v)}n.ceil(ce.RESOLUTION);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,c=co.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),h=`cacheAsBitmap_${oo()}`;this._cacheData.textureCacheId=h,ke.addToCache(c.baseTexture,h),ue.addToCache(c,h);const d=this.transform.localTransform.copyTo(qT).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:d,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const p=new ii(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(n.x/n.width),p.anchor.y=-(n.y/n.height),p.alpha=r,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};ht.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};ht.prototype._initCachedDisplayObjectCanvas=function(e){var d;if((d=this._cacheData)!=null&&d.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=e.canvasContext.activeContext,s=e._projTransform;r.ceil(ce.RESOLUTION);const o=co.create({width:r.width,height:r.height}),l=`cacheAsBitmap_${oo()}`;this._cacheData.textureCacheId=l,ke.addToCache(o.baseTexture,l),ue.addToCache(o,l);const c=qT;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),e.canvasContext.activeContext=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new ii(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};ht.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ht.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ht.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ke.removeFromCache(this._cacheData.textureCacheId),ue.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ht.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};ht.prototype.name=null;ur.prototype.getChildByName=function(e,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};ht.prototype.getGlobalPosition=function(e=new Ge,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var pD=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class mD extends Kt{constructor(e=1){super(S4,pD,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const gD={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},yD=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function vD(t){const e=gD[t],r=e.length;let n=yD,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let c=s.replace("%index%",l.toString());o=l,l>=r&&(o=t-l-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const _D=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function xD(t,e){const r=Math.ceil(t/2);let n=_D,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());l=l.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class p0 extends Kt{constructor(e,r=8,n=4,i=Kt.defaultResolution,s=5){const o=xD(s,e),l=vD(s);super(o,l),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let l=r,c=s;this.state.blend=!1,e.applyFilter(this,l,c,Yn.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(l,Yn.BLIT),this.uniforms.uSampler=c;const d=c;c=l,l=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class bD extends Kt{constructor(e=8,r=4,n=Kt.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new p0(!0,e,r,n,i),this.blurYFilter=new p0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,Yn.CLEAR),this.blurYFilter.apply(e,l,n,i),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var wD=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class m0 extends Kt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(yT,wD,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Ze.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,l=s(o),c=n+(1-n)*o,h=o*(1-n)-l*i,d=o*(1-n)+l*i,p=o*(1-n)+l*i,m=n+o*(1-n),y=o*(1-n)-l*i,v=o*(1-n)-l*i,x=o*(1-n)+l*i,T=n+o*(1-n),w=[c,h,d,0,0,p,m,y,0,0,v,x,T,0,0,0,0,0,1,0];this._loadMatrix(w,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Ze.shared,[l,c,h]=o.setValue(n).toArray(),[d,p,m]=o.setValue(i).toArray(),y=[.3,.59,.11,0,0,l,c,h,e,0,d,p,m,r,0,l-d,c-p,h-m,0,0];this._loadMatrix(y,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}m0.prototype.grayscale=m0.prototype.greyscale;var ED=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,SD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class TD extends Kt{constructor(e,r){const n=new ct;e.renderable=!1,super(SD,ED,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Ge(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var CD=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,PD=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class AD extends Kt{constructor(){super(PD,CD)}}var ID=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class RD extends Kt{constructor(e=.5,r=Math.random()){super(yT,ID,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Ab={AlphaFilter:mD,BlurFilter:bD,BlurFilterPass:p0,ColorMatrixFilter:m0,DisplacementFilter:TD,FXAAFilter:AD,NoiseFilter:RD};Object.entries(Ab).forEach(([t,e])=>{Object.defineProperty(Ab,t,{get(){return ze("7.1.0",`filters.${t} has moved to ${t}`),e}})});class kD{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Tt.system.add(this.tickerUpdate,this,vs.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Tt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Zi=new kD;class wu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=wu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ge,this.page=new Ge,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class hd extends wu{constructor(){super(...arguments),this.client=new Ge,this.movement=new Ge,this.offset=new Ge,this.global=new Ge,this.screen=new Ge}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,l,c,h,d,p,m,y,v,x){throw new Error("Method not implemented.")}}class pn extends hd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ca extends hd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ca.DOM_DELTA_PIXEL=0;Ca.DOM_DELTA_LINE=1;Ca.DOM_DELTA_PAGE=2;const MD=2048,OD=new Ge,Pm=new Ge;class DD{constructor(e){this.dispatch=new yu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Zi.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,OD.set(e,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<MD&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Zi.pauseUpdate=!1),e.interactiveChildren&&e.children){const d=e.children;for(let p=d.length-1;p>=0;p--){const m=d[p],y=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const v=e.isInteractive();(y.length>0||v)&&(v&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),l=!0}}}const c=this._isInteractive(r),h=e.isInteractive();return h&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:c&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Zi.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const d=c[h],p=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),l=e.isInteractive();return o&&i(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Pm),!e.hitArea.contains(Pm.x,Pm.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,h;if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const d=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,d,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const d=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,d);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const v=this.clonePointerEvent(r,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(p)}const o=[],l=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let l=s;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete i.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===l.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=r,l.detail=c.clickCount,l.pointerType==="mouse"){const h=l.button===2;this.dispatchEvent(l,h?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof pn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Ca)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(pn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Ca);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(pn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof pn&&r instanceof pn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof hd&&r instanceof hd&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const ND=1,LD={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},g0=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new DD(null),Zi.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new pn(null),this.rootWheelEvent=new Ca(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...g0.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,g0._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Zi.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Zi.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Zi.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Zi.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=ND),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=LD[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let cu=g0;cu.extension={name:"events",type:[he.RendererSystem,he.CanvasRendererSystem]};cu.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};be.add(cu);function Ib(t){return t==="dynamic"||t==="static"}const FD={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??Ib(cu.defaultEventMode)},set interactive(t){ze("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??cu.defaultEventMode},set eventMode(t){this._internalInteractive=Ib(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof wu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};ht.mixin(FD);const BD={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ht.mixin(BD);const UD=9,eh=100,zD=0,jD=0,Rb=2,kb=1,$D=-1e3,GD=-1e3,HD=2;class ZT{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(xi.tablet||xi.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${eh}px`,r.style.height=`${eh}px`,r.style.position="absolute",r.style.top=`${zD}px`,r.style.left=`${jD}px`,r.style.zIndex=Rb.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${kb}px`,e.style.height=`${kb}px`,e.style.position="absolute",e.style.top=`${$D}px`,e.style.left=`${GD}px`,e.style.zIndex=HD.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(xi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:c}=this.renderer,h=i/o*c,d=s/l*c;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${l}px`;for(let m=0;m<this.children.length;m++){const y=this.children[m];if(y.renderId!==this.renderId)y._accessibleActive=!1,ha(this.children,m,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,m--;else{p=y._accessibleDiv;let v=y.hitArea;const x=y.worldTransform;y.hitArea?(p.style.left=`${(x.tx+v.x*x.a)*h}px`,p.style.top=`${(x.ty+v.y*x.d)*d}px`,p.style.width=`${v.width*x.a*h}px`,p.style.height=`${v.height*x.d*d}px`):(v=y.getBounds(),this.capHitArea(v),p.style.left=`${v.x*h}px`,p.style.top=`${v.y*d}px`,p.style.width=`${v.width*h}px`,p.style.height=`${v.height*d}px`,p.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(p.title=y.accessibleTitle),p.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&p.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==p.title||y.tabIndex!==p.tabIndex)&&(p.title=y.accessibleTitle,p.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${eh}px`,r.style.height=`${eh}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Rb.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new wu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===UD&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}ZT.extension={name:"accessibility",type:[he.RendererPlugin,he.CanvasRendererPlugin]};be.add(ZT);var Or=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Or||{});const dd={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let fi,Fo;function Mb(){Fo={s3tc:fi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:fi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:fi.getExtension("WEBGL_compressed_texture_etc"),etc1:fi.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:fi.getExtension("WEBGL_compressed_texture_pvrtc")||fi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:fi.getExtension("WEBGL_compressed_texture_atc"),astc:fi.getExtension("WEBGL_compressed_texture_astc")}}const WD={extension:{type:he.DetectionParser,priority:2},test:async()=>{const e=ce.ADAPTER.createCanvas().getContext("webgl");return e?(fi=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Fo||Mb();const e=[];for(const r in Fo)Fo[r]&&e.push(r);return[...e,...t]},remove:async t=>(Fo||Mb(),t.filter(e=>!(e in Fo)))};be.add(WD);class VD extends _u{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Wg(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Wg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Js extends VD{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Js._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Js._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,l=this.levels;o<l;o++){const{levelID:c,levelWidth:h,levelHeight:d,levelBuffer:p}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,c,this.format,h,d,0,p)}return!0}onBlobLoaded(){this._levelBuffers=Js._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,l){const c=new Array(n);let h=e.byteOffset,d=o,p=l,m=d+i-1&~(i-1),y=p+s-1&~(s-1),v=m*y*dd[r];for(let x=0;x<n;x++)c[x]={levelID:x,levelWidth:n>1?d:m,levelHeight:n>1?p:y,levelBuffer:new Uint8Array(e.buffer,h,v)},h+=v,d=d>>1||1,p=p>>1||1,m=d+i-1&~(i-1),y=p+s-1&~(s-1),v=m*y*dd[r];return c}}const Am=4,th=124,XD=32,Ob=20,YD=542327876,rh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},QD={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},nh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},KD=1,qD=2,ZD=4,JD=64,eN=512,tN=131072,rN=827611204,nN=861165636,iN=894720068,sN=808540228,oN=4,aN={[rN]:Or.COMPRESSED_RGBA_S3TC_DXT1_EXT,[nN]:Or.COMPRESSED_RGBA_S3TC_DXT3_EXT,[iN]:Or.COMPRESSED_RGBA_S3TC_DXT5_EXT},lN={70:Or.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Or.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Or.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Or.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Or.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Or.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Or.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Or.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Or.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function uN(t){const e=new Uint32Array(t);if(e[0]!==YD)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(t,0,th/Uint32Array.BYTES_PER_ELEMENT),i=n[rh.HEIGHT],s=n[rh.WIDTH],o=n[rh.MIPMAP_COUNT],l=new Uint32Array(t,rh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,XD/Uint32Array.BYTES_PER_ELEMENT),c=l[KD];if(c&ZD){const h=l[QD.FOURCC];if(h!==sN){const E=aN[h],C=Am+th,A=new Uint8Array(t,C);return[new Js(A,{format:E,width:s,height:i,levels:o})]}const d=Am+th,p=new Uint32Array(e.buffer,d,Ob/Uint32Array.BYTES_PER_ELEMENT),m=p[nh.DXGI_FORMAT],y=p[nh.RESOURCE_DIMENSION],v=p[nh.MISC_FLAG],x=p[nh.ARRAY_SIZE],T=lN[m];if(T===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${m}`);if(v===oN)throw new Error("DDSParser does not support cubemap textures");if(y===6)throw new Error("DDSParser does not supported 3D texture data");const w=new Array,b=Am+th+Ob;if(x===1)w.push(new Uint8Array(t,b));else{const E=dd[T];let C=0,A=s,D=i;for(let O=0;O<o;O++){const I=Math.max(1,A+3&-4),U=Math.max(1,D+3&-4),z=I*U*E;C+=z,A=A>>>1,D=D>>>1}let M=b;for(let O=0;O<x;O++)w.push(new Uint8Array(t,M,C)),M+=C}return w.map(E=>new Js(E,{format:T,width:s,height:i,levels:o}))}throw c&JD?new Error("DDSParser does not support uncompressed texture data."):c&eN?new Error("DDSParser does not supported YUV uncompressed texture data."):c&tN?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&qD?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Db=[171,75,84,88,32,49,49,187,13,10,26,10],cN=67305985,dn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},y0=64,Nb={[Te.UNSIGNED_BYTE]:1,[Te.UNSIGNED_SHORT]:2,[Te.INT]:4,[Te.UNSIGNED_INT]:4,[Te.FLOAT]:4,[Te.HALF_FLOAT]:8},hN={[oe.RGBA]:4,[oe.RGB]:3,[oe.RG]:2,[oe.RED]:1,[oe.LUMINANCE]:1,[oe.LUMINANCE_ALPHA]:2,[oe.ALPHA]:1},dN={[Te.UNSIGNED_SHORT_4_4_4_4]:2,[Te.UNSIGNED_SHORT_5_5_5_1]:2,[Te.UNSIGNED_SHORT_5_6_5]:2};function fN(t,e,r=!1){const n=new DataView(e);if(!pN(t,n))return null;const i=n.getUint32(dn.ENDIANNESS,!0)===cN,s=n.getUint32(dn.GL_TYPE,i),o=n.getUint32(dn.GL_FORMAT,i),l=n.getUint32(dn.GL_INTERNAL_FORMAT,i),c=n.getUint32(dn.PIXEL_WIDTH,i),h=n.getUint32(dn.PIXEL_HEIGHT,i)||1,d=n.getUint32(dn.PIXEL_DEPTH,i)||1,p=n.getUint32(dn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(dn.NUMBER_OF_FACES,i),y=n.getUint32(dn.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(dn.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||d!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const x=4,T=4,w=c+3&-4,b=h+3&-4,E=new Array(p);let C=c*h;s===0&&(C=w*b);let A;if(s!==0?Nb[s]?A=Nb[s]*hN[o]:A=dN[s]:A=dd[l],A===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const D=r?gN(n,v,i):null;let O=C*A,I=c,U=h,z=w,B=b,R=y0+v;for(let L=0;L<y;L++){const W=n.getUint32(R,i);let $=R+4;for(let X=0;X<p;X++){let k=E[X];k||(k=E[X]=new Array(y)),k[L]={levelID:L,levelWidth:y>1||s!==0?I:z,levelHeight:y>1||s!==0?U:B,levelBuffer:new Uint8Array(e,$,O)},$+=O}R+=W+4,R=R%4!==0?R+4-R%4:R,I=I>>1||1,U=U>>1||1,z=I+x-1&~(x-1),B=U+T-1&~(T-1),O=z*B*A}return s!==0?{uncompressed:E.map(L=>{let W=L[0].levelBuffer,$=!1;return s===Te.FLOAT?W=new Float32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4):s===Te.UNSIGNED_INT?($=!0,W=new Uint32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4)):s===Te.INT&&($=!0,W=new Int32Array(L[0].levelBuffer.buffer,L[0].levelBuffer.byteOffset,L[0].levelBuffer.byteLength/4)),{resource:new _u(W,{width:L[0].levelWidth,height:L[0].levelHeight}),type:s,format:$?mN(o):o}}),kvData:D}:{compressed:E.map(L=>new Js(null,{format:l,width:c,height:h,levels:y,levelBuffers:L})),kvData:D}}function pN(t,e){for(let r=0;r<Db.length;r++)if(e.getUint8(r)!==Db[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function mN(t){switch(t){case oe.RGBA:return oe.RGBA_INTEGER;case oe.RGB:return oe.RGB_INTEGER;case oe.RG:return oe.RG_INTEGER;case oe.RED:return oe.RED_INTEGER;default:return t}}function gN(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(y0+i,r),o=y0+i+4,l=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),d=new DataView(t.buffer,o+c+1,s-c-1);n.set(h,d),i+=4+s+l}return n}const yN={extension:{type:he.LoadParser,priority:si.High},name:"loadDDS",test(t){return ho(t,".dds")},async load(t,e,r){const i=await(await ce.ADAPTER.fetch(t)).arrayBuffer(),o=uN(i).map(l=>{const c=new ke(l,{mipmap:ti.OFF,alphaMode:Mn.NO_PREMULTIPLIED_ALPHA,resolution:ms(t),...e.data});return Vd(c,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};be.add(yN);const vN={extension:{type:he.LoadParser,priority:si.High},name:"loadKTX",test(t){return ho(t,".ktx")},async load(t,e,r){const i=await(await ce.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:l}=fN(t,i),c=s??o,h={mipmap:ti.OFF,alphaMode:Mn.NO_PREMULTIPLIED_ALPHA,resolution:ms(t),...e.data},d=c.map(p=>{c===o&&Object.assign(h,{type:p.type,format:p.format});const m=new ke(p,h);return m.ktxKeyValueData=l,Vd(m,r,t)});return d.length===1?d[0]:d},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};be.add(vN);const _N={extension:he.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var n,i;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((n=ce.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((i=ce.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:t.split(".").pop(),src:t}}};be.add(_N);const xN=new Fe,bN=4,wl=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>i(l.result),l.onerror=s,l.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const l=new FileReader;l.onload=()=>s(l.result),l.onerror=o,l.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&wl._flipY(r,n,i),wl._unpremultiplyAlpha(r);const o=new hM(n,i,1),l=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(l,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&wl._flipY(r,n,i),wl._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof co?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const p=s.framebuffer.glFramebuffers[r.CONTEXT_UID];p.blitFramebuffer&&r.framebuffer.bind(p.blitFramebuffer)}}else n=r.resolution,e||(e=xN,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const l=Math.round(e.width*n),c=Math.round(e.height*n),h=new Uint8Array(bN*l*c),d=r.gl;return d.readPixels(Math.round(e.x*n),Math.round(e.y*n),l,c,d.RGBA,d.UNSIGNED_BYTE,h),o&&(s==null||s.destroy(!0)),{pixels:h,width:l,height:c,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const l=o*n,c=(r-o-1)*n;s.set(t.subarray(l,l+n)),t.copyWithin(l,c,c+n),t.set(s,c)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let JT=wl;JT.extension={name:"extract",type:he.RendererSystem};be.add(JT);class wN{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function EN(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ue){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function SN(t,e){if(t.baseTexture instanceof ke){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function TN(t,e){if(t._texture&&t._texture instanceof ue){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function CN(t,e){return e instanceof Hd?(e.updateText(!0),!0):!1}function PN(t,e){if(e instanceof Ii){const r=e.toFontString();return Yt.measureFont(r),!0}return!1}function AN(t,e){if(t instanceof Hd){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function IN(t,e){return t instanceof Ii?(e.includes(t)||e.push(t),!0):!1}const e2=class{constructor(t){this.limiter=new wN(e2.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(AN),this.registerFindHook(IN),this.registerFindHook(EN),this.registerFindHook(SN),this.registerFindHook(TN),this.registerUploadHook(CN),this.registerUploadHook(PN)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Tt.system.addOnce(this.tick,this,vs.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Tt.system.addOnce(this.tick,this,vs.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof ur)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Tt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let fd=e2;fd.uploadsPerFrame=4;Object.defineProperties(ce,{UPLOADS_PER_FRAME:{get(){return fd.uploadsPerFrame},set(t){ze("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),fd.uploadsPerFrame=t}}});function t2(t,e){return e instanceof ke?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function RN(t,e){if(!(e instanceof Zs))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&t2(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function kN(t,e){return t instanceof Zs?(e.push(t),!0):!1}class r2 extends fd{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(kN),this.registerUploadHook(t2),this.registerUploadHook(RN)}}r2.extension={name:"prepare",type:he.RendererSystem};be.add(r2);const El=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof ue?t:null,this.baseTexture=t instanceof ke?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=ms(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=El.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=El.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,l=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,h=new Fe(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?o=new Fe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Fe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(l=new Fe(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new ue(this.baseTexture,o,h,l,i.rotated?2:0,i.anchor,i.borders),ue.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*El.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*El.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let v0=El;v0.BATCH_SIZE=1e3;const MN=["jpg","png","jpeg","avif","webp"];function n2(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=or.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const l=n2([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,l)})}return n}const ON={extension:he.Asset,cache:{test:t=>t instanceof v0,getCacheableAssets:(t,e)=>n2(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&MN.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ce.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:he.LoadParser,priority:si.Normal},async testParse(t,e){return or.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var h,d;let n=or.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=i0(i,e.src);const o=(await r.load([i]))[i],l=new v0(o.baseTexture,t,e.src);await l.parse();const c=(h=t==null?void 0:t.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(c)){const p=[];for(const y of c){if(typeof y!="string")continue;let v=n+y;(d=e.data)!=null&&d.ignoreMultiPack||(v=i0(v,e.src),p.push(r.load({src:v,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(p);l.linkedSheets=m,m.forEach(y=>{y.linkedSheets=[l].concat(l.linkedSheets.filter(v=>v!==y))})}return l},unload(t){t.destroy(!0)}}};be.add(ON);const Bo=class extends Ii{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Bo(Object.keys(Bo.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Bo.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=Bo;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ce.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),l=new FileReader;l.onload=()=>i([o,l.result]),l.onerror=s,l.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:or.basename(t,or.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=aM(t)),typeof t=="number"?oM(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,Bo.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=ce.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let Fl=Bo;Fl.availableFonts={};Fl.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const Uo=class extends ii{constructor(t="",e={}){super(ue.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=ue.from(r,{scaleMode:ce.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new Fe,n.trim=new Fe,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject"),c=document.createElementNS(s,"div"),h=document.createElementNS(s,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",o.appendChild(l),this.maxWidth=Uo.defaultMaxWidth,this.maxHeight=Uo.defaultMaxHeight,this._domElement=c,this._styleElement=h,this._svgRoot=o,this._foreignObject=l,this._foreignObject.appendChild(h),this._foreignObject.appendChild(c),this._image=r,this._loadImage=new Image,this._autoResolution=Uo.defaultAutoResolution,this._resolution=Uo.defaultResolution??ce.RESOLUTION,this.text=t,this.style=e}measureText(t){var l,c;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(l=this._style)==null?void 0:l.toCSS(n)}),this._styleElement.textContent=(c=this._style)==null?void 0:c.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const l=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Uo.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=ns(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=ns(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Fl?(this.ownsStyle=!1,this._style=t):t instanceof Ii?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Fl.from(t)):(this.ownsStyle=!0,this._style=new Fl(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let Kd=Uo;Kd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};Kd.defaultMaxWidth=2024;Kd.defaultMaxHeight=2024;Kd.defaultAutoResolution=!0;const DN=new Float32Array([0,1,2]),NN=wn.PixiComponent("MeshTriangle",{create:t=>new kT(ue.from(t.image),t.vertices,t.uvs,DN,Zr.TRIANGLES),applyProps:(t,e,r)=>{e.vertices!==r.vertices&&(t.vertices=r.vertices),e.uvs!==r.uvs&&(t.uvs=r.uvs),e.image!==r.image&&(t.texture=ue.from(r.image))},didMount:(t,e)=>{},willUnmount:(t,e)=>{},config:{destroy:!0,destroyChildren:!0}});var i2={exports:{}};(function(t,e){(function(n,i){t.exports=i(ne)})(ih,r=>(()=>{var n={"./node_modules/css-mediaquery/index.js":(l,c)=>{c.match=v,c.parse=x;var h=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,d=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,p=/^(?:(min|max)-)?(.+)/,m=/(em|rem|px|cm|mm|in|pt|pc)?$/,y=/(dpi|dpcm|dppx)?$/;function v(E,C){return x(E).some(function(A){var D=A.inverse,M=A.type==="all"||C.type===A.type;if(M&&D||!(M||D))return!1;var O=A.expressions.every(function(I){var U=I.feature,z=I.modifier,B=I.value,R=C[U];if(!R)return!1;switch(U){case"orientation":case"scan":return R.toLowerCase()===B.toLowerCase();case"width":case"height":case"device-width":case"device-height":B=b(B),R=b(R);break;case"resolution":B=w(B),R=w(R);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":B=T(B),R=T(R);break;case"grid":case"color":case"color-index":case"monochrome":B=parseInt(B,10)||1,R=parseInt(R,10)||0;break}switch(z){case"min":return R>=B;case"max":return R<=B;default:return R===B}});return O&&!D||!O&&D})}function x(E){return E.split(",").map(function(C){C=C.trim();var A=C.match(h),D=A[1],M=A[2],O=A[3]||"",I={};return I.inverse=!!D&&D.toLowerCase()==="not",I.type=M?M.toLowerCase():"all",O=O.match(/\([^\)]+\)/g)||[],I.expressions=O.map(function(U){var z=U.match(d),B=z[1].toLowerCase().match(p);return{modifier:B[1],feature:B[2],value:z[2]}}),I})}function T(E){var C=Number(E),A;return C||(A=E.match(/^(\d+)\s*\/\s*(\d+)$/),C=A[1]/A[2]),C}function w(E){var C=parseFloat(E),A=String(E).match(y)[1];switch(A){case"dpcm":return C/2.54;case"dppx":return C*96;default:return C}}function b(E){var C=parseFloat(E),A=String(E).match(m)[1];switch(A){case"em":return C*16;case"rem":return C*16;case"cm":return C*96/2.54;case"mm":return C*96/2.54/10;case"in":return C*96;case"pt":return C*72;case"pc":return C*72/12;default:return C}}},"./node_modules/hyphenate-style-name/index.js":(l,c,h)=>{h.r(c),h.d(c,{default:()=>x});var d=/[A-Z]/g,p=/^ms-/,m={};function y(T){return"-"+T.toLowerCase()}function v(T){if(m.hasOwnProperty(T))return m[T];var w=T.replace(d,y);return m[T]=p.test(w)?"-"+w:w}const x=v},"./node_modules/matchmediaquery/index.js":(l,c,h)=>{var d=h("./node_modules/css-mediaquery/index.js").match,p=typeof window<"u"?window.matchMedia:null;function m(v,x,T){var w=this;if(p&&!T){var b=p.call(window,v);this.matches=b.matches,this.media=b.media,b.addListener(A)}else this.matches=d(v,x),this.media=v;this.addListener=E,this.removeListener=C,this.dispose=D;function E(M){b&&b.addListener(M)}function C(M){b&&b.removeListener(M)}function A(M){w.matches=M.matches,w.media=M.media}function D(){b&&b.removeListener(A)}}function y(v,x,T){return new m(v,x,T)}l.exports=y},"./node_modules/object-assign/index.js":l=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var c=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function p(y){if(y==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(y)}function m(){try{if(!Object.assign)return!1;var y=new String("abc");if(y[5]="de",Object.getOwnPropertyNames(y)[0]==="5")return!1;for(var v={},x=0;x<10;x++)v["_"+String.fromCharCode(x)]=x;var T=Object.getOwnPropertyNames(v).map(function(b){return v[b]});if(T.join("")!=="0123456789")return!1;var w={};return"abcdefghijklmnopqrst".split("").forEach(function(b){w[b]=b}),Object.keys(Object.assign({},w)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}l.exports=m()?Object.assign:function(y,v){for(var x,T=p(y),w,b=1;b<arguments.length;b++){x=Object(arguments[b]);for(var E in x)h.call(x,E)&&(T[E]=x[E]);if(c){w=c(x);for(var C=0;C<w.length;C++)d.call(x,w[C])&&(T[w[C]]=x[w[C]])}}return T}},"./node_modules/prop-types/checkPropTypes.js":(l,c,h)=>{var d=function(){};{var p=h("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),m={},y=h("./node_modules/prop-types/lib/has.js");d=function(x){var T="Warning: "+x;typeof console<"u"&&console.error(T);try{throw new Error(T)}catch{}}}function v(x,T,w,b,E){for(var C in x)if(y(x,C)){var A;try{if(typeof x[C]!="function"){var D=Error((b||"React class")+": "+w+" type `"+C+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof x[C]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw D.name="Invariant Violation",D}A=x[C](T,C,b,w,null,p)}catch(O){A=O}if(A&&!(A instanceof Error)&&d((b||"React class")+": type specification of "+w+" `"+C+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof A+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),A instanceof Error&&!(A.message in m)){m[A.message]=!0;var M=E?E():"";d("Failed "+w+" type: "+A.message+(M??""))}}}v.resetWarningCache=function(){m={}},l.exports=v},"./node_modules/prop-types/factoryWithTypeCheckers.js":(l,c,h)=>{var d=h("./node_modules/react-is/index.js"),p=h("./node_modules/object-assign/index.js"),m=h("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),y=h("./node_modules/prop-types/lib/has.js"),v=h("./node_modules/prop-types/checkPropTypes.js"),x=function(){};x=function(w){var b="Warning: "+w;typeof console<"u"&&console.error(b);try{throw new Error(b)}catch{}};function T(){return null}l.exports=function(w,b){var E=typeof Symbol=="function"&&Symbol.iterator,C="@@iterator";function A(K){var ee=K&&(E&&K[E]||K[C]);if(typeof ee=="function")return ee}var D="<<anonymous>>",M={array:z("array"),bigint:z("bigint"),bool:z("boolean"),func:z("function"),number:z("number"),object:z("object"),string:z("string"),symbol:z("symbol"),any:B(),arrayOf:R,element:L(),elementType:W(),instanceOf:$,node:F(),objectOf:k,oneOf:X,oneOfType:G,shape:ae,exact:Pe};function O(K,ee){return K===ee?K!==0||1/K===1/ee:K!==K&&ee!==ee}function I(K,ee){this.message=K,this.data=ee&&typeof ee=="object"?ee:{},this.stack=""}I.prototype=Error.prototype;function U(K){var ee={},ye=0;function de(Ae,Ie,Oe,Le,Ye,Be,fe){if(Le=Le||D,Be=Be||Oe,fe!==m){if(b){var Ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Ct.name="Invariant Violation",Ct}else if(typeof console<"u"){var Pr=Le+":"+Oe;!ee[Pr]&&ye<3&&(x("You are manually calling a React.PropTypes validation function for the `"+Be+"` prop on `"+Le+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ee[Pr]=!0,ye++)}}return Ie[Oe]==null?Ae?Ie[Oe]===null?new I("The "+Ye+" `"+Be+"` is marked as required "+("in `"+Le+"`, but its value is `null`.")):new I("The "+Ye+" `"+Be+"` is marked as required in "+("`"+Le+"`, but its value is `undefined`.")):null:K(Ie,Oe,Le,Ye,Be)}var Se=de.bind(null,!1);return Se.isRequired=de.bind(null,!0),Se}function z(K){function ee(ye,de,Se,Ae,Ie,Oe){var Le=ye[de],Ye=we(Le);if(Ye!==K){var Be=Re(Le);return new I("Invalid "+Ae+" `"+Ie+"` of type "+("`"+Be+"` supplied to `"+Se+"`, expected ")+("`"+K+"`."),{expectedType:K})}return null}return U(ee)}function B(){return U(T)}function R(K){function ee(ye,de,Se,Ae,Ie){if(typeof K!="function")return new I("Property `"+Ie+"` of component `"+Se+"` has invalid PropType notation inside arrayOf.");var Oe=ye[de];if(!Array.isArray(Oe)){var Le=we(Oe);return new I("Invalid "+Ae+" `"+Ie+"` of type "+("`"+Le+"` supplied to `"+Se+"`, expected an array."))}for(var Ye=0;Ye<Oe.length;Ye++){var Be=K(Oe,Ye,Se,Ae,Ie+"["+Ye+"]",m);if(Be instanceof Error)return Be}return null}return U(ee)}function L(){function K(ee,ye,de,Se,Ae){var Ie=ee[ye];if(!w(Ie)){var Oe=we(Ie);return new I("Invalid "+Se+" `"+Ae+"` of type "+("`"+Oe+"` supplied to `"+de+"`, expected a single ReactElement."))}return null}return U(K)}function W(){function K(ee,ye,de,Se,Ae){var Ie=ee[ye];if(!d.isValidElementType(Ie)){var Oe=we(Ie);return new I("Invalid "+Se+" `"+Ae+"` of type "+("`"+Oe+"` supplied to `"+de+"`, expected a single ReactElement type."))}return null}return U(K)}function $(K){function ee(ye,de,Se,Ae,Ie){if(!(ye[de]instanceof K)){var Oe=K.name||D,Le=Qe(ye[de]);return new I("Invalid "+Ae+" `"+Ie+"` of type "+("`"+Le+"` supplied to `"+Se+"`, expected ")+("instance of `"+Oe+"`."))}return null}return U(ee)}function X(K){if(!Array.isArray(K))return arguments.length>1?x("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):x("Invalid argument supplied to oneOf, expected an array."),T;function ee(ye,de,Se,Ae,Ie){for(var Oe=ye[de],Le=0;Le<K.length;Le++)if(O(Oe,K[Le]))return null;var Ye=JSON.stringify(K,function(fe,Ct){var Pr=Re(Ct);return Pr==="symbol"?String(Ct):Ct});return new I("Invalid "+Ae+" `"+Ie+"` of value `"+String(Oe)+"` "+("supplied to `"+Se+"`, expected one of "+Ye+"."))}return U(ee)}function k(K){function ee(ye,de,Se,Ae,Ie){if(typeof K!="function")return new I("Property `"+Ie+"` of component `"+Se+"` has invalid PropType notation inside objectOf.");var Oe=ye[de],Le=we(Oe);if(Le!=="object")return new I("Invalid "+Ae+" `"+Ie+"` of type "+("`"+Le+"` supplied to `"+Se+"`, expected an object."));for(var Ye in Oe)if(y(Oe,Ye)){var Be=K(Oe,Ye,Se,Ae,Ie+"."+Ye,m);if(Be instanceof Error)return Be}return null}return U(ee)}function G(K){if(!Array.isArray(K))return x("Invalid argument supplied to oneOfType, expected an instance of array."),T;for(var ee=0;ee<K.length;ee++){var ye=K[ee];if(typeof ye!="function")return x("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+He(ye)+" at index "+ee+"."),T}function de(Se,Ae,Ie,Oe,Le){for(var Ye=[],Be=0;Be<K.length;Be++){var fe=K[Be],Ct=fe(Se,Ae,Ie,Oe,Le,m);if(Ct==null)return null;Ct.data&&y(Ct.data,"expectedType")&&Ye.push(Ct.data.expectedType)}var Pr=Ye.length>0?", expected one of type ["+Ye.join(", ")+"]":"";return new I("Invalid "+Oe+" `"+Le+"` supplied to "+("`"+Ie+"`"+Pr+"."))}return U(de)}function F(){function K(ee,ye,de,Se,Ae){return ge(ee[ye])?null:new I("Invalid "+Se+" `"+Ae+"` supplied to "+("`"+de+"`, expected a ReactNode."))}return U(K)}function te(K,ee,ye,de,Se){return new I((K||"React class")+": "+ee+" type `"+ye+"."+de+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+Se+"`.")}function ae(K){function ee(ye,de,Se,Ae,Ie){var Oe=ye[de],Le=we(Oe);if(Le!=="object")return new I("Invalid "+Ae+" `"+Ie+"` of type `"+Le+"` "+("supplied to `"+Se+"`, expected `object`."));for(var Ye in K){var Be=K[Ye];if(typeof Be!="function")return te(Se,Ae,Ie,Ye,Re(Be));var fe=Be(Oe,Ye,Se,Ae,Ie+"."+Ye,m);if(fe)return fe}return null}return U(ee)}function Pe(K){function ee(ye,de,Se,Ae,Ie){var Oe=ye[de],Le=we(Oe);if(Le!=="object")return new I("Invalid "+Ae+" `"+Ie+"` of type `"+Le+"` "+("supplied to `"+Se+"`, expected `object`."));var Ye=p({},ye[de],K);for(var Be in Ye){var fe=K[Be];if(y(K,Be)&&typeof fe!="function")return te(Se,Ae,Ie,Be,Re(fe));if(!fe)return new I("Invalid "+Ae+" `"+Ie+"` key `"+Be+"` supplied to `"+Se+"`.\nBad object: "+JSON.stringify(ye[de],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(K),null,"  "));var Ct=fe(Oe,Be,Se,Ae,Ie+"."+Be,m);if(Ct)return Ct}return null}return U(ee)}function ge(K){switch(typeof K){case"number":case"string":case"undefined":return!0;case"boolean":return!K;case"object":if(Array.isArray(K))return K.every(ge);if(K===null||w(K))return!0;var ee=A(K);if(ee){var ye=ee.call(K),de;if(ee!==K.entries){for(;!(de=ye.next()).done;)if(!ge(de.value))return!1}else for(;!(de=ye.next()).done;){var Se=de.value;if(Se&&!ge(Se[1]))return!1}}else return!1;return!0;default:return!1}}function Me(K,ee){return K==="symbol"?!0:ee?ee["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ee instanceof Symbol:!1}function we(K){var ee=typeof K;return Array.isArray(K)?"array":K instanceof RegExp?"object":Me(ee,K)?"symbol":ee}function Re(K){if(typeof K>"u"||K===null)return""+K;var ee=we(K);if(ee==="object"){if(K instanceof Date)return"date";if(K instanceof RegExp)return"regexp"}return ee}function He(K){var ee=Re(K);switch(ee){case"array":case"object":return"an "+ee;case"boolean":case"date":case"regexp":return"a "+ee;default:return ee}}function Qe(K){return!K.constructor||!K.constructor.name?D:K.constructor.name}return M.checkPropTypes=v,M.resetWarningCache=v.resetWarningCache,M.PropTypes=M,M}},"./node_modules/prop-types/index.js":(l,c,h)=>{{var d=h("./node_modules/react-is/index.js"),p=!0;l.exports=h("./node_modules/prop-types/factoryWithTypeCheckers.js")(d.isElement,p)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":l=>{var c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";l.exports=c},"./node_modules/prop-types/lib/has.js":l=>{l.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(l,c)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var h=typeof Symbol=="function"&&Symbol.for,d=h?Symbol.for("react.element"):60103,p=h?Symbol.for("react.portal"):60106,m=h?Symbol.for("react.fragment"):60107,y=h?Symbol.for("react.strict_mode"):60108,v=h?Symbol.for("react.profiler"):60114,x=h?Symbol.for("react.provider"):60109,T=h?Symbol.for("react.context"):60110,w=h?Symbol.for("react.async_mode"):60111,b=h?Symbol.for("react.concurrent_mode"):60111,E=h?Symbol.for("react.forward_ref"):60112,C=h?Symbol.for("react.suspense"):60113,A=h?Symbol.for("react.suspense_list"):60120,D=h?Symbol.for("react.memo"):60115,M=h?Symbol.for("react.lazy"):60116,O=h?Symbol.for("react.block"):60121,I=h?Symbol.for("react.fundamental"):60117,U=h?Symbol.for("react.responder"):60118,z=h?Symbol.for("react.scope"):60119;function B(fe){return typeof fe=="string"||typeof fe=="function"||fe===m||fe===b||fe===v||fe===y||fe===C||fe===A||typeof fe=="object"&&fe!==null&&(fe.$$typeof===M||fe.$$typeof===D||fe.$$typeof===x||fe.$$typeof===T||fe.$$typeof===E||fe.$$typeof===I||fe.$$typeof===U||fe.$$typeof===z||fe.$$typeof===O)}function R(fe){if(typeof fe=="object"&&fe!==null){var Ct=fe.$$typeof;switch(Ct){case d:var Pr=fe.type;switch(Pr){case w:case b:case m:case v:case y:case C:return Pr;default:var Oi=Pr&&Pr.$$typeof;switch(Oi){case T:case E:case M:case D:case x:return Oi;default:return Ct}}case p:return Ct}}}var L=w,W=b,$=T,X=x,k=d,G=E,F=m,te=M,ae=D,Pe=p,ge=v,Me=y,we=C,Re=!1;function He(fe){return Re||(Re=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Qe(fe)||R(fe)===w}function Qe(fe){return R(fe)===b}function K(fe){return R(fe)===T}function ee(fe){return R(fe)===x}function ye(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===d}function de(fe){return R(fe)===E}function Se(fe){return R(fe)===m}function Ae(fe){return R(fe)===M}function Ie(fe){return R(fe)===D}function Oe(fe){return R(fe)===p}function Le(fe){return R(fe)===v}function Ye(fe){return R(fe)===y}function Be(fe){return R(fe)===C}c.AsyncMode=L,c.ConcurrentMode=W,c.ContextConsumer=$,c.ContextProvider=X,c.Element=k,c.ForwardRef=G,c.Fragment=F,c.Lazy=te,c.Memo=ae,c.Portal=Pe,c.Profiler=ge,c.StrictMode=Me,c.Suspense=we,c.isAsyncMode=He,c.isConcurrentMode=Qe,c.isContextConsumer=K,c.isContextProvider=ee,c.isElement=ye,c.isForwardRef=de,c.isFragment=Se,c.isLazy=Ae,c.isMemo=Ie,c.isPortal=Oe,c.isProfiler=Le,c.isStrictMode=Ye,c.isSuspense=Be,c.isValidElementType=B,c.typeOf=R})()},"./node_modules/react-is/index.js":(l,c,h)=>{l.exports=h("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(l,c,h)=>{h.r(c),h.d(c,{shallowEqualArrays:()=>p,shallowEqualObjects:()=>d});function d(m,y){if(m===y)return!0;if(!m||!y)return!1;var v=Object.keys(m),x=Object.keys(y),T=v.length;if(x.length!==T)return!1;for(var w=0;w<T;w++){var b=v[w];if(m[b]!==y[b]||!Object.prototype.hasOwnProperty.call(y,b))return!1}return!0}function p(m,y){if(m===y)return!0;if(!m||!y)return!1;var v=m.length;if(y.length!==v)return!1;for(var x=0;x<v;x++)if(m[x]!==y[x])return!1;return!0}},"./src/Component.ts":function(l,c,h){var d=this&&this.__rest||function(v,x){var T={};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&x.indexOf(w)<0&&(T[w]=v[w]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,w=Object.getOwnPropertySymbols(v);b<w.length;b++)x.indexOf(w[b])<0&&Object.prototype.propertyIsEnumerable.call(v,w[b])&&(T[w[b]]=v[w[b]]);return T},p=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(c,"__esModule",{value:!0});var m=p(h("./src/useMediaQuery.ts")),y=function(v){var x=v.children,T=v.device,w=v.onChange,b=d(v,["children","device","onChange"]),E=(0,m.default)(b,T,w);return typeof x=="function"?x(E):E?x:null};c.default=y},"./src/Context.ts":(l,c,h)=>{Object.defineProperty(c,"__esModule",{value:!0});var d=h("react"),p=(0,d.createContext)(void 0);c.default=p},"./src/index.ts":function(l,c,h){var d=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(c,"__esModule",{value:!0}),c.Context=c.toQuery=c.useMediaQuery=c.default=void 0;var p=d(h("./src/useMediaQuery.ts"));c.useMediaQuery=p.default;var m=d(h("./src/Component.ts"));c.default=m.default;var y=d(h("./src/toQuery.ts"));c.toQuery=y.default;var v=d(h("./src/Context.ts"));c.Context=v.default},"./src/mediaQuery.ts":function(l,c,h){var d=this&&this.__assign||function(){return d=Object.assign||function(C){for(var A,D=1,M=arguments.length;D<M;D++){A=arguments[D];for(var O in A)Object.prototype.hasOwnProperty.call(A,O)&&(C[O]=A[O])}return C},d.apply(this,arguments)},p=this&&this.__rest||function(C,A){var D={};for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&A.indexOf(M)<0&&(D[M]=C[M]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,M=Object.getOwnPropertySymbols(C);O<M.length;O++)A.indexOf(M[O])<0&&Object.prototype.propertyIsEnumerable.call(C,M[O])&&(D[M[O]]=C[M[O]]);return D},m=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(c,"__esModule",{value:!0});var y=m(h("./node_modules/prop-types/index.js")),v=y.default.oneOfType([y.default.string,y.default.number]),x={all:y.default.bool,grid:y.default.bool,aural:y.default.bool,braille:y.default.bool,handheld:y.default.bool,print:y.default.bool,projection:y.default.bool,screen:y.default.bool,tty:y.default.bool,tv:y.default.bool,embossed:y.default.bool},T={orientation:y.default.oneOf(["portrait","landscape"]),scan:y.default.oneOf(["progressive","interlace"]),aspectRatio:y.default.string,deviceAspectRatio:y.default.string,height:v,deviceHeight:v,width:v,deviceWidth:v,color:y.default.bool,colorIndex:y.default.bool,monochrome:y.default.bool,resolution:v,type:Object.keys(x)};T.type;var w=p(T,["type"]),b=d({minAspectRatio:y.default.string,maxAspectRatio:y.default.string,minDeviceAspectRatio:y.default.string,maxDeviceAspectRatio:y.default.string,minHeight:v,maxHeight:v,minDeviceHeight:v,maxDeviceHeight:v,minWidth:v,maxWidth:v,minDeviceWidth:v,maxDeviceWidth:v,minColor:y.default.number,maxColor:y.default.number,minColorIndex:y.default.number,maxColorIndex:y.default.number,minMonochrome:y.default.number,maxMonochrome:y.default.number,minResolution:v,maxResolution:v},w),E=d(d({},x),b);c.default={all:E,types:x,matchers:T,features:b}},"./src/toQuery.ts":function(l,c,h){var d=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(c,"__esModule",{value:!0});var p=d(h("./node_modules/hyphenate-style-name/index.js")),m=d(h("./src/mediaQuery.ts")),y=function(w){return"not ".concat(w)},v=function(w,b){var E=(0,p.default)(w);return typeof b=="number"&&(b="".concat(b,"px")),b===!0?E:b===!1?y(E):"(".concat(E,": ").concat(b,")")},x=function(w){return w.join(" and ")},T=function(w){var b=[];return Object.keys(m.default.all).forEach(function(E){var C=w[E];C!=null&&b.push(v(E,C))}),x(b)};c.default=T},"./src/useMediaQuery.ts":function(l,c,h){var d=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(c,"__esModule",{value:!0});var p=h("react"),m=d(h("./node_modules/matchmediaquery/index.js")),y=d(h("./node_modules/hyphenate-style-name/index.js")),v=h("./node_modules/shallow-equal/dist/index.esm.js"),x=d(h("./src/toQuery.ts")),T=d(h("./src/Context.ts")),w=function(I){return I.query||(0,x.default)(I)},b=function(I){if(I){var U=Object.keys(I);return U.reduce(function(z,B){return z[(0,y.default)(B)]=I[B],z},{})}},E=function(){var I=(0,p.useRef)(!1);return(0,p.useEffect)(function(){I.current=!0},[]),I.current},C=function(I){var U=(0,p.useContext)(T.default),z=function(){return b(I)||b(U)},B=(0,p.useState)(z),R=B[0],L=B[1];return(0,p.useEffect)(function(){var W=z();(0,v.shallowEqualObjects)(R,W)||L(W)},[I,U]),R},A=function(I){var U=function(){return w(I)},z=(0,p.useState)(U),B=z[0],R=z[1];return(0,p.useEffect)(function(){var L=U();B!==L&&R(L)},[I]),B},D=function(I,U){var z=function(){return(0,m.default)(I,U||{},!!U)},B=(0,p.useState)(z),R=B[0],L=B[1],W=E();return(0,p.useEffect)(function(){if(W){var $=z();return L($),function(){$&&$.dispose()}}},[I,U]),R},M=function(I){var U=(0,p.useState)(I.matches),z=U[0],B=U[1];return(0,p.useEffect)(function(){var R=function(L){B(L.matches)};return I.addListener(R),B(I.matches),function(){I.removeListener(R)}},[I]),z},O=function(I,U,z){var B=C(U),R=A(I);if(!R)throw new Error("Invalid or missing MediaQuery!");var L=D(R,B),W=M(L),$=E();return(0,p.useEffect)(function(){$&&z&&z(W)},[W]),(0,p.useEffect)(function(){return function(){L&&L.dispose()}},[]),W};c.default=O},react:l=>{l.exports=r}},i={};function s(l){var c=i[l];if(c!==void 0)return c.exports;var h=i[l]={exports:{}};return n[l].call(h.exports,h,h.exports,s),h.exports}s.d=(l,c)=>{for(var h in c)s.o(c,h)&&!s.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:c[h]})},s.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c),s.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o=s("./src/index.ts");return o})())})(i2);var LN=i2.exports,s2={},o2={},Ny={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r){if(r=`${r}`,r==="0")return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(r))return r.replace(/^[+-]?/,i=>i==="-"?"":"-");let n=["var","calc","min","max","clamp"];for(const i of n)if(r.includes(`${i}(`))return`calc(${r} * -1)`}})(Ny);var a2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});const e=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","content"]})(a2);var l2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r,n){return r===void 0?n:Array.isArray(r)?r:[...new Set(n.filter(s=>r!==!1&&r[s]!==!1).concat(Object.keys(r).filter(s=>r[s]!==!1)))]}})(l2);var u2={},qd={},Ly={exports:{}},rt=String,c2=function(){return{isColorSupported:!1,reset:rt,bold:rt,dim:rt,italic:rt,underline:rt,inverse:rt,hidden:rt,strikethrough:rt,black:rt,red:rt,green:rt,yellow:rt,blue:rt,magenta:rt,cyan:rt,white:rt,gray:rt,bgBlack:rt,bgRed:rt,bgGreen:rt,bgYellow:rt,bgBlue:rt,bgMagenta:rt,bgCyan:rt,bgWhite:rt}};Ly.exports=c2();Ly.exports.createColors=c2;var h2=Ly.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(c,h){for(var d in h)Object.defineProperty(c,d,{enumerable:!0,get:h[d]})}e(t,{dim:function(){return o},default:function(){return l}});const r=n(h2);function n(c){return c&&c.__esModule?c:{default:c}}let i=new Set;function s(c,h,d){typeof process<"u"&&{}.JEST_WORKER_ID||d&&i.has(d)||(d&&i.add(d),console.warn(""),h.forEach(p=>console.warn(c,"-",p)))}function o(c){return r.default.dim(c)}const l={info(c,h){s(r.default.bold(r.default.cyan("info")),...Array.isArray(c)?[c]:[h,c])},warn(c,h){s(r.default.bold(r.default.yellow("warn")),...Array.isArray(c)?[c]:[h,c])},risk(c,h){s(r.default.bold(r.default.magenta("risk")),...Array.isArray(c)?[c]:[h,c])}}})(qd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=r(qd);function r(s){return s&&s.__esModule?s:{default:s}}function n({version:s,from:o,to:l}){e.default.warn(`${o}-color-renamed`,[`As of Tailwind CSS ${s}, \`${o}\` has been renamed to \`${l}\`.`,"Update your configuration file to silence this warning."])}const i={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(u2);var d2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaults",{enumerable:!0,get:function(){return e}});function e(r,...n){for(let o of n){for(let l in o){var i;!(r==null||(i=r.hasOwnProperty)===null||i===void 0)&&i.call(r,l)||(r[l]=o[l])}for(let l of Object.getOwnPropertySymbols(o)){var s;!(r==null||(s=r.hasOwnProperty)===null||s===void 0)&&s.call(r,l)||(r[l]=o[l])}}return r}})(d2);var f2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"toPath",{enumerable:!0,get:function(){return e}});function e(r){if(Array.isArray(r))return r;let n=r.split("[").length-1,i=r.split("]").length-1;if(n!==i)throw new Error(`Path is invalid. Has unbalanced brackets: ${r}`);return r.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}})(f2);var p2={},Zd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(p,m){for(var y in m)Object.defineProperty(p,y,{enumerable:!0,get:m[y]})}e(t,{flagEnabled:function(){return l},issueFlagNotices:function(){return h},default:function(){return d}});const r=i(h2),n=i(qd);function i(p){return p&&p.__esModule?p:{default:p}}let s={optimizeUniversalDefaults:!1,generalizedModifiers:!0,get disableColorOpacityUtilitiesByDefault(){return!1},get relativeContentPathsByDefault(){return!1}},o={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]};function l(p,m){if(o.future.includes(m)){var y,v,x;return p.future==="all"||((x=(v=p==null||(y=p.future)===null||y===void 0?void 0:y[m])!==null&&v!==void 0?v:s[m])!==null&&x!==void 0?x:!1)}if(o.experimental.includes(m)){var T,w,b;return p.experimental==="all"||((b=(w=p==null||(T=p.experimental)===null||T===void 0?void 0:T[m])!==null&&w!==void 0?w:s[m])!==null&&b!==void 0?b:!1)}return!1}function c(p){if(p.experimental==="all")return o.experimental;var m;return Object.keys((m=p==null?void 0:p.experimental)!==null&&m!==void 0?m:{}).filter(y=>o.experimental.includes(y)&&p.experimental[y])}function h(p){if({}.JEST_WORKER_ID===void 0&&c(p).length>0){let m=c(p).map(y=>r.default.yellow(y)).join(", ");n.default.warn("experimental-flags-enabled",[`You have enabled experimental features: ${m}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}const d=o})(Zd);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeConfig",{enumerable:!0,get:function(){return s}});const e=Zd,r=i(qd);function n(o){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(n=function(h){return h?c:l})(o)}function i(o,l){if(!l&&o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var c=n(l);if(c&&c.has(o))return c.get(o);var h={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in o)if(p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)){var m=d?Object.getOwnPropertyDescriptor(o,p):null;m&&(m.get||m.set)?Object.defineProperty(h,p,m):h[p]=o[p]}return h.default=o,c&&c.set(o,h),h}function s(o){if((()=>{if(o.purge||!o.content||!Array.isArray(o.content)&&!(typeof o.content=="object"&&o.content!==null))return!1;if(Array.isArray(o.content))return o.content.every(h=>typeof h=="string"?!0:!(typeof(h==null?void 0:h.raw)!="string"||h!=null&&h.extension&&typeof(h==null?void 0:h.extension)!="string"));if(typeof o.content=="object"&&o.content!==null){if(Object.keys(o.content).some(h=>!["files","relative","extract","transform"].includes(h)))return!1;if(Array.isArray(o.content.files)){if(!o.content.files.every(h=>typeof h=="string"?!0:!(typeof(h==null?void 0:h.raw)!="string"||h!=null&&h.extension&&typeof(h==null?void 0:h.extension)!="string")))return!1;if(typeof o.content.extract=="object"){for(let h of Object.values(o.content.extract))if(typeof h!="function")return!1}else if(!(o.content.extract===void 0||typeof o.content.extract=="function"))return!1;if(typeof o.content.transform=="object"){for(let h of Object.values(o.content.transform))if(typeof h!="function")return!1}else if(!(o.content.transform===void 0||typeof o.content.transform=="function"))return!1;if(typeof o.content.relative!="boolean"&&typeof o.content.relative<"u")return!1}return!0}return!1})()||r.default.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),o.safelist=(()=>{var h;let{content:d,purge:p,safelist:m}=o;return Array.isArray(m)?m:Array.isArray(d==null?void 0:d.safelist)?d.safelist:Array.isArray(p==null?void 0:p.safelist)?p.safelist:Array.isArray(p==null||(h=p.options)===null||h===void 0?void 0:h.safelist)?p.options.safelist:[]})(),o.blocklist=(()=>{let{blocklist:h}=o;if(Array.isArray(h)){if(h.every(d=>typeof d=="string"))return h;r.default.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),typeof o.prefix=="function")r.default.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),o.prefix="";else{var c;o.prefix=(c=o.prefix)!==null&&c!==void 0?c:""}o.content={relative:(()=>{let{content:h}=o;return h!=null&&h.relative?h.relative:(0,e.flagEnabled)(o,"relativeContentPathsByDefault")})(),files:(()=>{let{content:h,purge:d}=o;return Array.isArray(d)?d:Array.isArray(d==null?void 0:d.content)?d.content:Array.isArray(h)?h:Array.isArray(h==null?void 0:h.content)?h.content:Array.isArray(h==null?void 0:h.files)?h.files:[]})(),extract:(()=>{let h=(()=>{var m,y,v,x,T,w,b,E,C,A;return!((m=o.purge)===null||m===void 0)&&m.extract?o.purge.extract:!((y=o.content)===null||y===void 0)&&y.extract?o.content.extract:!((v=o.purge)===null||v===void 0||(x=v.extract)===null||x===void 0)&&x.DEFAULT?o.purge.extract.DEFAULT:!((T=o.content)===null||T===void 0||(w=T.extract)===null||w===void 0)&&w.DEFAULT?o.content.extract.DEFAULT:!((b=o.purge)===null||b===void 0||(E=b.options)===null||E===void 0)&&E.extractors?o.purge.options.extractors:!((C=o.content)===null||C===void 0||(A=C.options)===null||A===void 0)&&A.extractors?o.content.options.extractors:{}})(),d={},p=(()=>{var m,y,v,x;if(!((m=o.purge)===null||m===void 0||(y=m.options)===null||y===void 0)&&y.defaultExtractor)return o.purge.options.defaultExtractor;if(!((v=o.content)===null||v===void 0||(x=v.options)===null||x===void 0)&&x.defaultExtractor)return o.content.options.defaultExtractor})();if(p!==void 0&&(d.DEFAULT=p),typeof h=="function")d.DEFAULT=h;else if(Array.isArray(h))for(let{extensions:m,extractor:y}of h??[])for(let v of m)d[v]=y;else typeof h=="object"&&h!==null&&Object.assign(d,h);return d})(),transform:(()=>{let h=(()=>{var p,m,y,v,x,T;return!((p=o.purge)===null||p===void 0)&&p.transform?o.purge.transform:!((m=o.content)===null||m===void 0)&&m.transform?o.content.transform:!((y=o.purge)===null||y===void 0||(v=y.transform)===null||v===void 0)&&v.DEFAULT?o.purge.transform.DEFAULT:!((x=o.content)===null||x===void 0||(T=x.transform)===null||T===void 0)&&T.DEFAULT?o.content.transform.DEFAULT:{}})(),d={};return typeof h=="function"&&(d.DEFAULT=h),typeof h=="object"&&h!==null&&Object.assign(d,h),d})()};for(let h of o.content.files)if(typeof h=="string"&&/{([^,]*?)}/g.test(h)){r.default.warn("invalid-glob-braces",[`The glob pattern ${(0,r.dim)(h)} in your Tailwind CSS configuration is invalid.`,`Update it to ${(0,r.dim)(h.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return o}})(p2);var m2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;const n=Object.getPrototypeOf(r);return n===null||Object.getPrototypeOf(n)===null}})(m2);var g2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return e}});function e(r){return Array.isArray(r)?r.map(n=>e(n)):typeof r=="object"&&r!==null?Object.fromEntries(Object.entries(r).map(([n,i])=>[n,e(i)])):r}})(g2);var y2={},v2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r){return r.replace(/\\,/g,"\\2c ")}})(v2);var Fy={},By={},_2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});const e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}})(_2);(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(v,x){for(var T in x)Object.defineProperty(v,T,{enumerable:!0,get:x[T]})}e(t,{parseColor:function(){return m},formatColor:function(){return y}});const r=n(_2);function n(v){return v&&v.__esModule?v:{default:v}}let i=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,o=/(?:\d+|\d*\.\d+)%?/,l=/(?:\s*,\s*|\s+)/,c=/\s*[,/]\s*/,h=/var\(--(?:[^ )]*?)(?:,(?:[^ )]*?|var\(--[^ )]*?\)))?\)/,d=new RegExp(`^(rgba?)\\(\\s*(${o.source}|${h.source})(?:${l.source}(${o.source}|${h.source}))?(?:${l.source}(${o.source}|${h.source}))?(?:${c.source}(${o.source}|${h.source}))?\\s*\\)$`),p=new RegExp(`^(hsla?)\\(\\s*((?:${o.source})(?:deg|rad|grad|turn)?|${h.source})(?:${l.source}(${o.source}|${h.source}))?(?:${l.source}(${o.source}|${h.source}))?(?:${c.source}(${o.source}|${h.source}))?\\s*\\)$`);function m(v,{loose:x=!1}={}){var T,w;if(typeof v!="string")return null;if(v=v.trim(),v==="transparent")return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(v in r.default)return{mode:"rgb",color:r.default[v].map(D=>D.toString())};let b=v.replace(s,(D,M,O,I,U)=>["#",M,M,O,O,I,I,U?U+U:""].join("")).match(i);if(b!==null)return{mode:"rgb",color:[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)].map(D=>D.toString()),alpha:b[4]?(parseInt(b[4],16)/255).toString():void 0};var E;let C=(E=v.match(d))!==null&&E!==void 0?E:v.match(p);if(C===null)return null;let A=[C[2],C[3],C[4]].filter(Boolean).map(D=>D.toString());return A.length===2&&A[0].startsWith("var(")?{mode:C[1],color:[A[0]],alpha:A[1]}:!x&&A.length!==3||A.length<3&&!A.some(D=>/^var\(.*?\)$/.test(D))?null:{mode:C[1],color:A,alpha:(T=C[5])===null||T===void 0||(w=T.toString)===null||w===void 0?void 0:w.call(T)}}function y({mode:v,color:x,alpha:T}){let w=T!==void 0;return v==="rgba"||v==="hsla"?`${v}(${x.join(", ")}${w?`, ${T}`:""})`:`${v}(${x.join(" ")}${w?` / ${T}`:""})`}})(By);(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(s,o){for(var l in o)Object.defineProperty(s,l,{enumerable:!0,get:o[l]})}e(t,{withAlphaValue:function(){return n},default:function(){return i}});const r=By;function n(s,o,l){if(typeof s=="function")return s({opacityValue:o});let c=(0,r.parseColor)(s,{loose:!0});return c===null?l:(0,r.formatColor)({...c,alpha:o})}function i({color:s,property:o,variable:l}){let c=[].concat(o);if(typeof s=="function")return{[l]:"1",...Object.fromEntries(c.map(d=>[d,s({opacityVariable:l,opacityValue:`var(${l})`})]))};const h=(0,r.parseColor)(s);return h===null?Object.fromEntries(c.map(d=>[d,s])):h.alpha!==void 0?Object.fromEntries(c.map(d=>[d,s])):{[l]:"1",...Object.fromEntries(c.map(d=>[d,(0,r.formatColor)({...h,alpha:`var(${l})`})]))}}})(Fy);var Uy={},x2={},Jd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"splitAtTopLevelOnly",{enumerable:!0,get:function(){return e}});function e(r,n){let i=[],s=[],o=0,l=!1;for(let c=0;c<r.length;c++){let h=r[c];i.length===0&&h===n[0]&&!l&&(n.length===1||r.slice(c,c+n.length)===n)&&(s.push(r.slice(o,c)),o=c+n.length),l?l=!1:h==="\\"&&(l=!0),h==="("||h==="["||h==="{"?i.push(h):(h===")"&&i[i.length-1]==="("||h==="]"&&i[i.length-1]==="["||h==="}"&&i[i.length-1]==="{")&&i.pop()}return s.push(r.slice(o)),s}})(Jd);(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(c,h){for(var d in h)Object.defineProperty(c,d,{enumerable:!0,get:h[d]})}e(t,{parseBoxShadowValue:function(){return o},formatBoxShadowValue:function(){return l}});const r=Jd;let n=new Set(["inset","inherit","initial","revert","unset"]),i=/\ +(?![^(]*\))/g,s=/^-?(\d+|\.\d+)(.*?)$/g;function o(c){return(0,r.splitAtTopLevelOnly)(c,",").map(d=>{let p=d.trim(),m={raw:p},y=p.split(i),v=new Set;for(let x of y)s.lastIndex=0,!v.has("KEYWORD")&&n.has(x)?(m.keyword=x,v.add("KEYWORD")):s.test(x)?v.has("X")?v.has("Y")?v.has("BLUR")?v.has("SPREAD")||(m.spread=x,v.add("SPREAD")):(m.blur=x,v.add("BLUR")):(m.y=x,v.add("Y")):(m.x=x,v.add("X")):m.color?(m.unknown||(m.unknown=[]),m.unknown.push(x)):m.color=x;return m.valid=m.x!==void 0&&m.y!==void 0,m})}function l(c){return c.map(h=>h.valid?[h.keyword,h.x,h.y,h.blur,h.spread,h.color].filter(Boolean).join(" "):h.raw).join(", ")}})(x2);(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e($,X){for(var k in X)Object.defineProperty($,k,{enumerable:!0,get:X[k]})}e(t,{normalize:function(){return c},url:function(){return d},number:function(){return p},percentage:function(){return m},length:function(){return x},lineWidth:function(){return w},shadow:function(){return b},color:function(){return E},image:function(){return C},gradient:function(){return D},position:function(){return O},familyName:function(){return I},genericName:function(){return z},absoluteSize:function(){return R},relativeSize:function(){return W}});const r=By,n=x2,i=Jd;let s=["min","max","clamp","calc"];function o($){return s.some(X=>new RegExp(`^${X}\\(.*\\)`).test($))}const l=new Set(["scroll-timeline-name","timeline-scope","view-timeline-name","font-palette","scroll-timeline","animation-timeline","view-timeline"]);function c($,X=null,k=!0){let G=X&&l.has(X.property);return $.startsWith("--")&&!G?`var(${$})`:$.includes("url(")?$.split(/(url\(.*?\))/g).filter(Boolean).map(F=>/^url\(.*?\)$/.test(F)?F:c(F,X,!1)).join(""):($=$.replace(/([^\\])_+/g,(F,te)=>te+" ".repeat(F.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),k&&($=$.trim()),$=h($),$)}function h($){let X=["theme"],k=["min-content","max-content","fit-content","safe-area-inset-top","safe-area-inset-right","safe-area-inset-bottom","safe-area-inset-left","titlebar-area-x","titlebar-area-y","titlebar-area-width","titlebar-area-height","keyboard-inset-top","keyboard-inset-right","keyboard-inset-bottom","keyboard-inset-left","keyboard-inset-width","keyboard-inset-height"];return $.replace(/(calc|min|max|clamp)\(.+\)/g,G=>{let F="";function te(){let ge=F.trimEnd();return ge[ge.length-1]}for(let ge=0;ge<G.length;ge++){let Me=function(He){return He.split("").every((Qe,K)=>G[ge+K]===Qe)},we=function(He){let Qe=1/0;for(let ee of He){let ye=G.indexOf(ee,ge);ye!==-1&&ye<Qe&&(Qe=ye)}let K=G.slice(ge,Qe);return ge+=K.length-1,K};var ae=Me,Pe=we;let Re=G[ge];if(Me("var"))F+=we([")",","]);else if(k.some(He=>Me(He))){let He=k.find(Qe=>Me(Qe));F+=He,ge+=He.length-1}else X.some(He=>Me(He))?F+=we([")"]):["+","-","*","/"].includes(Re)&&!["(","+","-","*","/"].includes(te())?F+=` ${Re} `:F+=Re}return F.replace(/\s+/g," ")})}function d($){return $.startsWith("url(")}function p($){return!isNaN(Number($))||o($)}function m($){return $.endsWith("%")&&p($.slice(0,-1))||o($)}let v=`(?:${["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","lh","rlh","vw","vh","vmin","vmax","vb","vi","svw","svh","lvw","lvh","dvw","dvh","cqw","cqh","cqi","cqb","cqmin","cqmax"].join("|")})`;function x($){return $==="0"||new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${v}$`).test($)||o($)}let T=new Set(["thin","medium","thick"]);function w($){return T.has($)}function b($){let X=(0,n.parseBoxShadowValue)(c($));for(let k of X)if(!k.valid)return!1;return!0}function E($){let X=0;return(0,i.splitAtTopLevelOnly)($,"_").every(G=>(G=c(G),G.startsWith("var(")?!0:(0,r.parseColor)(G,{loose:!0})!==null?(X++,!0):!1))?X>0:!1}function C($){let X=0;return(0,i.splitAtTopLevelOnly)($,",").every(G=>(G=c(G),G.startsWith("var(")?!0:d(G)||D(G)||["element(","image(","cross-fade(","image-set("].some(F=>G.startsWith(F))?(X++,!0):!1))?X>0:!1}let A=new Set(["conic-gradient","linear-gradient","radial-gradient","repeating-conic-gradient","repeating-linear-gradient","repeating-radial-gradient"]);function D($){$=c($);for(let X of A)if($.startsWith(`${X}(`))return!0;return!1}let M=new Set(["center","top","right","bottom","left"]);function O($){let X=0;return(0,i.splitAtTopLevelOnly)($,"_").every(G=>(G=c(G),G.startsWith("var(")?!0:M.has(G)||x(G)||m(G)?(X++,!0):!1))?X>0:!1}function I($){let X=0;return(0,i.splitAtTopLevelOnly)($,",").every(G=>(G=c(G),G.startsWith("var(")?!0:G.includes(" ")&&!/(['"])([^"']+)\1/g.test(G)||/^\d/g.test(G)?!1:(X++,!0)))?X>0:!1}let U=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);function z($){return U.has($)}let B=new Set(["xx-small","x-small","small","medium","large","x-large","x-large","xxx-large"]);function R($){return B.has($)}let L=new Set(["larger","smaller"]);function W($){return L.has($)}})(Uy);var b2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"backgroundSize",{enumerable:!0,get:function(){return n}});const e=Uy,r=Jd;function n(i){let s=["cover","contain"];return(0,r.splitAtTopLevelOnly)(i,",").every(o=>{let l=(0,r.splitAtTopLevelOnly)(o,"_").filter(Boolean);return l.length===1&&s.includes(l[0])?!0:l.length!==1&&l.length!==2?!1:l.every(c=>(0,e.length)(c)||(0,e.percentage)(c)||c==="auto")})}})(b2);(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(I,U){for(var z in U)Object.defineProperty(I,z,{enumerable:!0,get:U[z]})}e(t,{updateAllClasses:function(){return h},asValue:function(){return m},parseColorFormat:function(){return x},asColor:function(){return w},asLookupValue:function(){return b},typeMap:function(){return C},coerceValue:function(){return M},getMatchingTypes:function(){return O}});const r=c(v2),n=Fy,i=Uy,s=c(Ny),o=b2,l=Zd;function c(I){return I&&I.__esModule?I:{default:I}}function h(I,U){I.walkClasses(z=>{z.value=U(z.value),z.raws&&z.raws.value&&(z.raws.value=(0,r.default)(z.raws.value))})}function d(I,U){if(!y(I))return;let z=I.slice(1,-1);if(U(z))return(0,i.normalize)(z)}function p(I,U={},z){let B=U[I];if(B!==void 0)return(0,s.default)(B);if(y(I)){let R=d(I,z);return R===void 0?void 0:(0,s.default)(R)}}function m(I,U={},{validate:z=()=>!0}={}){var B;let R=(B=U.values)===null||B===void 0?void 0:B[I];return R!==void 0?R:U.supportsNegativeValues&&I.startsWith("-")?p(I.slice(1),U.values,z):d(I,z)}function y(I){return I.startsWith("[")&&I.endsWith("]")}function v(I){let U=I.lastIndexOf("/");return U===-1||U===I.length-1?[I,void 0]:y(I)&&!I.includes("]/[")?[I,void 0]:[I.slice(0,U),I.slice(U+1)]}function x(I){if(typeof I=="string"&&I.includes("<alpha-value>")){let U=I;return({opacityValue:z=1})=>U.replace("<alpha-value>",z)}return I}function T(I){return(0,i.normalize)(I.slice(1,-1))}function w(I,U={},{tailwindConfig:z={}}={}){var B;if(((B=U.values)===null||B===void 0?void 0:B[I])!==void 0){var R;return x((R=U.values)===null||R===void 0?void 0:R[I])}let[L,W]=v(I);if(W!==void 0){var $,X,k,G;let F=(G=($=U.values)===null||$===void 0?void 0:$[L])!==null&&G!==void 0?G:y(L)?L.slice(1,-1):void 0;return F===void 0?void 0:(F=x(F),y(W)?(0,n.withAlphaValue)(F,T(W)):((X=z.theme)===null||X===void 0||(k=X.opacity)===null||k===void 0?void 0:k[W])===void 0?void 0:(0,n.withAlphaValue)(F,z.theme.opacity[W]))}return m(I,U,{validate:i.color})}function b(I,U={}){var z;return(z=U.values)===null||z===void 0?void 0:z[I]}function E(I){return(U,z)=>m(U,z,{validate:I})}let C={any:m,color:w,url:E(i.url),image:E(i.image),length:E(i.length),percentage:E(i.percentage),position:E(i.position),lookup:b,"generic-name":E(i.genericName),"family-name":E(i.familyName),number:E(i.number),"line-width":E(i.lineWidth),"absolute-size":E(i.absoluteSize),"relative-size":E(i.relativeSize),shadow:E(i.shadow),size:E(o.backgroundSize)},A=Object.keys(C);function D(I,U){let z=I.indexOf(U);return z===-1?[void 0,I]:[I.slice(0,z),I.slice(z+1)]}function M(I,U,z,B){if(z.values&&U in z.values)for(let{type:L}of I??[]){let W=C[L](U,z,{tailwindConfig:B});if(W!==void 0)return[W,L,null]}if(y(U)){let L=U.slice(1,-1),[W,$]=D(L,":");if(!/^[\w-_]+$/g.test(W))$=L;else if(W!==void 0&&!A.includes(W))return[];if($.length>0&&A.includes(W))return[m(`[${$}]`,z),W,null]}let R=O(I,U,z,B);for(let L of R)return L;return[]}function*O(I,U,z,B){let R=(0,l.flagEnabled)(B,"generalizedModifiers"),[L,W]=v(U);if(R&&z.modifiers!=null&&(z.modifiers==="any"||typeof z.modifiers=="object"&&(W&&y(W)||W in z.modifiers))||(L=U,W=void 0),W!==void 0&&L===""&&(L="DEFAULT"),W!==void 0&&typeof z.modifiers=="object"){var X,k;let G=(k=(X=z.modifiers)===null||X===void 0?void 0:X[W])!==null&&k!==void 0?k:null;G!==null?W=G:y(W)&&(W=T(W))}for(let{type:G}of I??[]){let F=C[G](L,z,{tailwindConfig:B});F!==void 0&&(yield[F,G,W??null])}}})(y2);var w2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r){return typeof r=="function"?r({}):r}})(w2);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return z}});const e=y(Ny),r=y(a2),n=y(l2),i=y(u2),s=d2,o=f2,l=p2,c=y(m2),h=g2,d=y2,p=Fy,m=y(w2);function y(B){return B&&B.__esModule?B:{default:B}}function v(B){return typeof B=="function"}function x(B,...R){let L=R.pop();for(let W of R)for(let $ in W){let X=L(B[$],W[$]);X===void 0?(0,c.default)(B[$])&&(0,c.default)(W[$])?B[$]=x({},B[$],W[$],L):B[$]=W[$]:B[$]=X}return B}const T={colors:i.default,negative(B){return Object.keys(B).filter(R=>B[R]!=="0").reduce((R,L)=>{let W=(0,e.default)(B[L]);return W!==void 0&&(R[`-${L}`]=W),R},{})},breakpoints(B){return Object.keys(B).filter(R=>typeof B[R]=="string").reduce((R,L)=>({...R,[`screen-${L}`]:B[L]}),{})}};function w(B,...R){return v(B)?B(...R):B}function b(B){return B.reduce((R,{extend:L})=>x(R,L,(W,$)=>W===void 0?[$]:Array.isArray(W)?[$,...W]:[$,W]),{})}function E(B){return{...B.reduce((R,L)=>(0,s.defaults)(R,L),{}),extend:b(B)}}function C(B,R){if(Array.isArray(B)&&(0,c.default)(B[0]))return B.concat(R);if(Array.isArray(R)&&(0,c.default)(R[0])&&(0,c.default)(B))return[B,...R];if(Array.isArray(R))return R}function A({extend:B,...R}){return x(R,B,(L,W)=>!v(L)&&!W.some(v)?x({},L,...W,C):($,X)=>x({},...[L,...W].map(k=>w(k,$,X)),C))}function*D(B){let R=(0,o.toPath)(B);if(R.length===0||(yield R,Array.isArray(B)))return;let L=/^(.*?)\s*\/\s*([^/]+)$/,W=B.match(L);if(W!==null){let[,$,X]=W,k=(0,o.toPath)($);k.alpha=X,yield k}}function M(B){const R=(L,W)=>{for(const $ of D(L)){let X=0,k=B;for(;k!=null&&X<$.length;)k=k[$[X++]],k=v(k)&&($.alpha===void 0||X<=$.length-1)?k(R,T):k;if(k!==void 0){if($.alpha!==void 0){let G=(0,d.parseColorFormat)(k);return(0,p.withAlphaValue)(G,$.alpha,(0,m.default)(G))}return(0,c.default)(k)?(0,h.cloneDeep)(k):k}}return W};return Object.assign(R,{theme:R,...T}),Object.keys(B).reduce((L,W)=>(L[W]=v(B[W])?B[W](R,T):B[W],L),{})}function O(B){let R=[];return B.forEach(L=>{R=[...R,L];var W;const $=(W=L==null?void 0:L.plugins)!==null&&W!==void 0?W:[];$.length!==0&&$.forEach(X=>{X.__isOptionsFunction&&(X=X());var k;R=[...R,...O([(k=X==null?void 0:X.config)!==null&&k!==void 0?k:{}])]})}),R}function I(B){return[...B].reduceRight((L,W)=>v(W)?W({corePlugins:L}):(0,n.default)(W,L),r.default)}function U(B){return[...B].reduceRight((L,W)=>[...L,...W],[])}function z(B){let R=[...O(B),{prefix:"",important:!1,separator:":"}];var L,W;return(0,l.normalizeConfig)((0,s.defaults)({theme:M(A(E(R.map($=>(L=$==null?void 0:$.theme)!==null&&L!==void 0?L:{})))),corePlugins:I(R.map($=>$.corePlugins)),plugins:U(B.map($=>(W=$==null?void 0:$.plugins)!==null&&W!==void 0?W:[]))},...R))}})(o2);var E2={},FN={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:t})=>({...t("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:t})=>t("blur"),backdropBrightness:({theme:t})=>t("brightness"),backdropContrast:({theme:t})=>t("contrast"),backdropGrayscale:({theme:t})=>t("grayscale"),backdropHueRotate:({theme:t})=>t("hueRotate"),backdropInvert:({theme:t})=>t("invert"),backdropOpacity:({theme:t})=>t("opacity"),backdropSaturate:({theme:t})=>t("saturate"),backdropSepia:({theme:t})=>t("sepia"),backgroundColor:({theme:t})=>t("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:t})=>t("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"0",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:t})=>({...t("colors"),DEFAULT:t("colors.gray.200","currentColor")}),borderOpacity:({theme:t})=>t("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:t})=>({...t("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:t})=>t("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:t})=>t("colors"),colors:({colors:t})=>({inherit:t.inherit,current:t.current,transparent:t.transparent,black:t.black,white:t.white,slate:t.slate,gray:t.gray,zinc:t.zinc,neutral:t.neutral,stone:t.stone,red:t.red,orange:t.orange,amber:t.amber,yellow:t.yellow,lime:t.lime,green:t.green,emerald:t.emerald,teal:t.teal,cyan:t.cyan,sky:t.sky,blue:t.blue,indigo:t.indigo,violet:t.violet,purple:t.purple,fuchsia:t.fuchsia,pink:t.pink,rose:t.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:t})=>t("borderColor"),divideOpacity:({theme:t})=>t("borderOpacity"),divideWidth:({theme:t})=>t("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:t})=>({none:"none",...t("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:t})=>t("spacing"),gradientColorStops:({theme:t})=>t("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7"},gridTemplateColumns:{none:"none",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))"},height:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:t})=>({auto:"auto",...t("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:t})=>({...t("spacing"),none:"none",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:t,breakpoints:e})=>({none:"none",0:"0rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...e(t("screens"))}),minHeight:{0:"0px",full:"100%",screen:"100vh",min:"min-content",max:"max-content",fit:"fit-content"},minWidth:{0:"0px",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"},objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",20:"0.2",25:"0.25",30:"0.3",40:"0.4",50:"0.5",60:"0.6",70:"0.7",75:"0.75",80:"0.8",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:t})=>t("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:t})=>t("spacing"),placeholderColor:({theme:t})=>t("colors"),placeholderOpacity:({theme:t})=>t("opacity"),ringColor:({theme:t})=>({DEFAULT:t("colors.blue.500","#3b82f6"),...t("colors")}),ringOffsetColor:({theme:t})=>t("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:t})=>({DEFAULT:"0.5",...t("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:t})=>({...t("spacing")}),scrollPadding:({theme:t})=>t("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:t})=>({...t("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:t})=>({none:"none",...t("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:t})=>t("colors"),textDecorationColor:({theme:t})=>t("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:t})=>({...t("spacing")}),textOpacity:({theme:t})=>t("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:t})=>({...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),width:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=n(FN),r=Zd;function n(s){return s&&s.__esModule?s:{default:s}}function i(s){var o;const l=((o=s==null?void 0:s.presets)!==null&&o!==void 0?o:[e.default]).slice().reverse().flatMap(d=>i(d instanceof Function?d():d)),c={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:d})=>({DEFAULT:"#3b82f67f",...d("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},h=Object.keys(c).filter(d=>(0,r.flagEnabled)(s,d)).map(d=>c[d]);return[s,...h,...l]}})(E2);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=n(o2),r=n(E2);function n(s){return s&&s.__esModule?s:{default:s}}function i(...s){let[,...o]=(0,r.default)(s[0]);return(0,e.default)([...s,...o])}})(s2);let Im=s2;var BN=(Im.__esModule?Im:{default:Im}).default;const UN=hu(BN),zN={content:["./src/**/*{.js,.jsx,.ts,.tsx,.html}","./index.html"],theme:{extend:{colors:{primary:"#252a34"}},fontFamily:{sans:["Gabarito, sans-serif",{fontVariationSettings:"'wght' 400"}]}},plugins:[]},jN=Object.freeze(Object.defineProperty({__proto__:null,default:zN},Symbol.toStringTag,{value:"Module"}));function Lb(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}function $N(){const[t,e]=ne.useState(Lb());return ne.useEffect(()=>{function r(){e(Lb())}return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}const GN=UN(jN);var jb;const HN=(jb=GN.theme)==null?void 0:jb.screens;function WN(t="lg"){const e=HN[t];return!LN.useMediaQuery({query:`(min-width: ${e})`})}const S2=()=>{const t=WN(),{width:e,height:r}=$N();return t?Math.max(e,r):Math.min(e,r)},VN=(t,e,r,n,i)=>e.map((o,l)=>{const c=new Float32Array([t[o[0]].x*n,t[o[0]].y*n,t[o[1]].x*n,t[o[1]].y*n,t[o[2]].x*n,t[o[2]].y*n]),h=new Float32Array([r[o[0]*2],r[o[0]*2+1],r[o[1]*2],r[o[1]*2+1],r[o[2]*2],r[o[2]*2+1]]);return V.jsx(NN,{image:i.mapImage,uvs:new Float32Array(h),vertices:new Float32Array(c)},`${i.displayName}-${l}`)}),XN=({viewSettings:t,hoveredPoint:e,timeness:r,city:n,onTick:i})=>{const s=S2(),o=e?{x:e.x/s,y:e.y/s}:null,l=()=>{const T=n.data,w=T.size,{grid:b,triangles:E}=JO(w,T),C=b.flat(),A=C.map(O=>({x:O.x,y:O.y,pinned:!1})).concat(C.map(O=>({x:O.x,y:O.y,pinned:!0})));let D=C.map((O,I)=>({from:I,to:I+C.length,length:0,strength:1,isAnchor:!0}));D=D.concat(nD(T));const M=new Float32Array(b.flat().map(O=>[O.uvX,O.uvY]).flat());return{grid:b,initialPositions:A,triangles:E,springs:D,flatUvs:M}},{grid:c,initialPositions:h,triangles:d,springs:p,flatUvs:m}=ne.useMemo(l,[n]),[y,v]=ne.useState(h);ne.useEffect(()=>{v(h)},[h]),wn.useTick(T=>{const w=T/60;i(w);let[b,E]=sD(y,p,w,t.focusOnHover?o:null,r,n.maxTimeness);v(b)});const x=VN(y,d,m,s,n);return V.jsx(V.Fragment,{children:V.jsxs(wn.Container,{children:[x,V.jsx(dD,{vertexPositions:y,grid:c,springs:p,viewSettings:t,normalizedHoveredPoint:o,mapSizePx:s})]})})};globalThis&&globalThis.__awaiter;function YN(t){const e=ne.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return T2(()=>{e.current=t},[t]),ne.useCallback((...r)=>e.current(...r),[e])}function Fb(t,e,r,n){const i=ne.useRef(e);T2(()=>{i.current=e},[e]),ne.useEffect(()=>{var s;const o=(s=r==null?void 0:r.current)!==null&&s!==void 0?s:window;if(!(o&&o.addEventListener))return;const l=c=>i.current(c);return o.addEventListener(t,l,n),()=>{o.removeEventListener(t,l,n)}},[t,r,n])}globalThis&&globalThis.__awaiter;const T2=typeof window<"u"?ne.useLayoutEffect:ne.useEffect;function QN(t,e){const r=ne.useCallback(()=>{if(typeof window>"u")return e;try{const l=window.localStorage.getItem(t);return l?KN(l):e}catch(l){return console.warn(`Error reading localStorage key ${t}:`,l),e}},[e,t]),[n,i]=ne.useState(r),s=YN(l=>{typeof window>"u"&&console.warn(`Tried setting localStorage key ${t} even though environment is not a client`);try{const c=l instanceof Function?l(n):l;window.localStorage.setItem(t,JSON.stringify(c)),i(c),window.dispatchEvent(new Event("local-storage"))}catch(c){console.warn(`Error setting localStorage key ${t}:`,c)}});ne.useEffect(()=>{i(r())},[]);const o=ne.useCallback(l=>{l!=null&&l.key&&l.key!==t||i(r())},[t,r]);return Fb("storage",o),Fb("local-storage",o),[n,s]}function KN(t){try{return t==="undefined"?void 0:JSON.parse(t??"")}catch{console.log("parsing error on",{value:t});return}}const qN="modulepreload",ZN=function(t){return"/"+t},Bb={},Ne=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=ZN(s),s in Bb)return;Bb[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const p=i[d];if(p.href===s&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":qN,o||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),o)return new Promise((d,p)=>{h.addEventListener("load",d),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Ub=(t,e)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((n,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e)))})},zy={newyork:{displayName:"New York City",maxTimeness:.15,mode:"car"},newyork_transit:{displayName:"New York City",maxTimeness:.15,mode:"public transport"},prague:{displayName:"Prague",maxTimeness:.05,mode:"car"},prague_transit:{displayName:"Prague",maxTimeness:.2,mode:"public transport"},zurich:{displayName:"Zrich",maxTimeness:.1,mode:"car"},zurich_transit:{displayName:"Zrich",maxTimeness:.2,mode:"public transport"},london:{displayName:"London",maxTimeness:.15,mode:"car"},london_transit:{displayName:"London",maxTimeness:.15,mode:"public transport"},london_detail:{displayName:"London",maxTimeness:.03,mode:"car"},london_detail_pedestrian:{displayName:"London",maxTimeness:.3,mode:"pedestrian"},losangeles:{displayName:"Los Angeles",maxTimeness:.3,mode:"car"},cairo:{displayName:"Cairo",maxTimeness:.15,mode:"car"},hongkong:{displayName:"Hong Kong",maxTimeness:.08,mode:"car"},lapaz:{displayName:"La Paz",maxTimeness:.15,mode:"car"},seattle_transit_rushhour:{displayName:"Seattle",maxTimeness:.15,mode:"public transport"},mumbai_transit:{displayName:"Mumbai",maxTimeness:.25,mode:"public transport"},pune:{displayName:"Pune",maxTimeness:.25,mode:"public transport"}},zb="newyork",JN=async t=>Promise.all([Ub(Object.assign({"./assets/cairo/grid_data.json":()=>Ne(()=>import("./grid_data-c55052bc.js"),[]),"./assets/hongkong/grid_data.json":()=>Ne(()=>import("./grid_data-acebd4f3.js"),[]),"./assets/lapaz/grid_data.json":()=>Ne(()=>import("./grid_data-401efebc.js"),[]),"./assets/london/grid_data.json":()=>Ne(()=>import("./grid_data-c0267388.js"),[]),"./assets/london_detail/grid_data.json":()=>Ne(()=>import("./grid_data-57d2f624.js"),[]),"./assets/london_detail_pedestrian/grid_data.json":()=>Ne(()=>import("./grid_data-34535486.js"),[]),"./assets/london_transit/grid_data.json":()=>Ne(()=>import("./grid_data-1053676c.js"),[]),"./assets/losangeles/grid_data.json":()=>Ne(()=>import("./grid_data-0235fbf9.js"),[]),"./assets/mumbai_transit/grid_data.json":()=>Ne(()=>import("./grid_data-68f5f9cc.js"),[]),"./assets/newyork/grid_data.json":()=>Ne(()=>import("./grid_data-e3102393.js"),[]),"./assets/newyork_transit/grid_data.json":()=>Ne(()=>import("./grid_data-ef6d8465.js"),[]),"./assets/prague/grid_data.json":()=>Ne(()=>import("./grid_data-98deaca0.js"),[]),"./assets/prague_debug_drive/grid_data.json":()=>Ne(()=>import("./grid_data-5d8fd80b.js"),[]),"./assets/prague_debug_transit/grid_data.json":()=>Ne(()=>import("./grid_data-e6c949f3.js"),[]),"./assets/prague_transit/grid_data.json":()=>Ne(()=>import("./grid_data-5100cf50.js"),[]),"./assets/pune/grid_data.json":()=>Ne(()=>import("./grid_data-c5f49908.js"),[]),"./assets/seattle_transit_rushhour/grid_data.json":()=>Ne(()=>import("./grid_data-692cc15f.js"),[]),"./assets/zurich/grid_data.json":()=>Ne(()=>import("./grid_data-14240095.js"),[]),"./assets/zurich_dev/grid_data.json":()=>Ne(()=>import("./grid_data-472ad164.js"),[]),"./assets/zurich_transit/grid_data.json":()=>Ne(()=>import("./grid_data-17d2ad2b.js"),[])}),`./assets/${t}/grid_data.json`),Ub(Object.assign({"./assets/cairo/map.png":()=>Ne(()=>import("./map-e2d450c4.js"),[]),"./assets/hongkong/map.png":()=>Ne(()=>import("./map-783bc406.js"),[]),"./assets/lapaz/map.png":()=>Ne(()=>import("./map-3aebb6ca.js"),[]),"./assets/london/map.png":()=>Ne(()=>import("./map-00f9d7db.js"),[]),"./assets/london_detail/map.png":()=>Ne(()=>import("./map-6b2389c4.js"),[]),"./assets/london_detail_pedestrian/map.png":()=>Ne(()=>import("./map-1f7d3d4a.js"),[]),"./assets/london_transit/map.png":()=>Ne(()=>import("./map-3a7ea8bf.js"),[]),"./assets/losangeles/map.png":()=>Ne(()=>import("./map-6c21b984.js"),[]),"./assets/mumbai_transit/map.png":()=>Ne(()=>import("./map-071ca09e.js"),[]),"./assets/newyork/map.png":()=>Ne(()=>import("./map-3b225271.js"),[]),"./assets/newyork_transit/map.png":()=>Ne(()=>import("./map-a3c9e72d.js"),[]),"./assets/prague/map.png":()=>Ne(()=>import("./map-1c6cf6bd.js"),[]),"./assets/prague_debug_drive/map.png":()=>Ne(()=>import("./map-58aa31a2.js"),[]),"./assets/prague_debug_transit/map.png":()=>Ne(()=>import("./map-f8b697c7.js"),[]),"./assets/prague_transit/map.png":()=>Ne(()=>import("./map-c7b327e6.js"),[]),"./assets/pune/map.png":()=>Ne(()=>import("./map-686f97fa.js"),[]),"./assets/seattle_transit_rushhour/map.png":()=>Ne(()=>import("./map-80da2396.js"),[]),"./assets/zurich/map.png":()=>Ne(()=>import("./map-9908919c.js"),[]),"./assets/zurich_dev/map.png":()=>Ne(()=>import("./map-0d0bce34.js"),[]),"./assets/zurich_transit/map.png":()=>Ne(()=>import("./map-945fcaed.js"),[])}),`./assets/${t}/map.png`)]).then(([e,r])=>({...zy[t],data:e.default,mapImage:r.default})),C2=(t,e)=>({...t,[e]:!t[e]}),eL=(t,e)=>{const n={KeyA:"animate",KeyS:"showGridNumbers",KeyD:"showGridPoints",KeyF:"showGrid",KeyH:"focusOnHover",KeyQ:"showSpringsByDistance",KeyW:"showSpringArrows"}[e];return n?C2(t,n):t},tL=({children:t,active:e,onClick:r})=>{const n=e?"bg-blue-600 hover:bg-blue-700":"bg-gray-600 hover:bg-gray-500";return V.jsx("button",{id:"dropdownDefaultButton",className:n+" text-white focus:outline-none font-medium rounded-lg text-sm px-4 py-2.5 text-center mx-1",type:"button",onClick:r,children:t})},rL=({viewSettings:t,setViewSettings:e})=>{const r=i=>{e(C2(t,i))},n=(i,s)=>{if(i==="showSpringsThreshold")throw new Error("Can't turn showSpringsThreshold into a button because it's a float");return V.jsx(tL,{active:t[i],onClick:()=>{r(i)},children:s})};return V.jsxs("div",{className:"space-y-2 -mx-1",children:[n("animate","Animate"),n("focusOnHover","Focus on hover"),n("showSpringArrows","Arrows"),n("showGrid","Grid")]})},nL=({text:t,onClick:e,selected:r=!1,setMenuOpen:n})=>{const i=r?"bg-gray-600":"";return V.jsx("li",{children:V.jsx("button",{className:`block px-4 py-2 hover:bg-gray-500 w-full ${i} plausible-event-name=City+switch`,onClick:()=>{e(),n(!1)},children:t})})},iL=({cityName:t,setCityName:e,setMenuOpen:r})=>{const[n,i]=ne.useState(!0);return V.jsxs("div",{className:"w-full",children:[V.jsxs("button",{id:"dropdownDefaultButton",onClick:()=>{i(!n)},className:"text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-800 focus:outline-none  focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center  inline-flex items-center w-full",type:"button",children:["City"," ",V.jsx("svg",{className:"w-2.5 h-2.5 ms-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:V.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),V.jsx("div",{id:"dropdown",className:"z-10 divide-y divide-gray-100 rounded-lg shadow w-full bg-gray-700 h-48 overflow-y-auto "+(n?"block":"hidden"),children:V.jsx("ul",{className:"py-2 text-sm text-gray-200","aria-labelledby":"dropdownDefaultButton",children:Object.entries(zy).map(([s,o])=>V.jsx(nL,{text:`${o.displayName} (${o.mode})`,onClick:()=>e(s),selected:t===s,setMenuOpen:r},s))})})]})},sL=({cityName:t,coordinates:e})=>{const r=encodeURIComponent(t),n=`https://www.google.com/maps/place/${r}/@${e.lat},${e.lng},12z`,i=`https://en.wikipedia.org/wiki/${r}`,s=`https://www.tripadvisor.com/Search?q=${r}`,o=`https://www.accuweather.com/en/search-locations?query=${r}`,l=`https://www.booking.com/searchresults.html?ss=${r}`,c=`https://www.lonelyplanet.com/search?q=${r}`,h=`https://www.timeout.com/search?q=${r}`,d=`https://www.airbnb.com/s/${r}/homes`;return V.jsxs("div",{className:"mt-4 space-y-2",children:[V.jsx("div",{className:"text-gray-400 font-medium mb-2",children:"External Links"}),V.jsxs("div",{className:"flex flex-wrap gap-2",children:[V.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600 text-white rounded-full text-sm hover:bg-blue-700 transition-colors flex items-center gap-1",children:[V.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M12 0C7.802 0 4 3.403 4 7.602C4 11.8 7.469 16.812 12 24C16.531 16.812 20 11.8 20 7.602C20 3.403 16.199 0 12 0ZM12 11C10.343 11 9 9.657 9 8C9 6.343 10.343 5 12 5C13.657 5 15 6.343 15 8C15 9.657 13.657 11 12 11Z"})}),"Maps"]}),V.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-gray-600 text-white rounded-full text-sm hover:bg-gray-700 transition-colors flex items-center gap-1",children:[V.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M12.09 13.119c-.936 1.932-2.217 4.548-2.853 5.728-.616 1.074-1.127.931-1.532.029-1.406-3.321-4.293-9.144-5.651-12.409-.251-.601-.441-.987-.619-1.139-.181-.15-.554-.24-1.122-.271C.103 5.033 0 4.982 0 4.898v-.455l.052-.045c.924-.005 5.401 0 5.401 0l.051.045v.434c0 .084-.103.135-.2.157-.74.108-.835.361-.492 1.005.646 1.212 3.636 7.254 4.172 8.286.095.18.261.15.349-.044.601-1.335 2.936-6.468 3.161-7.474.052-.245.025-.411-.221-.411-.71.016-.856.111-.965.398-.075.146-.254.415-.27.434-.072.085-.166.127-.284.127h-.257l.05-.045.028-.013c.563-.005 4.634 0 4.634 0l.023.045v.434c0 .084-.103.135-.2.157-.776.108-.97.361-.525 1.005.642 1.212 2.685 5.254 3.221 6.286.095.18.261.15.349-.044.601-1.335 1.936-4.468 2.161-5.474.052-.245.025-.411-.221-.411-.71.016-.856.111-.965.398-.075.146-.254.415-.27.434-.072.085-.166.127-.284.127h-.257l.05-.045v-.434c0-.084.103-.135.2-.157.776-.108.97-.361.525-1.005-.235-.477-3.886-7.944-4.127-8.452-.159-.331-.297-.419-.741-.419-1.136 0-.559.923-.397 1.763.323 1.696 3.592 7.27 3.592 7.27l3.591-7.27c.462-1.003-.149-1.763-.705-1.763-.157 0-.297.088-.456.419l-4.018 8.452z"})}),"Wiki"]}),V.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-yellow-600 text-white rounded-full text-sm hover:bg-yellow-700 transition-colors flex items-center gap-1",children:[V.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 22c-5.523 0-10-4.477-10-10S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-15c-2.761 0-5 2.239-5 5s2.239 5 5 5 5-2.239 5-5-2.239-5-5-5z"})}),"Weather"]}),V.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-800 text-white rounded-full text-sm hover:bg-blue-900 transition-colors flex items-center gap-1",children:[V.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V6h16v12zM6 10h2v2H6zm0 4h8v2H6zm10 0h2v2h-2zm-6-4h8v2h-8z"})}),"Hotels"]}),V.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-red-500 text-white rounded-full text-sm hover:bg-red-600 transition-colors flex items-center gap-1",children:[V.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 22c-5.523 0-10-4.477-10-10S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-15c-2.761 0-5 2.239-5 5s2.239 5 5 5 5-2.239 5-5-2.239-5-5-5z"})}),"Airbnb"]}),V.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-green-600 text-white rounded-full text-sm hover:bg-green-700 transition-colors flex items-center gap-1",children:[V.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M12.006 0C6.485 0 2 4.485 2 10.006c0 5.52 4.485 10.006 10.006 10.006 5.52 0 10.006-4.485 10.006-10.006C22.012 4.485 17.526 0 12.006 0zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})}),"Reviews"]}),V.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-purple-600 text-white rounded-full text-sm hover:bg-purple-700 transition-colors flex items-center gap-1",children:[V.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),"Guide"]}),V.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-pink-600 text-white rounded-full text-sm hover:bg-pink-700 transition-colors flex items-center gap-1",children:[V.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),"Events"]})]})]})},oL=({cityName:t})=>{const r=(n=>{switch(n){case"New York City":return{transit_type:"Subway, Bus, Train",peak_hours:"7:30-9:30 AM, 4:30-6:30 PM",traffic_score:"8.9/10",main_stations:["Grand Central","Penn Station","Times Square"],transit_facts:["Largest subway system in the world by stations","24/7 subway operation","Over 850 miles of subway track","Connects to regional rail networks"]};case"London":return{transit_type:"Underground, Bus, Train",peak_hours:"8:00-9:30 AM, 4:30-6:00 PM",traffic_score:"8.5/10",main_stations:["King's Cross","Waterloo","Victoria"],transit_facts:["World's oldest underground railway","Iconic double-decker buses","Extensive night bus network","Oyster card payment system"]};case"Tokyo":return{transit_type:"Metro, Train, Bus",peak_hours:"7:30-9:00 AM, 5:30-7:00 PM",traffic_score:"9.5/10",main_stations:["Shinjuku","Tokyo","Shibuya"],transit_facts:["Most punctual train system globally","Complex but efficient network","Advanced IC card system","Multiple private railway companies"]};default:return{transit_type:"Various",peak_hours:"Morning and Evening",traffic_score:"N/A",main_stations:["Central Station"],transit_facts:["Local public transportation available","Multiple transit options","Connected to regional networks","Regular service hours"]}}})(t);return V.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4 h-full",children:[V.jsxs("div",{className:"flex items-center justify-between mb-3",children:[V.jsx("h2",{className:"text-lg font-semibold text-blue-300",children:"Transit & Traffic"}),V.jsx("span",{className:"text-xs px-2 py-1 bg-blue-900 text-blue-200 rounded-full",children:r.transit_type})]}),V.jsxs("div",{className:"space-y-2 text-sm",children:[V.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-600",children:[V.jsx("span",{className:"text-gray-400",children:"Peak Hours"}),V.jsx("span",{className:"text-gray-200",children:r.peak_hours})]}),V.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-600",children:[V.jsx("span",{className:"text-gray-400",children:"Transit Score"}),V.jsx("span",{className:"text-gray-200",children:r.traffic_score})]}),V.jsxs("div",{className:"py-1 border-b border-gray-600",children:[V.jsx("span",{className:"text-gray-400",children:"Main Stations"}),V.jsx("div",{className:"mt-2 space-y-1",children:r.main_stations.map((n,i)=>V.jsxs("div",{className:"text-gray-200 flex items-center",children:[V.jsx("svg",{className:"w-3 h-3 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:V.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})}),n]},i))})]}),V.jsxs("div",{className:"mt-3",children:[V.jsx("div",{className:"text-gray-400 font-medium mb-2",children:"Transit Facts"}),V.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-200 pl-2",children:r.transit_facts.map((n,i)=>V.jsx("li",{children:n},i))})]})]})]})},aL=t=>{switch(t){case"Pune":return{formatted_address:"Pune, Maharashtra, India",geometry:{location:{lat:18.5246091,lng:73.8786239}}};case"New York City":return{formatted_address:"New York, NY, USA",geometry:{location:{lat:40.7128,lng:-74.006}}};default:return{formatted_address:`${t}`,geometry:{location:{lat:0,lng:0}}}}},lL=t=>{switch(t){case"Pune":return{population:"7.4 million (2020)",elevation:"560 meters",nickname:"Oxford of the East",facts:["Major IT and automobile hub","Cultural capital of Maharashtra","Historical capital of the Maratha Empire","Home to numerous educational institutions"]};default:return null}},uL=ne.forwardRef(({timeness:t,setTimeness:e,isMenuOpen:r,setMenuOpen:n,cityName:i,setCityName:s,viewSettings:o,setViewSettings:l},c)=>{const h=zy[i],d=aL(h.displayName),p=lL(h.displayName),[m,y]=ne.useState("info");return V.jsx("div",{ref:c,className:"fixed top-0 right-0 h-screen w-[85vw] sm:w-[450px] lg:w-[600px] bg-gray-800 shadow-xl flex flex-col",children:V.jsxs("div",{className:"flex flex-col lg:flex-row h-full overflow-hidden",children:[V.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col min-h-0",children:[V.jsx("div",{className:"p-3 bg-gray-700 border-b border-gray-600",children:V.jsx(iL,{cityName:i,setCityName:s,setMenuOpen:n})}),V.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:V.jsxs("div",{className:"space-y-3",children:[V.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[V.jsxs("div",{className:"flex items-center justify-between mb-2",children:[V.jsx("h2",{className:"text-base font-semibold text-blue-300",children:h.displayName}),V.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-900 text-blue-200 rounded-full",children:h.mode.replace("_"," ")})]}),V.jsxs("div",{className:"space-y-1.5 text-sm",children:[V.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-600",children:[V.jsx("span",{className:"text-gray-400",children:"Location"}),V.jsx("span",{className:"text-gray-200",children:d.formatted_address})]}),p&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-600",children:[V.jsx("span",{className:"text-gray-400",children:"Population"}),V.jsx("span",{className:"text-gray-200",children:p.population})]}),V.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-600",children:[V.jsx("span",{className:"text-gray-400",children:"Elevation"}),V.jsx("span",{className:"text-gray-200",children:p.elevation})]}),V.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-600",children:[V.jsx("span",{className:"text-gray-400",children:"Known as"}),V.jsx("span",{className:"text-gray-200",children:p.nickname})]})]})]})]}),V.jsx(sL,{cityName:h.displayName,coordinates:d.geometry.location})]})})]}),V.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col min-h-0 border-t lg:border-t-0 lg:border-l border-gray-600",children:[V.jsxs("div",{className:"flex border-b border-gray-600",children:[V.jsx("button",{onClick:()=>y("info"),className:`flex-1 px-3 py-2 text-sm font-medium ${m==="info"?"bg-gray-700 text-blue-300 border-b-2 border-blue-300":"text-gray-400 hover:text-gray-200"}`,children:"City Facts & Settings"}),V.jsx("button",{onClick:()=>y("traffic"),className:`flex-1 px-3 py-2 text-sm font-medium ${m==="traffic"?"bg-gray-700 text-blue-300 border-b-2 border-blue-300":"text-gray-400 hover:text-gray-200"}`,children:"Traffic & Transit"})]}),V.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:m==="info"?V.jsxs("div",{className:"space-y-3",children:[p&&V.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[V.jsx("h3",{className:"text-base font-semibold text-blue-300 mb-2",children:"Key Facts"}),V.jsx("ul",{className:"list-disc list-inside space-y-1.5 text-sm text-gray-200",children:p.facts.map((v,x)=>V.jsx("li",{children:v},x))})]}),V.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[V.jsx("h3",{className:"text-base font-semibold text-blue-300 mb-2",children:"View Settings"}),V.jsx(rL,{viewSettings:o,setViewSettings:l})]}),V.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[V.jsx("h3",{className:"text-base font-semibold text-blue-300 mb-2",children:"About"}),V.jsx("p",{className:"text-sm text-gray-200",children:"Time-Based Map Visualization reimagines geography based on travel time rather than physical distance. Click and hold to switch to Time Mode to see how travel times affect spatial relationships."})]})]}):V.jsxs("div",{className:"space-y-3",children:[V.jsx(oL,{cityName:h.displayName}),V.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[V.jsx("h3",{className:"text-base font-semibold text-blue-300 mb-2",children:"Transit Tips"}),V.jsx("p",{className:"text-sm text-gray-200",children:"Use the time-based visualization to understand how public transit and traffic patterns affect travel times throughout the city. Areas with better transit connections will appear closer together."})]})]})}),V.jsx("div",{className:"p-3 bg-gray-700 border-t border-gray-600",children:V.jsxs("div",{className:"flex items-center justify-between text-xs",children:[V.jsxs("div",{className:"text-gray-400",children:["By"," ",V.jsx("a",{href:"https://soham-poshiya.netlify.app/",className:"underline hover:text-blue-300 transition-colors",children:"Soham Poshiya"})]}),V.jsx("div",{className:"text-gray-500",children:"Map data Google"})]})})]})]})})});function cL(t,e){const[r,n]=f3();return[r.get(t)??e,l=>{const c=Object.assign({},[...r.entries()].reduce((h,[d,p])=>({...h,[d]:p}),{}),{[t]:l});n(c)}]}const hL=(t,e,r)=>Math.min(Math.max(t,e),r),dL=t=>hL(Math.sin(t*Math.PI*2/5)*(.5+.05)+(.5-.05),0,1),fL=(t,e)=>{const r=t%e/e;return r<.5?2*r:2*(1-r)},pL=()=>{const[t,e]=QN("SpacetimeMap.viewSettings",{animate:!1,focusOnHover:!1,showSpringArrows:!1,showGridPoints:!1,showGrid:!1,showGridNumbers:!1,showSpringsByDistance:!1,showSpringsThreshold:0}),[r,n]=ne.useState(null),[i,s]=ne.useState(0),[o,l]=cL("city",zb),[c,h]=ne.useState(null),[d,p]=ne.useState(0),m=S2(),y=ne.useRef(null),v=x=>{p(d+x),t.showSpringsByDistance&&e({...t,showSpringsThreshold:fL(d,20)}),t.animate&&s(dL(d))};return ne.useEffect(()=>{JN(o).then(x=>{h(x)},x=>{x.toString().includes("Unknown variable dynamic import")?(console.error(`City "${o}" not found, resetting`),l(zb)):console.error("Error fetching city data",x)})},[o]),V.jsxs("div",{children:[V.jsxs("div",{tabIndex:0,onKeyDown:x=>{e(eL(t,x.code))},onPointerMove:x=>{n({x:x.clientX,y:x.clientY})},onTouchStart:x=>{n({x:x.touches[0].clientX,y:x.touches[0].clientY})},onTouchMove:x=>{n({x:x.touches[0].clientX,y:x.touches[0].clientY})},onTouchEnd:x=>{n(null)},className:"absolute -z-10 select-none",children:[V.jsxs(wn.Stage,{width:m,height:m,options:{autoDensity:!0,backgroundColor:15659509},children:[c===null&&V.jsx(wn.Container,{children:V.jsx(wn.Text,{text:"Loading...",anchor:.5,x:m/2,y:m/2})}),c!==null&&V.jsx(XN,{viewSettings:t,hoveredPoint:r,timeness:i,city:c,onTick:v})]}),V.jsx("div",{className:"absolute top-0 left-0 w-full h-full z-10"})]}),V.jsx(uL,{ref:y,timeness:i,setTimeness:s,isMenuOpen:!0,setMenuOpen:()=>{},cityName:o,setCityName:l,viewSettings:t,setViewSettings:e})]})},mL=()=>V.jsx(d3,{children:V.jsx(u3,{children:V.jsx(hS,{index:!0,element:V.jsx(pL,{})})})}),gL=Rm.createRoot(document.getElementById("root"));gL.render(V.jsx(Tn.StrictMode,{children:V.jsx(mL,{})}))});export default yL();
